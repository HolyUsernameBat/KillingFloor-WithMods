<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>UnCodeX - Source: ROEngine.ROHud</title>
	<meta name="Generator" content="UnCodeX 241" />
	<link rel="stylesheet" href="../DocStyle2.css" type="text/css" title="Original Purple" />
	<link rel="alternative stylesheet" href="../DocStyle2-blue.css" type="text/css" title="Blue" />
	<link rel="alternative stylesheet" href="../DocStyle2-red.css" type="text/css" title="Red" />
	<!--[if IE]>
	<link rel="stylesheet" href="../DocStyle2-msie.css" type="text/css" />
	<![endif]-->
	<script src="../styleswitcher.js" type="text/javascript"></script>
</head>
<body>

<div class="header">
<table class="header">
<tr class="header">
	<td class="header"><a href="../overview.html">Overview</a></td>
	<td class="header"><a href="../roengine/roengine-overview.html">Package</a></td>
	<td class="header"><a href="../roengine/rohud.html">Class</a></td>
	<td class="header_hilight">Source</td>
	<td class="header"><a class="header" href="../classtree.html#ROHud">Class tree</a></td>
	<td class="header"><a class="header" href="../glossary_A.html">Glossary</a></td>
	<td class="logo" rowspan="2">UnrealScript<br />Documentation</td>
</tr>
<tr>
	<td class="subheader" colspan="3"><a href="../Source_roengine/rohovertreadcraft.html">previous class</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="../Source_roengine/rolastobjectivemsg.html">next class</a></td>
	<td class="subheader" colspan="2"><a href="../index.html#Source_roengine/rohud.html" target="_top">frames</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="" target="_top">no frames</a></td>
</tr>
</table>
</div>
<div class="spacer"></div>

<h1><a href="../roengine/roengine-overview.html">ROEngine</a>.<a href="../roengine/rohud.html">ROHud</a></h1>
<br />
<div class="source"><table class="source"><tr><td class="source_lineno"><span class="source_lineno">00001<br />00002<br />00003<br />00004<br />00005<br />00006<br />00007<br />00008<br />00009<br />00010<br />00011<br />00012<br />00013<br />00014<br />00015<br />00016<br />00017<br />00018<br />00019<br />00020<br />
00021<br />00022<br />00023<br />00024<br />00025<br />00026<br />00027<br />00028<br />00029<br />00030<br />00031<br />00032<br />00033<br />00034<br />00035<br />00036<br />00037<br />00038<br />00039<br />00040<br />
00041<br />00042<br />00043<br />00044<br />00045<br />00046<br />00047<br />00048<br />00049<br />00050<br />00051<br />00052<br />00053<br />00054<br />00055<br />00056<br />00057<br />00058<br />00059<br />00060<br />
00061<br />00062<br />00063<br />00064<br />00065<br />00066<br />00067<br />00068<br />00069<br />00070<br />00071<br />00072<br />00073<br />00074<br />00075<br />00076<br />00077<br />00078<br />00079<br />00080<br />
00081<br />00082<br />00083<br />00084<br />00085<br />00086<br />00087<br />00088<br />00089<br />00090<br />00091<br />00092<br />00093<br />00094<br />00095<br />00096<br />00097<br />00098<br />00099<br />00100<br />
00101<br />00102<br />00103<br />00104<br />00105<br />00106<br />00107<br />00108<br />00109<br />00110<br />00111<br />00112<br />00113<br />00114<br />00115<br />00116<br />00117<br />00118<br />00119<br />00120<br />
00121<br />00122<br />00123<br />00124<br />00125<br />00126<br />00127<br />00128<br />00129<br />00130<br />00131<br />00132<br />00133<br />00134<br />00135<br />00136<br />00137<br />00138<br />00139<br />00140<br />
00141<br />00142<br />00143<br />00144<br />00145<br />00146<br />00147<br />00148<br />00149<br />00150<br />00151<br />00152<br />00153<br />00154<br />00155<br />00156<br />00157<br />00158<br />00159<br />00160<br />
00161<br />00162<br />00163<br />00164<br />00165<br />00166<br />00167<br />00168<br />00169<br />00170<br />00171<br />00172<br />00173<br />00174<br />00175<br />00176<br />00177<br />00178<br />00179<br />00180<br />
00181<br />00182<br />00183<br />00184<br />00185<br />00186<br />00187<br />00188<br />00189<br />00190<br />00191<br />00192<br />00193<br />00194<br />00195<br />00196<br />00197<br />00198<br />00199<br />00200<br />
00201<br />00202<br />00203<br />00204<br />00205<br />00206<br />00207<br />00208<br />00209<br />00210<br />00211<br />00212<br />00213<br />00214<br />00215<br />00216<br />00217<br />00218<br />00219<br />00220<br />
00221<br />00222<br />00223<br />00224<br />00225<br />00226<br />00227<br />00228<br />00229<br />00230<br />00231<br />00232<br />00233<br />00234<br />00235<br />00236<br />00237<br />00238<br />00239<br />00240<br />
00241<br />00242<br />00243<br />00244<br />00245<br />00246<br />00247<br />00248<br />00249<br />00250<br />00251<br />00252<br />00253<br />00254<br />00255<br />00256<br />00257<br />00258<br />00259<br />00260<br />
00261<br />00262<br />00263<br />00264<br />00265<br />00266<br />00267<br />00268<br />00269<br />00270<br />00271<br />00272<br />00273<br />00274<br />00275<br />00276<br />00277<br />00278<br />00279<br />00280<br />
00281<br />00282<br />00283<br />00284<br />00285<br />00286<br />00287<br />00288<br />00289<br />00290<br />00291<br />00292<br />00293<br />00294<br />00295<br />00296<br />00297<br />00298<br />00299<br />00300<br />
00301<br />00302<br />00303<br />00304<br />00305<br />00306<br />00307<br />00308<br />00309<br />00310<br />00311<br />00312<br />00313<br />00314<br />00315<br />00316<br />00317<br />00318<br />00319<br />00320<br />
00321<br />00322<br />00323<br />00324<br />00325<br />00326<br />00327<br />00328<br />00329<br />00330<br />00331<br />00332<br />00333<br />00334<br />00335<br />00336<br />00337<br />00338<br />00339<br />00340<br />
00341<br />00342<br />00343<br />00344<br />00345<br />00346<br />00347<br />00348<br />00349<br />00350<br />00351<br />00352<br />00353<br />00354<br />00355<br />00356<br />00357<br />00358<br />00359<br />00360<br />
00361<br />00362<br />00363<br />00364<br />00365<br />00366<br />00367<br />00368<br />00369<br />00370<br />00371<br />00372<br />00373<br />00374<br />00375<br />00376<br />00377<br />00378<br />00379<br />00380<br />
00381<br />00382<br />00383<br />00384<br />00385<br />00386<br />00387<br />00388<br />00389<br />00390<br />00391<br />00392<br />00393<br />00394<br />00395<br />00396<br />00397<br />00398<br />00399<br />00400<br />
00401<br />00402<br />00403<br />00404<br />00405<br />00406<br />00407<br />00408<br />00409<br />00410<br />00411<br />00412<br />00413<br />00414<br />00415<br />00416<br />00417<br />00418<br />00419<br />00420<br />
00421<br />00422<br />00423<br />00424<br />00425<br />00426<br />00427<br />00428<br />00429<br />00430<br />00431<br />00432<br />00433<br />00434<br />00435<br />00436<br />00437<br />00438<br />00439<br />00440<br />
00441<br />00442<br />00443<br />00444<br />00445<br />00446<br />00447<br />00448<br />00449<br />00450<br />00451<br />00452<br />00453<br />00454<br />00455<br />00456<br />00457<br />00458<br />00459<br />00460<br />
00461<br />00462<br />00463<br />00464<br />00465<br />00466<br />00467<br />00468<br />00469<br />00470<br />00471<br />00472<br />00473<br />00474<br />00475<br />00476<br />00477<br />00478<br />00479<br />00480<br />
00481<br />00482<br />00483<br />00484<br />00485<br />00486<br />00487<br />00488<br />00489<br />00490<br />00491<br />00492<br />00493<br />00494<br />00495<br />00496<br />00497<br />00498<br />00499<br />00500<br />
00501<br />00502<br />00503<br />00504<br />00505<br />00506<br />00507<br />00508<br />00509<br />00510<br />00511<br />00512<br />00513<br />00514<br />00515<br />00516<br />00517<br />00518<br />00519<br />00520<br />
00521<br />00522<br />00523<br />00524<br />00525<br />00526<br />00527<br />00528<br />00529<br />00530<br />00531<br />00532<br />00533<br />00534<br />00535<br />00536<br />00537<br />00538<br />00539<br />00540<br />
00541<br />00542<br />00543<br />00544<br />00545<br />00546<br />00547<br />00548<br />00549<br />00550<br />00551<br />00552<br />00553<br />00554<br />00555<br />00556<br />00557<br />00558<br />00559<br />00560<br />
00561<br />00562<br />00563<br />00564<br />00565<br />00566<br />00567<br />00568<br />00569<br />00570<br />00571<br />00572<br />00573<br />00574<br />00575<br />00576<br />00577<br />00578<br />00579<br />00580<br />
00581<br />00582<br />00583<br />00584<br />00585<br />00586<br />00587<br />00588<br />00589<br />00590<br />00591<br />00592<br />00593<br />00594<br />00595<br />00596<br />00597<br />00598<br />00599<br />00600<br />
00601<br />00602<br />00603<br />00604<br />00605<br />00606<br />00607<br />00608<br />00609<br />00610<br />00611<br />00612<br />00613<br />00614<br />00615<br />00616<br />00617<br />00618<br />00619<br />00620<br />
00621<br />00622<br />00623<br />00624<br />00625<br />00626<br />00627<br />00628<br />00629<br />00630<br />00631<br />00632<br />00633<br />00634<br />00635<br />00636<br />00637<br />00638<br />00639<br />00640<br />
00641<br />00642<br />00643<br />00644<br />00645<br />00646<br />00647<br />00648<br />00649<br />00650<br />00651<br />00652<br />00653<br />00654<br />00655<br />00656<br />00657<br />00658<br />00659<br />00660<br />
00661<br />00662<br />00663<br />00664<br />00665<br />00666<br />00667<br />00668<br />00669<br />00670<br />00671<br />00672<br />00673<br />00674<br />00675<br />00676<br />00677<br />00678<br />00679<br />00680<br />
00681<br />00682<br />00683<br />00684<br />00685<br />00686<br />00687<br />00688<br />00689<br />00690<br />00691<br />00692<br />00693<br />00694<br />00695<br />00696<br />00697<br />00698<br />00699<br />00700<br />
00701<br />00702<br />00703<br />00704<br />00705<br />00706<br />00707<br />00708<br />00709<br />00710<br />00711<br />00712<br />00713<br />00714<br />00715<br />00716<br />00717<br />00718<br />00719<br />00720<br />
00721<br />00722<br />00723<br />00724<br />00725<br />00726<br />00727<br />00728<br />00729<br />00730<br />00731<br />00732<br />00733<br />00734<br />00735<br />00736<br />00737<br />00738<br />00739<br />00740<br />
00741<br />00742<br />00743<br />00744<br />00745<br />00746<br />00747<br />00748<br />00749<br />00750<br />00751<br />00752<br />00753<br />00754<br />00755<br />00756<br />00757<br />00758<br />00759<br />00760<br />
00761<br />00762<br />00763<br />00764<br />00765<br />00766<br />00767<br />00768<br />00769<br />00770<br />00771<br />00772<br />00773<br />00774<br />00775<br />00776<br />00777<br />00778<br />00779<br />00780<br />
00781<br />00782<br />00783<br />00784<br />00785<br />00786<br />00787<br />00788<br />00789<br />00790<br />00791<br />00792<br />00793<br />00794<br />00795<br />00796<br />00797<br />00798<br />00799<br />00800<br />
00801<br />00802<br />00803<br />00804<br />00805<br />00806<br />00807<br />00808<br />00809<br />00810<br />00811<br />00812<br />00813<br />00814<br />00815<br />00816<br />00817<br />00818<br />00819<br />00820<br />
00821<br />00822<br />00823<br />00824<br />00825<br />00826<br />00827<br />00828<br />00829<br />00830<br />00831<br />00832<br />00833<br />00834<br />00835<br />00836<br />00837<br />00838<br />00839<br />00840<br />
00841<br />00842<br />00843<br />00844<br />00845<br />00846<br />00847<br />00848<br />00849<br />00850<br />00851<br />00852<br />00853<br />00854<br />00855<br />00856<br />00857<br />00858<br />00859<br />00860<br />
00861<br />00862<br />00863<br />00864<br />00865<br />00866<br />00867<br />00868<br />00869<br />00870<br />00871<br />00872<br />00873<br />00874<br />00875<br />00876<br />00877<br />00878<br />00879<br />00880<br />
00881<br />00882<br />00883<br />00884<br />00885<br />00886<br />00887<br />00888<br />00889<br />00890<br />00891<br />00892<br />00893<br />00894<br />00895<br />00896<br />00897<br />00898<br />00899<br />00900<br />
00901<br />00902<br />00903<br />00904<br />00905<br />00906<br />00907<br />00908<br />00909<br />00910<br />00911<br />00912<br />00913<br />00914<br />00915<br />00916<br />00917<br />00918<br />00919<br />00920<br />
00921<br />00922<br />00923<br />00924<br />00925<br />00926<br />00927<br />00928<br />00929<br />00930<br />00931<br />00932<br />00933<br />00934<br />00935<br />00936<br />00937<br />00938<br />00939<br />00940<br />
00941<br />00942<br />00943<br />00944<br />00945<br />00946<br />00947<br />00948<br />00949<br />00950<br />00951<br />00952<br />00953<br />00954<br />00955<br />00956<br />00957<br />00958<br />00959<br />00960<br />
00961<br />00962<br />00963<br />00964<br />00965<br />00966<br />00967<br />00968<br />00969<br />00970<br />00971<br />00972<br />00973<br />00974<br />00975<br />00976<br />00977<br />00978<br />00979<br />00980<br />
00981<br />00982<br />00983<br />00984<br />00985<br />00986<br />00987<br />00988<br />00989<br />00990<br />00991<br />00992<br />00993<br />00994<br />00995<br />00996<br />00997<br />00998<br />00999<br />01000<br />
01001<br />01002<br />01003<br />01004<br />01005<br />01006<br />01007<br />01008<br />01009<br />01010<br />01011<br />01012<br />01013<br />01014<br />01015<br />01016<br />01017<br />01018<br />01019<br />01020<br />
01021<br />01022<br />01023<br />01024<br />01025<br />01026<br />01027<br />01028<br />01029<br />01030<br />01031<br />01032<br />01033<br />01034<br />01035<br />01036<br />01037<br />01038<br />01039<br />01040<br />
01041<br />01042<br />01043<br />01044<br />01045<br />01046<br />01047<br />01048<br />01049<br />01050<br />01051<br />01052<br />01053<br />01054<br />01055<br />01056<br />01057<br />01058<br />01059<br />01060<br />
01061<br />01062<br />01063<br />01064<br />01065<br />01066<br />01067<br />01068<br />01069<br />01070<br />01071<br />01072<br />01073<br />01074<br />01075<br />01076<br />01077<br />01078<br />01079<br />01080<br />
01081<br />01082<br />01083<br />01084<br />01085<br />01086<br />01087<br />01088<br />01089<br />01090<br />01091<br />01092<br />01093<br />01094<br />01095<br />01096<br />01097<br />01098<br />01099<br />01100<br />
01101<br />01102<br />01103<br />01104<br />01105<br />01106<br />01107<br />01108<br />01109<br />01110<br />01111<br />01112<br />01113<br />01114<br />01115<br />01116<br />01117<br />01118<br />01119<br />01120<br />
01121<br />01122<br />01123<br />01124<br />01125<br />01126<br />01127<br />01128<br />01129<br />01130<br />01131<br />01132<br />01133<br />01134<br />01135<br />01136<br />01137<br />01138<br />01139<br />01140<br />
01141<br />01142<br />01143<br />01144<br />01145<br />01146<br />01147<br />01148<br />01149<br />01150<br />01151<br />01152<br />01153<br />01154<br />01155<br />01156<br />01157<br />01158<br />01159<br />01160<br />
01161<br />01162<br />01163<br />01164<br />01165<br />01166<br />01167<br />01168<br />01169<br />01170<br />01171<br />01172<br />01173<br />01174<br />01175<br />01176<br />01177<br />01178<br />01179<br />01180<br />
01181<br />01182<br />01183<br />01184<br />01185<br />01186<br />01187<br />01188<br />01189<br />01190<br />01191<br />01192<br />01193<br />01194<br />01195<br />01196<br />01197<br />01198<br />01199<br />01200<br />
01201<br />01202<br />01203<br />01204<br />01205<br />01206<br />01207<br />01208<br />01209<br />01210<br />01211<br />01212<br />01213<br />01214<br />01215<br />01216<br />01217<br />01218<br />01219<br />01220<br />
01221<br />01222<br />01223<br />01224<br />01225<br />01226<br />01227<br />01228<br />01229<br />01230<br />01231<br />01232<br />01233<br />01234<br />01235<br />01236<br />01237<br />01238<br />01239<br />01240<br />
01241<br />01242<br />01243<br />01244<br />01245<br />01246<br />01247<br />01248<br />01249<br />01250<br />01251<br />01252<br />01253<br />01254<br />01255<br />01256<br />01257<br />01258<br />01259<br />01260<br />
01261<br />01262<br />01263<br />01264<br />01265<br />01266<br />01267<br />01268<br />01269<br />01270<br />01271<br />01272<br />01273<br />01274<br />01275<br />01276<br />01277<br />01278<br />01279<br />01280<br />
01281<br />01282<br />01283<br />01284<br />01285<br />01286<br />01287<br />01288<br />01289<br />01290<br />01291<br />01292<br />01293<br />01294<br />01295<br />01296<br />01297<br />01298<br />01299<br />01300<br />
01301<br />01302<br />01303<br />01304<br />01305<br />01306<br />01307<br />01308<br />01309<br />01310<br />01311<br />01312<br />01313<br />01314<br />01315<br />01316<br />01317<br />01318<br />01319<br />01320<br />
01321<br />01322<br />01323<br />01324<br />01325<br />01326<br />01327<br />01328<br />01329<br />01330<br />01331<br />01332<br />01333<br />01334<br />01335<br />01336<br />01337<br />01338<br />01339<br />01340<br />
01341<br />01342<br />01343<br />01344<br />01345<br />01346<br />01347<br />01348<br />01349<br />01350<br />01351<br />01352<br />01353<br />01354<br />01355<br />01356<br />01357<br />01358<br />01359<br />01360<br />
01361<br />01362<br />01363<br />01364<br />01365<br />01366<br />01367<br />01368<br />01369<br />01370<br />01371<br />01372<br />01373<br />01374<br />01375<br />01376<br />01377<br />01378<br />01379<br />01380<br />
01381<br />01382<br />01383<br />01384<br />01385<br />01386<br />01387<br />01388<br />01389<br />01390<br />01391<br />01392<br />01393<br />01394<br />01395<br />01396<br />01397<br />01398<br />01399<br />01400<br />
01401<br />01402<br />01403<br />01404<br />01405<br />01406<br />01407<br />01408<br />01409<br />01410<br />01411<br />01412<br />01413<br />01414<br />01415<br />01416<br />01417<br />01418<br />01419<br />01420<br />
01421<br />01422<br />01423<br />01424<br />01425<br />01426<br />01427<br />01428<br />01429<br />01430<br />01431<br />01432<br />01433<br />01434<br />01435<br />01436<br />01437<br />01438<br />01439<br />01440<br />
01441<br />01442<br />01443<br />01444<br />01445<br />01446<br />01447<br />01448<br />01449<br />01450<br />01451<br />01452<br />01453<br />01454<br />01455<br />01456<br />01457<br />01458<br />01459<br />01460<br />
01461<br />01462<br />01463<br />01464<br />01465<br />01466<br />01467<br />01468<br />01469<br />01470<br />01471<br />01472<br />01473<br />01474<br />01475<br />01476<br />01477<br />01478<br />01479<br />01480<br />
01481<br />01482<br />01483<br />01484<br />01485<br />01486<br />01487<br />01488<br />01489<br />01490<br />01491<br />01492<br />01493<br />01494<br />01495<br />01496<br />01497<br />01498<br />01499<br />01500<br />
01501<br />01502<br />01503<br />01504<br />01505<br />01506<br />01507<br />01508<br />01509<br />01510<br />01511<br />01512<br />01513<br />01514<br />01515<br />01516<br />01517<br />01518<br />01519<br />01520<br />
01521<br />01522<br />01523<br />01524<br />01525<br />01526<br />01527<br />01528<br />01529<br />01530<br />01531<br />01532<br />01533<br />01534<br />01535<br />01536<br />01537<br />01538<br />01539<br />01540<br />
01541<br />01542<br />01543<br />01544<br />01545<br />01546<br />01547<br />01548<br />01549<br />01550<br />01551<br />01552<br />01553<br />01554<br />01555<br />01556<br />01557<br />01558<br />01559<br />01560<br />
01561<br />01562<br />01563<br />01564<br />01565<br />01566<br />01567<br />01568<br />01569<br />01570<br />01571<br />01572<br />01573<br />01574<br />01575<br />01576<br />01577<br />01578<br />01579<br />01580<br />
01581<br />01582<br />01583<br />01584<br />01585<br />01586<br />01587<br />01588<br />01589<br />01590<br />01591<br />01592<br />01593<br />01594<br />01595<br />01596<br />01597<br />01598<br />01599<br />01600<br />
01601<br />01602<br />01603<br />01604<br />01605<br />01606<br />01607<br />01608<br />01609<br />01610<br />01611<br />01612<br />01613<br />01614<br />01615<br />01616<br />01617<br />01618<br />01619<br />01620<br />
01621<br />01622<br />01623<br />01624<br />01625<br />01626<br />01627<br />01628<br />01629<br />01630<br />01631<br />01632<br />01633<br />01634<br />01635<br />01636<br />01637<br />01638<br />01639<br />01640<br />
01641<br />01642<br />01643<br />01644<br />01645<br />01646<br />01647<br />01648<br />01649<br />01650<br />01651<br />01652<br />01653<br />01654<br />01655<br />01656<br />01657<br />01658<br />01659<br />01660<br />
01661<br />01662<br />01663<br />01664<br />01665<br />01666<br />01667<br />01668<br />01669<br />01670<br />01671<br />01672<br />01673<br />01674<br />01675<br />01676<br />01677<br />01678<br />01679<br />01680<br />
01681<br />01682<br />01683<br />01684<br />01685<br />01686<br />01687<br />01688<br />01689<br />01690<br />01691<br />01692<br />01693<br />01694<br />01695<br />01696<br />01697<br />01698<br />01699<br />01700<br />
01701<br />01702<br />01703<br />01704<br />01705<br />01706<br />01707<br />01708<br />01709<br />01710<br />01711<br />01712<br />01713<br />01714<br />01715<br />01716<br />01717<br />01718<br />01719<br />01720<br />
01721<br />01722<br />01723<br />01724<br />01725<br />01726<br />01727<br />01728<br />01729<br />01730<br />01731<br />01732<br />01733<br />01734<br />01735<br />01736<br />01737<br />01738<br />01739<br />01740<br />
01741<br />01742<br />01743<br />01744<br />01745<br />01746<br />01747<br />01748<br />01749<br />01750<br />01751<br />01752<br />01753<br />01754<br />01755<br />01756<br />01757<br />01758<br />01759<br />01760<br />
01761<br />01762<br />01763<br />01764<br />01765<br />01766<br />01767<br />01768<br />01769<br />01770<br />01771<br />01772<br />01773<br />01774<br />01775<br />01776<br />01777<br />01778<br />01779<br />01780<br />
01781<br />01782<br />01783<br />01784<br />01785<br />01786<br />01787<br />01788<br />01789<br />01790<br />01791<br />01792<br />01793<br />01794<br />01795<br />01796<br />01797<br />01798<br />01799<br />01800<br />
01801<br />01802<br />01803<br />01804<br />01805<br />01806<br />01807<br />01808<br />01809<br />01810<br />01811<br />01812<br />01813<br />01814<br />01815<br />01816<br />01817<br />01818<br />01819<br />01820<br />
01821<br />01822<br />01823<br />01824<br />01825<br />01826<br />01827<br />01828<br />01829<br />01830<br />01831<br />01832<br />01833<br />01834<br />01835<br />01836<br />01837<br />01838<br />01839<br />01840<br />
01841<br />01842<br />01843<br />01844<br />01845<br />01846<br />01847<br />01848<br />01849<br />01850<br />01851<br />01852<br />01853<br />01854<br />01855<br />01856<br />01857<br />01858<br />01859<br />01860<br />
01861<br />01862<br />01863<br />01864<br />01865<br />01866<br />01867<br />01868<br />01869<br />01870<br />01871<br />01872<br />01873<br />01874<br />01875<br />01876<br />01877<br />01878<br />01879<br />01880<br />
01881<br />01882<br />01883<br />01884<br />01885<br />01886<br />01887<br />01888<br />01889<br />01890<br />01891<br />01892<br />01893<br />01894<br />01895<br />01896<br />01897<br />01898<br />01899<br />01900<br />
01901<br />01902<br />01903<br />01904<br />01905<br />01906<br />01907<br />01908<br />01909<br />01910<br />01911<br />01912<br />01913<br />01914<br />01915<br />01916<br />01917<br />01918<br />01919<br />01920<br />
01921<br />01922<br />01923<br />01924<br />01925<br />01926<br />01927<br />01928<br />01929<br />01930<br />01931<br />01932<br />01933<br />01934<br />01935<br />01936<br />01937<br />01938<br />01939<br />01940<br />
01941<br />01942<br />01943<br />01944<br />01945<br />01946<br />01947<br />01948<br />01949<br />01950<br />01951<br />01952<br />01953<br />01954<br />01955<br />01956<br />01957<br />01958<br />01959<br />01960<br />
01961<br />01962<br />01963<br />01964<br />01965<br />01966<br />01967<br />01968<br />01969<br />01970<br />01971<br />01972<br />01973<br />01974<br />01975<br />01976<br />01977<br />01978<br />01979<br />01980<br />
01981<br />01982<br />01983<br />01984<br />01985<br />01986<br />01987<br />01988<br />01989<br />01990<br />01991<br />01992<br />01993<br />01994<br />01995<br />01996<br />01997<br />01998<br />01999<br />02000<br />
02001<br />02002<br />02003<br />02004<br />02005<br />02006<br />02007<br />02008<br />02009<br />02010<br />02011<br />02012<br />02013<br />02014<br />02015<br />02016<br />02017<br />02018<br />02019<br />02020<br />
02021<br />02022<br />02023<br />02024<br />02025<br />02026<br />02027<br />02028<br />02029<br />02030<br />02031<br />02032<br />02033<br />02034<br />02035<br />02036<br />02037<br />02038<br />02039<br />02040<br />
02041<br />02042<br />02043<br />02044<br />02045<br />02046<br />02047<br />02048<br />02049<br />02050<br />02051<br />02052<br />02053<br />02054<br />02055<br />02056<br />02057<br />02058<br />02059<br />02060<br />
02061<br />02062<br />02063<br />02064<br />02065<br />02066<br />02067<br />02068<br />02069<br />02070<br />02071<br />02072<br />02073<br />02074<br />02075<br />02076<br />02077<br />02078<br />02079<br />02080<br />
02081<br />02082<br />02083<br />02084<br />02085<br />02086<br />02087<br />02088<br />02089<br />02090<br />02091<br />02092<br />02093<br />02094<br />02095<br />02096<br />02097<br />02098<br />02099<br />02100<br />
02101<br />02102<br />02103<br />02104<br />02105<br />02106<br />02107<br />02108<br />02109<br />02110<br />02111<br />02112<br />02113<br />02114<br />02115<br />02116<br />02117<br />02118<br />02119<br />02120<br />
02121<br />02122<br />02123<br />02124<br />02125<br />02126<br />02127<br />02128<br />02129<br />02130<br />02131<br />02132<br />02133<br />02134<br />02135<br />02136<br />02137<br />02138<br />02139<br />02140<br />
02141<br />02142<br />02143<br />02144<br />02145<br />02146<br />02147<br />02148<br />02149<br />02150<br />02151<br />02152<br />02153<br />02154<br />02155<br />02156<br />02157<br />02158<br />02159<br />02160<br />
02161<br />02162<br />02163<br />02164<br />02165<br />02166<br />02167<br />02168<br />02169<br />02170<br />02171<br />02172<br />02173<br />02174<br />02175<br />02176<br />02177<br />02178<br />02179<br />02180<br />
02181<br />02182<br />02183<br />02184<br />02185<br />02186<br />02187<br />02188<br />02189<br />02190<br />02191<br />02192<br />02193<br />02194<br />02195<br />02196<br />02197<br />02198<br />02199<br />02200<br />
02201<br />02202<br />02203<br />02204<br />02205<br />02206<br />02207<br />02208<br />02209<br />02210<br />02211<br />02212<br />02213<br />02214<br />02215<br />02216<br />02217<br />02218<br />02219<br />02220<br />
02221<br />02222<br />02223<br />02224<br />02225<br />02226<br />02227<br />02228<br />02229<br />02230<br />02231<br />02232<br />02233<br />02234<br />02235<br />02236<br />02237<br />02238<br />02239<br />02240<br />
02241<br />02242<br />02243<br />02244<br />02245<br />02246<br />02247<br />02248<br />02249<br />02250<br />02251<br />02252<br />02253<br />02254<br />02255<br />02256<br />02257<br />02258<br />02259<br />02260<br />
02261<br />02262<br />02263<br />02264<br />02265<br />02266<br />02267<br />02268<br />02269<br />02270<br />02271<br />02272<br />02273<br />02274<br />02275<br />02276<br />02277<br />02278<br />02279<br />02280<br />
02281<br />02282<br />02283<br />02284<br />02285<br />02286<br />02287<br />02288<br />02289<br />02290<br />02291<br />02292<br />02293<br />02294<br />02295<br />02296<br />02297<br />02298<br />02299<br />02300<br />
02301<br />02302<br />02303<br />02304<br />02305<br />02306<br />02307<br />02308<br />02309<br />02310<br />02311<br />02312<br />02313<br />02314<br />02315<br />02316<br />02317<br />02318<br />02319<br />02320<br />
02321<br />02322<br />02323<br />02324<br />02325<br />02326<br />02327<br />02328<br />02329<br />02330<br />02331<br />02332<br />02333<br />02334<br />02335<br />02336<br />02337<br />02338<br />02339<br />02340<br />
02341<br />02342<br />02343<br />02344<br />02345<br />02346<br />02347<br />02348<br />02349<br />02350<br />02351<br />02352<br />02353<br />02354<br />02355<br />02356<br />02357<br />02358<br />02359<br />02360<br />
02361<br />02362<br />02363<br />02364<br />02365<br />02366<br />02367<br />02368<br />02369<br />02370<br />02371<br />02372<br />02373<br />02374<br />02375<br />02376<br />02377<br />02378<br />02379<br />02380<br />
02381<br />02382<br />02383<br />02384<br />02385<br />02386<br />02387<br />02388<br />02389<br />02390<br />02391<br />02392<br />02393<br />02394<br />02395<br />02396<br />02397<br />02398<br />02399<br />02400<br />
02401<br />02402<br />02403<br />02404<br />02405<br />02406<br />02407<br />02408<br />02409<br />02410<br />02411<br />02412<br />02413<br />02414<br />02415<br />02416<br />02417<br />02418<br />02419<br />02420<br />
02421<br />02422<br />02423<br />02424<br />02425<br />02426<br />02427<br />02428<br />02429<br />02430<br />02431<br />02432<br />02433<br />02434<br />02435<br />02436<br />02437<br />02438<br />02439<br />02440<br />
02441<br />02442<br />02443<br />02444<br />02445<br />02446<br />02447<br />02448<br />02449<br />02450<br />02451<br />02452<br />02453<br />02454<br />02455<br />02456<br />02457<br />02458<br />02459<br />02460<br />
02461<br />02462<br />02463<br />02464<br />02465<br />02466<br />02467<br />02468<br />02469<br />02470<br />02471<br />02472<br />02473<br />02474<br />02475<br />02476<br />02477<br />02478<br />02479<br />02480<br />
02481<br />02482<br />02483<br />02484<br />02485<br />02486<br />02487<br />02488<br />02489<br />02490<br />02491<br />02492<br />02493<br />02494<br />02495<br />02496<br />02497<br />02498<br />02499<br />02500<br />
02501<br />02502<br />02503<br />02504<br />02505<br />02506<br />02507<br />02508<br />02509<br />02510<br />02511<br />02512<br />02513<br />02514<br />02515<br />02516<br />02517<br />02518<br />02519<br />02520<br />
02521<br />02522<br />02523<br />02524<br />02525<br />02526<br />02527<br />02528<br />02529<br />02530<br />02531<br />02532<br />02533<br />02534<br />02535<br />02536<br />02537<br />02538<br />02539<br />02540<br />
02541<br />02542<br />02543<br />02544<br />02545<br />02546<br />02547<br />02548<br />02549<br />02550<br />02551<br />02552<br />02553<br />02554<br />02555<br />02556<br />02557<br />02558<br />02559<br />02560<br />
02561<br />02562<br />02563<br />02564<br />02565<br />02566<br />02567<br />02568<br />02569<br />02570<br />02571<br />02572<br />02573<br />02574<br />02575<br />02576<br />02577<br />02578<br />02579<br />02580<br />
02581<br />02582<br />02583<br />02584<br />02585<br />02586<br />02587<br />02588<br />02589<br />02590<br />02591<br />02592<br />02593<br />02594<br />02595<br />02596<br />02597<br />02598<br />02599<br />02600<br />
02601<br />02602<br />02603<br />02604<br />02605<br />02606<br />02607<br />02608<br />02609<br />02610<br />02611<br />02612<br />02613<br />02614<br />02615<br />02616<br />02617<br />02618<br />02619<br />02620<br />
02621<br />02622<br />02623<br />02624<br />02625<br />02626<br />02627<br />02628<br />02629<br />02630<br />02631<br />02632<br />02633<br />02634<br />02635<br />02636<br />02637<br />02638<br />02639<br />02640<br />
02641<br />02642<br />02643<br />02644<br />02645<br />02646<br />02647<br />02648<br />02649<br />02650<br />02651<br />02652<br />02653<br />02654<br />02655<br />02656<br />02657<br />02658<br />02659<br />02660<br />
02661<br />02662<br />02663<br />02664<br />02665<br />02666<br />02667<br />02668<br />02669<br />02670<br />02671<br />02672<br />02673<br />02674<br />02675<br />02676<br />02677<br />02678<br />02679<br />02680<br />
02681<br />02682<br />02683<br />02684<br />02685<br />02686<br />02687<br />02688<br />02689<br />02690<br />02691<br />02692<br />02693<br />02694<br />02695<br />02696<br />02697<br />02698<br />02699<br />02700<br />
02701<br />02702<br />02703<br />02704<br />02705<br />02706<br />02707<br />02708<br />02709<br />02710<br />02711<br />02712<br />02713<br />02714<br />02715<br />02716<br />02717<br />02718<br />02719<br />02720<br />
02721<br />02722<br />02723<br />02724<br />02725<br />02726<br />02727<br />02728<br />02729<br />02730<br />02731<br />02732<br />02733<br />02734<br />02735<br />02736<br />02737<br />02738<br />02739<br />02740<br />
02741<br />02742<br />02743<br />02744<br />02745<br />02746<br />02747<br />02748<br />02749<br />02750<br />02751<br />02752<br />02753<br />02754<br />02755<br />02756<br />02757<br />02758<br />02759<br />02760<br />
02761<br />02762<br />02763<br />02764<br />02765<br />02766<br />02767<br />02768<br />02769<br />02770<br />02771<br />02772<br />02773<br />02774<br />02775<br />02776<br />02777<br />02778<br />02779<br />02780<br />
02781<br />02782<br />02783<br />02784<br />02785<br />02786<br />02787<br />02788<br />02789<br />02790<br />02791<br />02792<br />02793<br />02794<br />02795<br />02796<br />02797<br />02798<br />02799<br />02800<br />
02801<br />02802<br />02803<br />02804<br />02805<br />02806<br />02807<br />02808<br />02809<br />02810<br />02811<br />02812<br />02813<br />02814<br />02815<br />02816<br />02817<br />02818<br />02819<br />02820<br />
02821<br />02822<br />02823<br />02824<br />02825<br />02826<br />02827<br />02828<br />02829<br />02830<br />02831<br />02832<br />02833<br />02834<br />02835<br />02836<br />02837<br />02838<br />02839<br />02840<br />
02841<br />02842<br />02843<br />02844<br />02845<br />02846<br />02847<br />02848<br />02849<br />02850<br />02851<br />02852<br />02853<br />02854<br />02855<br />02856<br />02857<br />02858<br />02859<br />02860<br />
02861<br />02862<br />02863<br />02864<br />02865<br />02866<br />02867<br />02868<br />02869<br />02870<br />02871<br />02872<br />02873<br />02874<br />02875<br />02876<br />02877<br />02878<br />02879<br />02880<br />
02881<br />02882<br />02883<br />02884<br />02885<br />02886<br />02887<br />02888<br />02889<br />02890<br />02891<br />02892<br />02893<br />02894<br />02895<br />02896<br />02897<br />02898<br />02899<br />02900<br />
02901<br />02902<br />02903<br />02904<br />02905<br />02906<br />02907<br />02908<br />02909<br />02910<br />02911<br />02912<br />02913<br />02914<br />02915<br />02916<br />02917<br />02918<br />02919<br />02920<br />
02921<br />02922<br />02923<br />02924<br />02925<br />02926<br />02927<br />02928<br />02929<br />02930<br />02931<br />02932<br />02933<br />02934<br />02935<br />02936<br />02937<br />02938<br />02939<br />02940<br />
02941<br />02942<br />02943<br />02944<br />02945<br />02946<br />02947<br />02948<br />02949<br />02950<br />02951<br />02952<br />02953<br />02954<br />02955<br />02956<br />02957<br />02958<br />02959<br />02960<br />
02961<br />02962<br />02963<br />02964<br />02965<br />02966<br />02967<br />02968<br />02969<br />02970<br />02971<br />02972<br />02973<br />02974<br />02975<br />02976<br />02977<br />02978<br />02979<br />02980<br />
02981<br />02982<br />02983<br />02984<br />02985<br />02986<br />02987<br />02988<br />02989<br />02990<br />02991<br />02992<br />02993<br />02994<br />02995<br />02996<br />02997<br />02998<br />02999<br />03000<br />
03001<br />03002<br />03003<br />03004<br />03005<br />03006<br />03007<br />03008<br />03009<br />03010<br />03011<br />03012<br />03013<br />03014<br />03015<br />03016<br />03017<br />03018<br />03019<br />03020<br />
03021<br />03022<br />03023<br />03024<br />03025<br />03026<br />03027<br />03028<br />03029<br />03030<br />03031<br />03032<br />03033<br />03034<br />03035<br />03036<br />03037<br />03038<br />03039<br />03040<br />
03041<br />03042<br />03043<br />03044<br />03045<br />03046<br />03047<br />03048<br />03049<br />03050<br />03051<br />03052<br />03053<br />03054<br />03055<br />03056<br />03057<br />03058<br />03059<br />03060<br />
03061<br />03062<br />03063<br />03064<br />03065<br />03066<br />03067<br />03068<br />03069<br />03070<br />03071<br />03072<br />03073<br />03074<br />03075<br />03076<br />03077<br />03078<br />03079<br />03080<br />
03081<br />03082<br />03083<br />03084<br />03085<br />03086<br />03087<br />03088<br />03089<br />03090<br />03091<br />03092<br />03093<br />03094<br />03095<br />03096<br />03097<br />03098<br />03099<br />03100<br />
03101<br />03102<br />03103<br />03104<br />03105<br />03106<br />03107<br />03108<br />03109<br />03110<br />03111<br />03112<br />03113<br />03114<br />03115<br />03116<br />03117<br />03118<br />03119<br />03120<br />
03121<br />03122<br />03123<br />03124<br />03125<br />03126<br />03127<br />03128<br />03129<br />03130<br />03131<br />03132<br />03133<br />03134<br />03135<br />03136<br />03137<br />03138<br />03139<br />03140<br />
03141<br />03142<br />03143<br />03144<br />03145<br />03146<br />03147<br />03148<br />03149<br />03150<br />03151<br />03152<br />03153<br />03154<br />03155<br />03156<br />03157<br />03158<br />03159<br />03160<br />
03161<br />03162<br />03163<br />03164<br />03165<br />03166<br />03167<br />03168<br />03169<br />03170<br />03171<br />03172<br />03173<br />03174<br />03175<br />03176<br />03177<br />03178<br />03179<br />03180<br />
03181<br />03182<br />03183<br />03184<br />03185<br />03186<br />03187<br />03188<br />03189<br />03190<br />03191<br />03192<br />03193<br />03194<br />03195<br />03196<br />03197<br />03198<br />03199<br />03200<br />
03201<br />03202<br />03203<br />03204<br />03205<br />03206<br />03207<br />03208<br />03209<br />03210<br />03211<br />03212<br />03213<br />03214<br />03215<br />03216<br />03217<br />03218<br />03219<br />03220<br />
03221<br />03222<br />03223<br />03224<br />03225<br />03226<br />03227<br />03228<br />03229<br />03230<br />03231<br />03232<br />03233<br />03234<br />03235<br />03236<br />03237<br />03238<br />03239<br />03240<br />
03241<br />03242<br />03243<br />03244<br />03245<br />03246<br />03247<br />03248<br />03249<br />03250<br />03251<br />03252<br />03253<br />03254<br />03255<br />03256<br />03257<br />03258<br />03259<br />03260<br />
03261<br />03262<br />03263<br />03264<br />03265<br />03266<br />03267<br />03268<br />03269<br />03270<br />03271<br />03272<br />03273<br />03274<br />03275<br />03276<br />03277<br />03278<br />03279<br />03280<br />
03281<br />03282<br />03283<br />03284<br />03285<br />03286<br />03287<br />03288<br />03289<br />03290<br />03291<br />03292<br />03293<br />03294<br />03295<br />03296<br />03297<br />03298<br />03299<br />03300<br />
03301<br />03302<br />03303<br />03304<br />03305<br />03306<br />03307<br />03308<br />03309<br />03310<br />03311<br />03312<br />03313<br />03314<br />03315<br />03316<br />03317<br />03318<br />03319<br />03320<br />
03321<br />03322<br />03323<br />03324<br />03325<br />03326<br />03327<br />03328<br />03329<br />03330<br />03331<br />03332<br />03333<br />03334<br />03335<br />03336<br />03337<br />03338<br />03339<br />03340<br />
03341<br />03342<br />03343<br />03344<br />03345<br />03346<br />03347<br />03348<br />03349<br />03350<br />03351<br />03352<br />03353<br />03354<br />03355<br />03356<br />03357<br />03358<br />03359<br />03360<br />
03361<br />03362<br />03363<br />03364<br />03365<br />03366<br />03367<br />03368<br />03369<br />03370<br />03371<br />03372<br />03373<br />03374<br />03375<br />03376<br />03377<br />03378<br />03379<br />03380<br />
03381<br />03382<br />03383<br />03384<br />03385<br />03386<br />03387<br />03388<br />03389<br />03390<br />03391<br />03392<br />03393<br />03394<br />03395<br />03396<br />03397<br />03398<br />03399<br />03400<br />
03401<br />03402<br />03403<br />03404<br />03405<br />03406<br />03407<br />03408<br />03409<br />03410<br />03411<br />03412<br />03413<br />03414<br />03415<br />03416<br />03417<br />03418<br />03419<br />03420<br />
03421<br />03422<br />03423<br />03424<br />03425<br />03426<br />03427<br />03428<br />03429<br />03430<br />03431<br />03432<br />03433<br />03434<br />03435<br />03436<br />03437<br />03438<br />03439<br />03440<br />
03441<br />03442<br />03443<br />03444<br />03445<br />03446<br />03447<br />03448<br />03449<br />03450<br />03451<br />03452<br />03453<br />03454<br />03455<br />03456<br />03457<br />03458<br />03459<br />03460<br />
03461<br />03462<br />03463<br />03464<br />03465<br />03466<br />03467<br />03468<br />03469<br />03470<br />03471<br />03472<br />03473<br />03474<br />03475<br />03476<br />03477<br />03478<br />03479<br />03480<br />
03481<br />03482<br />03483<br />03484<br />03485<br />03486<br />03487<br />03488<br />03489<br />03490<br />03491<br />03492<br />03493<br />03494<br />03495<br />03496<br />03497<br />03498<br />03499<br />03500<br />
03501<br />03502<br />03503<br />03504<br />03505<br />03506<br />03507<br />03508<br />03509<br />03510<br />03511<br />03512<br />03513<br />03514<br />03515<br />03516<br />03517<br />03518<br />03519<br />03520<br />
03521<br />03522<br />03523<br />03524<br />03525<br />03526<br />03527<br />03528<br />03529<br />03530<br />03531<br />03532<br />03533<br />03534<br />03535<br />03536<br />03537<br />03538<br />03539<br />03540<br />
03541<br />03542<br />03543<br />03544<br />03545<br />03546<br />03547<br />03548<br />03549<br />03550<br />03551<br />03552<br />03553<br />03554<br />03555<br />03556<br />03557<br />03558<br />03559<br />03560<br />
03561<br />03562<br />03563<br />03564<br />03565<br />03566<br />03567<br />03568<br />03569<br />03570<br />03571<br />03572<br />03573<br />03574<br />03575<br />03576<br />03577<br />03578<br />03579<br />03580<br />
03581<br />03582<br />03583<br />03584<br />03585<br />03586<br />03587<br />03588<br />03589<br />03590<br />03591<br />03592<br />03593<br />03594<br />03595<br />03596<br />03597<br />03598<br />03599<br />03600<br />
03601<br />03602<br />03603<br />03604<br />03605<br />03606<br />03607<br />03608<br />03609<br />03610<br />03611<br />03612<br />03613<br />03614<br />03615<br />03616<br />03617<br />03618<br />03619<br />03620<br />
03621<br />03622<br />03623<br />03624<br />03625<br />03626<br />03627<br />03628<br />03629<br />03630<br />03631<br />03632<br />03633<br />03634<br />03635<br />03636<br />03637<br />03638<br />03639<br />03640<br />
03641<br />03642<br />03643<br />03644<br />03645<br />03646<br />03647<br />03648<br />03649<br />03650<br />03651<br />03652<br />03653<br />03654<br />03655<br />03656<br />03657<br />03658<br />03659<br />03660<br />
03661<br />03662<br />03663<br />03664<br />03665<br />03666<br />03667<br />03668<br />03669<br />03670<br />03671<br />03672<br />03673<br />03674<br />03675<br />03676<br />03677<br />03678<br />03679<br />03680<br />
03681<br />03682<br />03683<br />03684<br />03685<br />03686<br />03687<br />03688<br />03689<br />03690<br />03691<br />03692<br />03693<br />03694<br />03695<br />03696<br />03697<br />03698<br />03699<br />03700<br />
03701<br />03702<br />03703<br />03704<br />03705<br />03706<br />03707<br />03708<br />03709<br />03710<br />03711<br />03712<br />03713<br />03714<br />03715<br />03716<br />03717<br />03718<br />03719<br />03720<br />
03721<br />03722<br />03723<br />03724<br />03725<br />03726<br />03727<br />03728<br />03729<br />03730<br />03731<br />03732<br />03733<br />03734<br />03735<br />03736<br />03737<br />03738<br />03739<br />03740<br />
03741<br />03742<br />03743<br />03744<br />03745<br />03746<br />03747<br />03748<br />03749<br />03750<br />03751<br />03752<br />03753<br />03754<br />03755<br />03756<br />03757<br />03758<br />03759<br />03760<br />
03761<br />03762<br />03763<br />03764<br />03765<br />03766<br />03767<br />03768<br />03769<br />03770<br />03771<br />03772<br />03773<br />03774<br />03775<br />03776<br />03777<br />03778<br />03779<br />03780<br />
03781<br />03782<br />03783<br />03784<br />03785<br />03786<br />03787<br />03788<br />03789<br />03790<br />03791<br />03792<br />03793<br />03794<br />03795<br />03796<br />03797<br />03798<br />03799<br />03800<br />
03801<br />03802<br />03803<br />03804<br />03805<br />03806<br />03807<br />03808<br />03809<br />03810<br />03811<br />03812<br />03813<br />03814<br />03815<br />03816<br />03817<br />03818<br />03819<br />03820<br />
03821<br />03822<br />03823<br />03824<br />03825<br />03826<br />03827<br />03828<br />03829<br />03830<br />03831<br />03832<br />03833<br />03834<br />03835<br />03836<br />03837<br />03838<br />03839<br />03840<br />
03841<br />03842<br />03843<br />03844<br />03845<br />03846<br />03847<br />03848<br />03849<br />03850<br />03851<br />03852<br />03853<br />03854<br />03855<br />03856<br />03857<br />03858<br />03859<br />03860<br />
03861<br />03862<br />03863<br />03864<br />03865<br />03866<br />03867<br />03868<br />03869<br />03870<br />03871<br />03872<br />03873<br />03874<br />03875<br />03876<br />03877<br />03878<br />03879<br />03880<br />
03881<br />03882<br />03883<br />03884<br />03885<br />03886<br />03887<br />03888<br />03889<br />03890<br />03891<br />03892<br />03893<br />03894<br />03895<br />03896<br />03897<br />03898<br />03899<br />03900<br />
03901<br />03902<br />03903<br />03904<br />03905<br />03906<br />03907<br />03908<br />03909<br />03910<br />03911<br />03912<br />03913<br />03914<br />03915<br />03916<br />03917<br />03918<br />03919<br />03920<br />
03921<br />03922<br />03923<br />03924<br />03925<br />03926<br />03927<br />03928<br />03929<br />03930<br />03931<br />03932<br />03933<br />03934<br />03935<br />03936<br />03937<br />03938<br />03939<br />03940<br />
03941<br />03942<br />03943<br />03944<br />03945<br />03946<br />03947<br />03948<br />03949<br />03950<br />03951<br />03952<br />03953<br />03954<br />03955<br />03956<br />03957<br />03958<br />03959<br />03960<br />
03961<br />03962<br />03963<br />03964<br />03965<br />03966<br />03967<br />03968<br />03969<br />03970<br />03971<br />03972<br />03973<br />03974<br />03975<br />03976<br />03977<br />03978<br />03979<br />03980<br />
03981<br />03982<br />03983<br />03984<br />03985<br />03986<br />03987<br />03988<br />03989<br />03990<br />03991<br />03992<br />03993<br />03994<br />03995<br />03996<br />03997<br />03998<br />03999<br />04000<br />
04001<br />04002<br />04003<br />04004<br />04005<br />04006<br />04007<br />04008<br />04009<br />04010<br />04011<br />04012<br />04013<br />04014<br />04015<br />04016<br />04017<br />04018<br />04019<br />04020<br />
04021<br />04022<br />04023<br />04024<br />04025<br />04026<br />04027<br />04028<br />04029<br />04030<br />04031<br />04032<br />04033<br />04034<br />04035<br />04036<br />04037<br />04038<br />04039<br />04040<br />
04041<br />04042<br />04043<br />04044<br />04045<br />04046<br />04047<br />04048<br />04049<br />04050<br />04051<br />04052<br />04053<br />04054<br />04055<br />04056<br />04057<br />04058<br />04059<br />04060<br />
04061<br />04062<br />04063<br />04064<br />04065<br />04066<br />04067<br />04068<br />04069<br />04070<br />04071<br />04072<br />04073<br />04074<br />04075<br />04076<br />04077<br />04078<br />04079<br />04080<br />
04081<br />04082<br />04083<br />04084<br />04085<br />04086<br />04087<br />04088<br />04089<br />04090<br />04091<br />04092<br />04093<br />04094<br />04095<br />04096<br />04097<br />04098<br />04099<br />04100<br />
04101<br />04102<br />04103<br />04104<br />04105<br />04106<br />04107<br />04108<br />04109<br />04110<br />04111<br />04112<br />04113<br />04114<br />04115<br />04116<br />04117<br />04118<br />04119<br />04120<br />
04121<br />04122<br />04123<br />04124<br />04125<br />04126<br />04127<br />04128<br />04129<br />04130<br />04131<br />04132<br />04133<br />04134<br />04135<br />04136<br />04137<br />04138<br />04139<br />04140<br />
04141<br />04142<br />04143<br />04144<br />04145<br />04146<br />04147<br />04148<br />04149<br />04150<br />04151<br />04152<br />04153<br />04154<br />04155<br />04156<br />04157<br />04158<br />04159<br />04160<br />
04161<br />04162<br />04163<br />04164<br />04165<br />04166<br />04167<br />04168<br />04169<br />04170<br />04171<br />04172<br />04173<br />04174<br />04175<br />04176<br />04177<br />04178<br />04179<br />04180<br />
04181<br />04182<br />04183<br />04184<br />04185<br />04186<br />04187<br />04188<br />04189<br />04190<br />04191<br />04192<br />04193<br />04194<br />04195<br />04196<br />04197<br />04198<br />04199<br />04200<br />
04201<br />04202<br />04203<br />04204<br />04205<br />04206<br />04207<br />04208<br />04209<br />04210<br />04211<br />04212<br />04213<br />04214<br />04215<br />04216<br />04217<br />04218<br />04219<br />04220<br />
04221<br />04222<br />04223<br />04224<br />04225<br />04226<br />04227<br />04228<br />04229<br />04230<br />04231<br />04232<br />04233<br />04234<br />04235<br />04236<br />04237<br />04238<br />04239<br />04240<br />
04241<br />04242<br />04243<br />04244<br />04245<br />04246<br />04247<br />04248<br />04249<br />04250<br />04251<br />04252<br />04253<br />04254<br />04255<br />04256<br />04257<br />04258<br />04259<br />04260<br />
04261<br />04262<br />04263<br />04264<br />04265<br />04266<br />04267<br />04268<br />04269<br />04270<br />04271<br />04272<br />04273<br />04274<br />04275<br />04276<br />04277<br />04278<br />04279<br />04280<br />
04281<br />04282<br />04283<br />04284<br />04285<br />04286<br />04287<br />04288<br />04289<br />04290<br />04291<br />04292<br />04293<br />04294<br />04295<br />04296<br />04297<br />04298<br />04299<br />04300<br />
04301<br />04302<br />04303<br />04304<br />04305<br />04306<br />04307<br />04308<br />04309<br />04310<br />04311<br />04312<br />04313<br />04314<br />04315<br />04316<br />04317<br />04318<br />04319<br />04320<br />
04321<br />04322<br />04323<br />04324<br />04325<br />04326<br />04327<br />04328<br />04329<br />04330<br />04331<br />04332<br />04333<br />04334<br />04335<br />04336<br />04337<br />04338<br />04339<br />04340<br />
04341<br />04342<br />04343<br />04344<br />04345<br />04346<br />04347<br />04348<br />04349<br />04350<br />04351<br />04352<br />04353<br />04354<br />04355<br />04356<br />04357<br />04358<br />04359<br />04360<br />
04361<br />04362<br />04363<br />04364<br />04365<br />04366<br />04367<br />04368<br />04369<br />04370<br />04371<br />04372<br />04373<br />04374<br />04375<br />04376<br />04377<br />04378<br />04379<br />04380<br />
04381<br />04382<br />04383<br />04384<br />04385<br />04386<br />04387<br />04388<br />04389<br />04390<br />04391<br />04392<br />04393<br />04394<br />04395<br />04396<br />04397<br />04398<br />04399<br />04400<br />
04401<br />04402<br />04403<br />04404<br />04405<br />04406<br />04407<br />04408<br />04409<br />04410<br />04411<br />04412<br />04413<br />04414<br />04415<br />04416<br />04417<br />04418<br />04419<br />04420<br />
04421<br />04422<br />04423<br />04424<br />04425<br />04426<br />04427<br />04428<br />04429<br />04430<br />04431<br />04432<br />04433<br />04434<br />04435<br />04436<br />04437<br />04438<br />04439<br />04440<br />
04441<br />04442<br />04443<br />04444<br />04445<br />04446<br />04447<br />04448<br />04449<br />04450<br />04451<br />04452<br />04453<br />04454<br />04455<br />04456<br />04457<br />04458<br />04459<br />04460<br />
04461<br />04462<br />04463<br />04464<br />04465<br />04466<br />04467<br />04468<br />04469<br />04470<br />04471<br />04472<br />04473<br />04474<br />04475<br />04476<br />04477<br />04478<br />04479<br />04480<br />
04481<br />04482<br />04483<br />04484<br />04485<br />04486<br />04487<br />04488<br />04489<br />04490<br />04491<br />04492<br />04493<br />04494<br />04495<br />04496<br />04497<br />04498<br />04499<br />04500<br />
04501<br />04502<br />04503<br />04504<br />04505<br />04506<br />04507<br />04508<br />04509<br />04510<br />04511<br />04512<br />04513<br />04514<br />04515<br />04516<br />04517<br />04518<br />04519<br />04520<br />
04521<br />04522<br />04523<br />04524<br />04525<br />04526<br />04527<br />04528<br />04529<br />04530<br />04531<br />04532<br />04533<br />04534<br />04535<br />04536<br />04537<br />04538<br />04539<br />04540<br />
04541<br />04542<br />04543<br />04544<br />04545<br />04546<br />04547<br />04548<br />04549<br />04550<br />04551<br />04552<br />04553<br />04554<br />04555<br />04556<br />04557<br />04558<br />04559<br />04560<br />
04561<br />04562<br />04563<br />04564<br />04565<br />04566<br />04567<br />04568<br />04569<br />04570<br />04571<br />04572<br />04573<br />04574<br />04575<br />04576<br />04577<br />04578<br />04579<br />04580<br />
04581<br />04582<br />04583<br />04584<br />04585<br />04586<br />04587<br />04588<br />04589<br />04590<br />04591<br />04592<br />04593<br />04594<br />04595<br />04596<br />04597<br />04598<br />04599<br />04600<br />
04601<br />04602<br />04603<br />04604<br />04605<br />04606<br />04607<br />04608<br />04609<br />04610<br />04611<br />04612<br />04613<br />04614<br />04615<br />04616<br />04617<br />04618<br />04619<br />04620<br />
04621<br />04622<br />04623<br />04624<br />04625<br />04626<br />04627<br />04628<br />04629<br />04630<br />04631<br />04632<br />04633<br />04634<br />04635<br />04636<br />04637<br />04638<br />04639<br />04640<br />
04641<br />04642<br />04643<br />04644<br />04645<br />04646<br />04647<br />04648<br />04649<br />04650<br />04651<br />04652<br />04653<br />04654<br />04655<br />04656<br />04657<br />04658<br />04659<br />04660<br />
04661<br />04662<br />04663<br />04664<br />04665<br />04666<br />04667<br />04668<br />04669<br />04670<br />04671<br />04672<br />04673<br />04674<br />04675<br />04676<br />04677<br />04678<br />04679<br />04680<br />
04681<br />04682<br />04683<br />04684<br />04685<br />04686<br />04687<br />04688<br />04689<br />04690<br />04691<br />04692<br />04693<br />04694<br />04695<br />04696<br />04697<br />04698<br />04699<br />04700<br />
04701<br />04702<br />04703<br />04704<br />04705<br />04706<br />04707<br />04708<br />04709<br />04710<br />04711<br />04712<br />04713<br />04714<br />04715<br />04716<br />04717<br />04718<br />04719<br />04720<br />
04721<br />04722<br />04723<br />04724<br />04725<br />04726<br />04727<br />04728<br />04729<br />04730<br />04731<br />04732<br />04733<br />04734<br />04735<br />04736<br />04737<br />04738<br />04739<br />04740<br />
04741<br />04742<br />04743<br />04744<br />04745<br />04746<br />04747<br />04748<br />04749<br />04750<br />04751<br />04752<br />04753<br />04754<br />04755<br />04756<br />04757<br />04758<br />04759<br />04760<br />
04761<br />04762<br />04763<br />04764<br />04765<br />04766<br />04767<br />04768<br />04769<br />04770<br />04771<br />04772<br />04773<br />04774<br />04775<br />04776<br />04777<br />04778<br />04779<br />04780<br />
04781<br />04782<br />04783<br />04784<br />04785<br />04786<br />04787<br />04788<br />04789<br />04790<br />04791<br />04792<br />04793<br />04794<br />04795<br />04796<br />04797<br />04798<br />04799<br />04800<br />
04801<br />04802<br />04803<br />04804<br />04805<br />04806<br />04807<br />04808<br />04809<br />04810<br />04811<br />04812<br />04813<br />04814<br />04815<br />04816<br />04817<br />04818<br />04819<br />04820<br />
04821<br />04822<br />04823<br />04824<br />04825<br />04826<br />04827<br />04828<br />04829<br />04830<br />04831<br />04832<br />04833<br />04834<br />04835<br />04836<br />04837<br />04838<br />04839<br />04840<br />
04841<br />04842<br />04843<br />04844<br />04845<br />04846<br />04847<br />04848<br />04849<br />04850<br />04851<br />04852<br />04853<br />04854<br />04855<br />04856<br />04857<br />04858<br />04859<br />04860<br />
04861<br />04862<br />04863<br />04864<br />04865<br />04866<br />04867<br />04868<br />04869<br />04870<br />04871<br />04872<br />04873<br />04874<br />04875<br />04876<br />04877<br />04878<br />04879<br />04880<br />
04881<br />04882<br />04883<br />04884<br />04885<br />04886<br />04887<br />04888<br />04889<br />04890<br />04891<br />04892<br />04893<br />04894<br />04895<br />04896<br />04897<br />04898<br />04899<br />04900<br />
04901<br />04902<br />04903<br />04904<br />04905<br />04906<br />04907<br />04908<br />04909<br />04910<br />04911<br />04912<br />04913<br />04914<br />04915<br />04916<br />04917<br />04918<br />04919<br />04920<br />
04921<br />04922<br />04923<br />04924<br />04925<br />04926<br />04927<br />04928<br />04929<br />04930<br />04931<br />04932<br />04933<br />04934<br />04935<br />04936<br />04937<br />04938<br />04939<br />04940<br />
04941<br />04942<br />04943<br />04944<br />04945<br />04946<br />04947<br />04948<br />04949<br />04950<br />04951<br />04952<br />04953<br />04954<br />04955<br />04956<br />04957<br />04958<br />04959<br />04960<br />
04961<br />04962<br />04963<br />04964<br />04965<br />04966<br />04967<br />04968<br />04969<br />04970<br />04971<br />04972<br />04973<br />04974<br />04975<br />04976<br />04977<br />04978<br />04979<br />04980<br />
04981<br />04982<br />04983<br />04984<br />04985<br />04986<br />04987<br />04988<br />04989<br />04990<br />04991<br />04992<br />04993<br />04994<br />04995<br />04996<br />04997<br />04998<br />04999<br />05000<br />
05001<br />05002<br />05003<br />05004<br />05005<br />05006<br />05007<br />05008<br />05009<br />05010<br />05011<br />05012<br />05013<br />05014<br />05015<br />05016<br />05017<br />05018<br />05019<br />05020<br />
05021<br />05022<br />05023<br />05024<br />05025<br />05026<br />05027<br />05028<br />05029<br />05030<br />05031<br />05032<br />05033<br />05034<br />05035<br />05036<br />05037<br />05038<br />05039<br />05040<br />
05041<br />05042<br />05043<br />05044<br />05045<br />05046<br />05047<br />05048<br />05049<br />05050<br />05051<br />05052<br />05053<br />05054<br />05055<br />05056<br />05057<br />05058<br />05059<br />05060<br />
05061<br />05062<br />05063<br />05064<br />05065<br />05066<br />05067<br />05068<br />05069<br />05070<br />05071<br />05072<br />05073<br />05074<br />05075<br />05076<br />05077<br />05078<br />05079<br />05080<br />
05081<br />05082<br />05083<br />05084<br />05085<br />05086<br />05087<br />05088<br />05089<br />05090<br />05091<br />05092<br />05093<br />05094<br />05095<br />05096<br />05097<br />05098<br />05099<br />05100<br />
05101<br />05102<br />05103<br />05104<br />05105<br />05106<br />05107<br />05108<br />05109<br />05110<br />05111<br />05112<br />05113<br />05114<br />05115<br />05116<br />05117<br />05118<br />05119<br />05120<br />
05121<br />05122<br />05123<br />05124<br />05125<br />05126<br />05127<br />05128<br />05129<br />05130<br />05131<br />05132<br />05133<br />05134<br />05135<br />05136<br />05137<br />05138<br />05139<br />05140<br />
05141<br />05142<br />05143<br />05144<br />05145<br />05146<br />05147<br />05148<br />05149<br />05150<br />05151<br />05152<br />05153<br />05154<br />05155<br />05156<br />05157<br />05158<br />05159<br />05160<br />
05161<br />05162<br />05163<br />05164<br />05165<br />05166<br />05167<br />05168<br />05169<br />05170<br />05171<br />05172<br />05173<br />05174<br />05175<br />05176<br />05177<br />05178<br />05179<br />05180<br />
05181<br />05182<br />05183<br />05184<br />05185<br />05186<br />05187<br />05188<br />05189<br />05190<br />05191<br />05192<br />05193<br />05194<br />05195<br />05196<br />05197<br />05198<br />05199<br />05200<br />
05201<br />05202<br />05203<br />05204<br />05205<br />05206<br />05207<br />05208<br />05209<br />05210<br />05211<br />05212<br />05213<br />05214<br />05215<br />05216<br />05217<br />05218<br />05219<br />05220<br />
05221<br />05222<br />05223<br />05224<br />05225<br />05226<br />05227<br />05228<br />05229<br />05230<br />05231<br />05232<br />05233<br />05234<br />05235<br />05236<br />05237<br />05238<br />05239<br />05240<br />
05241<br />05242<br />05243<br />05244<br />05245<br />05246<br />05247<br />05248<br />05249<br />05250<br />05251<br />05252<br />05253<br />05254<br />05255<br />05256<br />05257<br />05258<br />05259<br />05260<br />
05261<br />05262<br />05263<br />05264<br />05265<br />05266<br />05267<br />05268<br />05269<br />05270<br />05271<br />05272<br />05273<br />05274<br />05275<br />05276<br />05277<br />05278<br />05279<br />05280<br />
05281<br />05282<br />05283<br />05284<br />05285<br />05286<br />05287<br />05288<br />05289<br />05290<br />05291<br />05292<br />05293<br />05294<br />05295<br />05296<br />05297<br />05298<br />05299<br />05300<br />
05301<br />05302<br />05303<br />05304<br />05305<br />05306<br />05307<br />05308<br />05309<br />05310<br />05311<br />05312<br />05313<br />05314<br />05315<br />05316<br />05317<br />05318<br />05319<br />05320<br />
05321<br />05322<br />05323<br />05324<br />05325<br />05326<br />05327<br />05328<br />05329<br />05330<br />05331<br />05332<br />05333<br />05334<br />05335<br />05336<br />05337<br />05338<br />05339<br />05340<br />
05341<br />05342<br />05343<br />05344<br />05345<br />05346<br />05347<br />05348<br />05349<br />05350<br />05351<br />05352<br />05353<br />05354<br />05355<br />05356<br />05357<br />05358<br />05359<br />05360<br />
05361<br />05362<br />05363<br />05364<br />05365<br />05366<br />05367<br />05368<br />05369<br />05370<br />05371<br />05372<br />05373<br />05374<br />05375<br />05376<br />05377<br />05378<br />05379<br />05380<br />
05381<br />05382<br />05383<br />05384<br />05385<br />05386<br />05387<br />05388<br />05389<br />05390<br />05391<br />05392<br />05393<br />05394<br />05395<br />05396<br />05397<br />05398<br />05399<br />05400<br />
05401<br />05402<br />05403<br />05404<br />05405<br />05406<br />05407<br />05408<br />05409<br />05410<br />05411<br />05412<br />05413<br />05414<br />05415<br />05416<br />05417<br />05418<br />05419<br />05420<br />
05421<br />05422<br />05423<br />05424<br />05425<br />05426<br />05427<br />05428<br />05429<br />05430<br />05431<br />05432<br />05433<br />05434<br />05435<br />05436<br />05437<br />05438<br />05439<br />05440<br />
05441<br />05442<br />05443<br />05444<br />05445<br />05446<br />05447<br />05448<br />05449<br />05450<br />05451<br />05452<br />05453<br />05454<br />05455<br />05456<br />05457<br />05458<br />05459<br />05460<br />
05461<br />05462<br />05463<br />05464<br />05465<br />05466<br />05467<br />05468<br />05469<br />05470<br />05471<br />05472<br />05473<br />05474<br />05475<br />05476<br />05477<br />05478<br />05479<br />05480<br />
05481<br />05482<br />05483<br />05484<br />05485<br />05486<br />05487<br />05488<br />05489<br />05490<br />05491<br />05492<br />05493<br />05494<br />05495<br />05496<br />05497<br />05498<br />05499<br />05500<br />
05501<br />05502<br />05503<br />05504<br />05505<br />05506<br />05507<br />05508<br />05509<br />05510<br />05511<br />05512<br />05513<br />05514<br />05515<br />05516<br />05517<br />05518<br />05519<br />05520<br />
05521<br />05522<br />05523<br />05524<br />05525<br />05526<br />05527<br />05528<br />05529<br />05530<br />05531<br />05532<br />05533<br />05534<br />05535<br />05536<br />05537<br />05538<br />05539<br />05540<br />
05541<br />05542<br />05543<br />05544<br />05545<br />05546<br />05547<br />05548<br />05549<br />05550<br />05551<br />05552<br />05553<br />05554<br />05555<br />05556<br />05557<br />05558<br />05559<br />05560<br />
05561<br />05562<br />05563<br />05564<br />05565<br />05566<br />05567<br />05568<br />05569<br />05570<br />05571<br />05572<br />05573<br />05574<br />05575<br />05576<br />05577<br />05578<br />05579<br />05580<br />
05581<br />05582<br />05583<br />05584<br />05585<br />05586<br />05587<br />05588<br />05589<br />05590<br />05591<br />05592<br />05593<br />05594<br />05595<br />05596<br />05597<br />05598<br />05599<br />05600<br />
05601<br />05602<br />05603<br />05604<br />05605<br />05606<br />05607<br />05608<br />05609<br />05610<br />05611<br />05612<br />05613<br />05614<br />05615<br />05616<br />05617<br />05618<br />05619<br />05620<br />
05621<br />05622<br />05623<br />05624<br />05625<br />05626<br />05627<br />05628<br />05629<br />05630<br />05631<br />05632<br />05633<br />05634<br />05635<br />05636<br />05637<br />05638<br />05639<br />05640<br />
05641<br />05642<br />05643<br />05644<br />05645<br />05646<br />05647<br />05648<br />05649<br />05650<br />05651<br />05652<br />05653<br />05654<br />05655<br />05656<br />05657<br />05658<br />05659<br />05660<br />
05661<br />05662<br />05663<br />05664<br />05665<br />05666<br />05667<br />05668<br />05669<br />05670<br />05671<br />05672<br />05673<br />05674<br />05675<br />05676<br />05677<br />05678<br />05679<br />05680<br />
05681<br />05682<br />05683<br />05684<br />05685<br />05686<br />05687<br />05688<br />05689<br />05690<br />05691<br />05692<br />05693<br />05694<br />05695<br />05696<br />05697<br />05698<br />05699<br />05700<br />
05701<br />05702<br />05703<br />05704<br />05705<br />05706<br />05707<br />05708<br />05709<br />05710<br />05711<br />05712<br />05713<br />05714<br />05715<br />05716<br />05717<br />05718<br />05719<br />05720<br />
05721<br />05722<br />05723<br />05724<br />05725<br />05726<br />05727<br />05728<br />05729<br />05730<br />05731<br />05732<br />05733<br />05734<br />05735<br />05736<br />05737<br />05738<br />05739<br />05740<br />
05741<br />05742<br />05743<br />05744<br />05745<br />05746<br />05747<br />05748<br />05749<br />05750<br />05751<br />05752<br />05753<br />05754<br />05755<br />05756<br />05757<br />05758<br />05759<br />05760<br />
05761<br />05762<br />05763<br />05764<br />05765<br />05766<br />05767<br />05768<br />05769<br />05770<br />05771<br />05772<br />05773<br />05774<br />05775<br />05776<br />05777<br />05778<br />05779<br />05780<br />
05781<br />05782<br />05783<br />05784<br />05785<br />05786<br />05787<br />05788<br />05789<br />05790<br />05791<br />05792<br />05793<br />05794<br />05795<br />05796<br />05797<br />05798<br />05799<br />05800<br />
05801<br />05802<br />05803<br />05804<br />05805<br />05806<br />05807<br />05808<br />05809<br />05810<br />05811<br />05812<br />05813<br />05814<br />05815<br />05816<br />05817<br />05818<br />05819<br />05820<br />
05821<br />05822<br />05823<br />05824<br />05825<br />05826<br />05827<br />05828<br />05829<br />05830<br />05831<br />05832<br />05833<br />05834<br />05835<br />05836<br />05837<br />05838<br />05839<br />05840<br />
05841<br />05842<br />05843<br />05844<br />05845<br />05846<br />05847<br />05848<br />05849<br />05850<br />05851<br />05852<br />05853<br />05854<br />05855<br />05856<br />05857<br />05858<br />05859<br />05860<br />
05861<br />05862<br />05863<br />05864<br />05865<br />05866<br />05867<br />05868<br />05869<br />05870<br />05871<br />05872<br />05873<br />05874<br />05875<br />05876<br />05877<br />05878<br />05879<br />05880<br />
05881<br />05882<br />05883<br />05884<br />05885<br />05886<br />05887<br />05888<br />05889<br />05890<br />05891<br />05892<br />05893<br />05894<br />05895<br />05896<br />05897<br />05898<br />05899<br />05900<br />
05901<br />05902<br />05903<br />05904<br />05905<br />05906<br />05907<br />05908<br />05909<br />05910<br />05911<br />05912<br />05913<br />05914<br />05915<br />05916<br />05917<br />05918<br />05919<br />05920<br />
05921<br />05922<br />05923<br />05924<br />05925<br />05926<br />05927<br />05928<br />05929<br />05930<br />05931<br />05932<br />05933<br />05934<br />05935<br />05936<br />05937<br />05938<br />05939<br />05940<br />
05941<br />05942<br />05943<br />05944<br />05945<br />05946<br />05947<br />05948<br />05949<br />05950<br />05951<br />05952<br />05953<br />05954<br />05955<br />05956<br />05957<br />05958<br />05959<br />05960<br />
05961<br />05962<br />05963<br />05964<br />05965<br />05966<br />05967<br />05968<br />05969<br />05970<br />05971<br />05972<br />05973<br />05974<br />05975<br />05976<br />05977<br />05978<br />05979<br />05980<br />
05981<br />05982<br />05983<br />05984<br />05985<br />05986<br />05987<br />05988<br />05989<br />05990<br />05991<br />05992<br />05993<br />05994<br />05995<br />05996<br />05997<br />05998<br />05999<br />06000<br />
06001<br />06002<br />06003<br />06004<br />06005<br />06006<br />06007<br />06008<br />06009<br />06010<br />06011<br />06012<br />06013<br />06014<br />06015<br />06016<br />06017<br />06018<br />06019<br />06020<br />
06021<br />06022<br />06023<br />06024<br />06025<br />06026<br />06027<br />06028<br />06029<br />06030<br />06031<br />06032<br />06033<br />06034<br />06035<br />06036<br />06037<br />06038<br />06039<br />06040<br />
06041<br />06042<br />06043<br />06044<br />06045<br />06046<br />06047<br />06048<br />06049<br />06050<br />06051<br />06052<br />06053<br />06054<br />06055<br />06056<br />06057<br />06058<br />06059<br />06060<br />
06061<br />06062<br />06063<br />06064<br />06065<br />06066<br />06067<br />06068<br />06069<br />06070<br />06071<br />06072<br />06073<br />06074<br />06075<br />06076<br />06077<br />06078<br />06079<br />06080<br />
06081<br />06082<br />06083<br />06084<br />06085<br />06086<br />06087<br />06088<br />06089<br />06090<br />06091<br />06092<br />06093<br />06094<br />06095<br />06096<br />06097<br />06098<br />06099<br />06100<br />
06101<br />06102<br />06103<br />06104<br />06105<br />06106<br />06107<br />06108<br />06109<br />06110<br />06111<br />06112<br />06113<br />06114<br />06115<br />06116<br />06117<br />06118<br />06119<br />06120<br />
06121<br />06122<br />06123<br />06124<br />06125<br />06126<br />06127<br />06128<br />06129<br />06130<br />06131<br />06132<br />06133<br />06134<br />06135<br />06136<br />06137<br />06138<br />06139<br />06140<br />
06141<br />06142<br />06143<br />06144<br />06145<br />06146<br />06147<br />06148<br />06149<br />06150<br />06151<br />06152<br />06153<br />06154<br />06155<br />06156<br />06157<br />06158<br />06159<br />06160<br />
06161<br />06162<br />06163<br />06164<br />06165<br />06166<br />06167<br />06168<br />06169<br />06170<br />06171<br />06172<br />06173<br />06174<br />06175<br />06176<br />06177<br />06178<br />06179<br />06180<br />
06181<br />06182<br />06183<br />06184<br />06185<br />06186<br />06187<br />06188<br />06189<br />06190<br />06191<br />06192<br />06193<br />06194<br />06195<br />06196<br />06197<br />06198<br />06199<br />06200<br />
06201<br />06202<br />06203<br />06204<br />06205<br />06206<br />06207<br />06208<br />06209<br />06210<br />06211<br />06212<br />06213<br />06214<br />06215<br />06216<br />06217<br />06218<br />06219<br />06220<br />
06221<br />06222<br />06223<br />06224<br />06225<br />06226<br />06227<br />06228<br />06229<br />06230<br />06231<br />06232<br />06233<br />06234<br />06235<br />06236<br />06237<br />06238<br />06239<br />06240<br />
06241<br />06242<br />06243<br />06244<br />06245<br />06246<br />06247<br />06248<br />06249<br />06250<br />06251<br />06252<br />06253<br />06254<br />06255<br />06256<br />06257<br />06258<br />06259<br />06260<br />
06261<br />06262<br />06263<br />06264<br />06265<br />06266<br />06267<br />06268<br />06269<br />06270<br />06271<br />06272<br />06273<br />06274<br />06275<br />06276<br />06277<br />06278<br />06279<br />06280<br />
06281<br />06282<br />06283<br />06284<br />06285<br />06286<br />06287<br />06288<br />06289<br />06290<br />06291<br />06292<br />06293<br />06294<br />06295<br />06296<br />06297<br />06298<br />06299<br />06300<br />
06301<br />06302<br />06303<br />06304<br />06305<br />06306<br />06307<br />06308<br />06309<br />06310<br />06311<br />06312<br />06313<br />06314<br />06315<br />06316<br />06317<br />06318<br />06319<br />06320<br />
06321<br />06322<br />06323<br />06324<br />06325<br />06326<br />06327<br />06328<br />06329<br />06330<br />06331<br />06332<br />06333<br />06334<br />06335<br />06336<br />06337<br />06338<br />06339<br />06340<br />
06341<br />06342<br />06343<br />06344<br />06345<br />06346<br />06347<br />06348<br />06349<br />06350<br />06351<br />06352<br />06353<br />06354<br />06355<br />06356<br />06357<br />06358<br />06359<br />06360<br />
06361<br />06362<br />06363<br />06364<br />06365<br />06366<br />06367<br />06368<br />06369<br />06370<br />06371<br />06372<br />06373<br />06374<br />06375<br />06376<br />06377<br />06378<br />06379<br />06380<br />
06381<br />06382<br />06383<br />06384<br />06385<br />06386<br />06387<br />06388<br />06389<br />06390<br />06391<br />06392<br />06393<br />06394<br />06395<br />06396<br />06397<br />06398<br />06399<br />06400<br />
06401<br />06402<br />06403<br />06404<br />06405<br />06406<br />06407<br />06408<br />06409<br />06410<br />06411<br />06412<br />06413<br />06414<br />06415<br />06416<br />06417<br />06418<br />06419<br />06420<br />
06421<br />06422<br />06423<br />06424<br />06425<br />06426<br />06427<br />06428<br />06429<br />06430<br />06431<br />06432<br />06433<br />06434<br />06435<br />06436<br />06437<br />06438<br />06439<br />06440<br />
06441<br />06442<br />06443<br />06444<br />06445<br />06446<br />06447<br />06448<br />06449<br />06450<br />06451<br />06452<br />06453<br />06454<br />06455<br />06456<br />06457<br />06458<br />06459<br />06460<br />
06461<br />06462<br />06463<br />06464<br />06465<br />06466<br />06467<br />06468<br />06469<br />06470<br />06471<br />06472<br />06473<br />06474<br />06475<br />06476<br />06477<br />06478<br />06479<br />06480<br />
06481<br />06482<br />06483<br />06484<br />06485<br />06486<br />06487<br />06488<br />06489<br />06490<br />06491<br />06492<br />06493<br />06494<br />06495<br />06496<br />06497<br />06498<br />06499<br />06500<br />
06501<br />06502<br />06503<br />06504<br />06505<br />06506<br />06507<br />06508<br />06509<br />06510<br />06511<br />06512<br />06513<br />06514<br />06515<br />06516<br />06517<br />06518<br />06519<br />06520<br />
06521<br />06522<br />06523<br />06524<br />06525<br />06526<br />06527<br />06528<br />06529<br />06530<br />06531<br />06532<br />06533<br />06534<br />06535<br />06536<br />06537<br />06538<br />06539<br />06540<br />
06541<br />06542<br />06543<br />06544<br />06545<br />06546<br />06547<br />06548<br />06549<br />06550<br />06551<br />06552<br />06553<br />06554<br />06555<br />06556<br />06557<br />06558<br />06559<br />06560<br />
06561<br />06562<br />06563<br />06564<br />06565<br />06566<br />06567<br />06568<br />06569<br />06570<br />06571<br />06572<br />06573<br />06574<br />06575<br />06576<br />06577<br />06578<br />06579<br />06580<br />
06581<br />06582<br />06583<br />06584<br />06585<br />06586<br />06587<br />06588<br />06589<br />06590<br />06591<br />06592<br />06593<br />06594<br />06595<br />06596<br />06597<br />06598<br />06599<br />06600<br />
06601<br />06602<br />06603<br />06604<br />06605<br />06606<br />06607<br />06608<br />06609<br />06610<br />06611<br />06612<br />06613<br />06614<br />06615<br />06616<br />06617<br />06618<br />06619<br />06620<br />
06621<br />06622<br />06623<br />06624<br />06625<br />06626<br />06627<br />06628<br />06629<br />06630<br />06631<br />06632<br />06633<br />06634<br />06635<br />06636<br />06637<br />06638<br />06639<br />06640<br />
06641<br />06642<br />06643<br />06644<br />06645<br />06646<br />06647<br />06648<br />06649<br />06650<br />06651<br />06652<br />06653<br />06654<br />06655<br />06656<br />06657<br />06658<br />06659<br />06660<br />
06661<br />06662<br />06663<br />06664<br />06665<br />06666<br />06667<br />06668<br />06669<br />06670<br />06671<br />06672<br />06673<br />06674<br />06675<br />06676<br />06677<br />06678<br />06679<br />06680<br />
06681<br />06682<br />06683<br />06684<br />06685<br />06686<br />06687<br />06688<br />06689<br />06690<br />06691<br />06692<br />06693<br />06694<br />06695<br />06696<br />06697<br />06698<br />06699<br />06700<br />
06701<br />06702<br />06703<br />06704<br />06705<br />06706<br />06707<br />06708<br />06709<br />06710<br />06711<br />06712<br />06713<br />06714<br />06715<br />06716<br />06717<br />06718<br />06719<br />06720<br />
06721<br />06722<br />06723<br />06724<br />06725<br />06726<br />06727<br />06728<br />06729<br />06730<br />06731<br />06732<br />06733<br />06734<br />06735<br />06736<br />06737<br />06738<br />06739<br />06740<br />
06741<br />06742<br />06743<br />06744<br />06745<br />06746<br />06747<br />06748<br />06749<br />06750<br />06751<br />06752<br />06753<br />06754<br />06755<br />06756<br />06757<br />06758<br />06759<br />06760<br />
06761<br />06762<br />06763<br />06764<br />06765<br />06766<br />06767<br />06768<br />06769<br />06770<br />06771<br />06772<br />06773<br />06774<br />06775<br />06776<br />06777<br />06778<br />06779<br />06780<br />
06781<br />06782<br />06783<br />06784<br />06785<br />06786<br />06787<br />06788<br />06789<br />06790<br />06791<br />06792<br />06793<br />06794<br />06795<br />06796<br />06797<br />06798<br />06799<br />06800<br />
06801<br />06802<br />06803<br />06804<br />06805<br />06806<br />06807<br />06808<br />06809<br />06810<br />06811<br />06812<br />06813<br />06814<br />06815<br />06816<br />06817<br />06818<br />06819<br />06820<br />
06821<br />06822<br />06823<br />06824<br />06825<br />06826<br />06827<br />06828<br />06829<br />06830<br />06831<br />06832<br />06833<br />06834<br />06835<br />06836<br />06837<br />06838<br />06839<br />06840<br />
06841<br />06842<br />06843<br />06844<br />06845<br />06846<br />06847<br />06848<br />06849<br />06850<br />06851<br />06852<br />06853<br />06854<br />06855<br />06856<br />06857<br />06858<br />06859<br />06860<br />
06861<br />06862<br />06863<br />06864<br />06865<br />06866<br />06867<br />06868<br />06869<br />06870<br />06871<br />06872<br />06873<br />06874<br />06875<br />06876<br />06877<br />06878<br />06879<br />06880<br />
06881<br />06882<br />06883<br />06884<br />06885<br />06886<br />06887<br />06888<br />06889<br />06890<br />06891<br />06892<br />06893<br />06894<br />06895<br />06896<br />06897<br />06898<br />06899<br />06900<br />
06901<br />06902<br />06903<br />06904<br />06905<br />06906<br />06907<br />06908<br />06909<br />06910<br />06911<br />06912<br />06913<br />06914<br />06915<br />06916<br />06917<br />06918<br />06919<br />06920<br />
06921<br />06922<br />06923<br />06924<br />06925<br />06926<br />06927</span></td>
<td class="source"><pre class="source"><a name="1"></a><span class="source_comment">//=============================================================================
</span><a name="2"></a><span class="source_comment">// ROHud
</span><a name="3"></a><span class="source_comment">//=============================================================================
</span><a name="4"></a><span class="source_comment">// New HUD for Red Orchestra
</span><a name="5"></a><span class="source_comment">//=============================================================================
</span><a name="6"></a><span class="source_comment">// Red Orchestra Source
</span><a name="7"></a><span class="source_comment">// Copyright (C) 2003-2004 Erik Christensen
</span><a name="8"></a><span class="source_comment">//=============================================================================
</span><a name="9"></a>
<a name="10"></a><span class="source_type">class</span> <span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span> extends <span class="source_type"><a href="../xinterface/hudbase.html" class="source">HudBase</a></span>;
<a name="11"></a>
<a name="12"></a><span class="source_comment">//=============================================================================
</span><a name="13"></a><span class="source_comment">// Execs
</span><a name="14"></a><span class="source_comment">//=============================================================================
</span><a name="15"></a>
<a name="16"></a><span class="source_comment">//#exec OBJ LOAD FILE=ROInterfaceArt.utx
</span><a name="17"></a><span class="source_comment">//#exec OBJ LOAD FILE=..\textures\InterfaceArt2_tex.utx
</span><a name="18"></a>
<a name="19"></a><span class="source_comment">//=============================================================================
</span><a name="20"></a><span class="source_comment">// Variables
</span><a name="21"></a><span class="source_comment">//=============================================================================
</span><a name="22"></a>
<a name="23"></a>var	<span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span>				NorthDirection;
<a name="24"></a>
<a name="25"></a><span class="source_comment">// Config
</span><a name="26"></a>var globalconfig <span class="source_type">bool</span>           bShowCompass;
<a name="27"></a>var globalconfig <span class="source_type">bool</span>           bShowMapUpdatedText;
<a name="28"></a>
<a name="29"></a><span class="source_comment">// Text
</span><a name="30"></a>var		localized	<span class="source_type">string</span>		ReinforcementText;
<a name="31"></a>var		localized	<span class="source_type">string</span>		TimeRemainingText;
<a name="32"></a>var		localized	<span class="source_type">string</span>		IPText;
<a name="33"></a>var		localized	<span class="source_type">string</span>		TimeText;
<a name="34"></a>var		localized	<span class="source_type">string</span>		ViewingText;
<a name="35"></a>var		localized	<span class="source_type">string</span>		NoReinforcementsText;
<a name="36"></a>var		localized	<span class="source_type">string</span>		TeamMessagePrefix;
<a name="37"></a>var		localized	<span class="source_type">string</span>		ObjectivesText;
<a name="38"></a>var		localized	<span class="source_type">string</span>		PlayersNeededText;
<a name="39"></a>var		localized	<span class="source_type">string</span>		SpectateInstructionText1;
<a name="40"></a>var		localized	<span class="source_type">string</span>		SpectateInstructionText2;
<a name="41"></a>var		localized	<span class="source_type">string</span>		SpectateInstructionText3;
<a name="42"></a>var		localized	<span class="source_type">string</span>		SpectateInstructionText4;
<a name="43"></a>var		localized	<span class="source_type">string</span>		NeedAmmoText;
<a name="44"></a>var     localized   <span class="source_type">string</span>      CanResupplyText;
<a name="45"></a>var     localized   <span class="source_type">string</span>      OpenMapText;
<a name="46"></a>var     localized   <span class="source_type">string</span>      SituationMapInstructionsText;
<a name="47"></a>var                 <span class="source_type">string</span>      SpacingText;
<a name="48"></a>
<a name="49"></a>var     localized   <span class="source_type">string</span>      MapCoordTextX[<span class="source_int">9</span>], MapCoordTextY[<span class="source_int">9</span>];
<a name="50"></a>
<a name="51"></a>var     localized   <span class="source_type">string</span>      LegendAxisObjectiveText;
<a name="52"></a>var     localized   <span class="source_type">string</span>      LegendAlliesObjectiveText;
<a name="53"></a>var     localized   <span class="source_type">string</span>      LegendNeutralObjectiveText;
<a name="54"></a>var     localized   <span class="source_type">string</span>      LegendArtilleryRadioText;
<a name="55"></a>var     localized   <span class="source_type">string</span>      LegendResupplyAreaText;
<a name="56"></a>var     localized   <span class="source_type">string</span>      LegendRallyPointText;
<a name="57"></a>var     localized   <span class="source_type">string</span>      LegendSavedArtilleryText;
<a name="58"></a>var     localized   <span class="source_type">string</span>      LegendOrderTargetText;
<a name="59"></a>var     localized   <span class="source_type">string</span>      LegendArtyStrikeText;
<a name="60"></a>var     localized   <span class="source_type">string</span>      LegendHelpRequestText;
<a name="61"></a>var     localized   <span class="source_type">string</span>      LegendDestroyableItemText;
<a name="62"></a>var     localized   <span class="source_type">string</span>      LegendDestroyedItemText;
<a name="63"></a>var     localized   <span class="source_type">string</span>      LegendMGResupplyText;
<a name="64"></a>var     localized   <span class="source_type">string</span>      LegendVehResupplyAreaText;
<a name="65"></a>var     localized   <span class="source_type">string</span>      LegendATGunText;
<a name="66"></a>
<a name="67"></a>
<a name="68"></a><span class="source_comment">// Fonts
</span><a name="69"></a>var		localized	<span class="source_type">string</span>		SmallFontArrayNames[<span class="source_int">9</span>];
<a name="70"></a>var		<span class="source_type">Font</span>					SmallFontArrayFonts[<span class="source_int">9</span>];
<a name="71"></a>var		localized	<span class="source_type">string</span>		MenuFontArrayNames[<span class="source_int">5</span>];
<a name="72"></a>var		<span class="source_type">Font</span>					MenuFontArrayFonts[<span class="source_int">5</span>];
<a name="73"></a>var     localized   <span class="source_type">string</span>      CriticalMsgFontArrayNames[<span class="source_int">9</span>];
<a name="74"></a>var     <span class="source_type">Font</span>                    CriticalMsgFontArrayFonts[<span class="source_int">9</span>];
<a name="75"></a>
<a name="76"></a>var		<span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span>					SideColors[<span class="source_int">2</span>];
<a name="77"></a>
<a name="78"></a><span class="source_comment">// General
</span><a name="79"></a>var		<span class="source_type"><a href="../xinterface/hudbase.html#DigitSet" class="source">DigitSet</a></span>				Digits;					<span class="source_comment">// Digit set for RO
</span><a name="80"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>) <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         HealthFigure;			<span class="source_comment">// Create widgets for all the HUD elements
</span><a name="81"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>) <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         HealthFigureBackground;
<a name="82"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>) <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         HealthFigureStamina;
<a name="83"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>) <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         StanceIcon;
<a name="84"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>) <span class="source_type"><a href="../xinterface/hudbase.html#NumericWidget" class="source">NumericWidget</a></span>        AmmoCount;
<a name="85"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>) <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         AmmoIcon;
<a name="86"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>) <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         AutoFireIcon;
<a name="87"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>) <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         SemiFireIcon;
<a name="88"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>) <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         MGDeployIcon;
<a name="89"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>) <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         ResupplyZoneNormalPlayerIcon,
<a name="90"></a>                                ResupplyZoneNormalVehicleIcon,
<a name="91"></a>                                ResupplyZoneResupplyingPlayerIcon,
<a name="92"></a>                                ResupplyZoneResupplyingVehicleIcon;
<a name="93"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>) <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         WeaponCanRestIcon;
<a name="94"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>) <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         WeaponRestingIcon;
<a name="95"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>) <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         CompassBase;
<a name="96"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>) <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         CompassNeedle;
<a name="97"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>) <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         CompassIcons;
<a name="98"></a>
<a name="99"></a>var     <span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span>                   WeaponReloadingColor;
<a name="100"></a>
<a name="101"></a>var		<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>				NationHealthFigures[<span class="source_int">2</span>];	<span class="source_comment">// FIXME: Need to move this over to RORoleInfo in some fashion.  It's hard-coded now. :/ - Erik
</span><a name="102"></a>var		<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>				NationHealthFiguresBackground[<span class="source_int">2</span>];
<a name="103"></a>var		<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>				NationHealthFiguresStamina[<span class="source_int">2</span>];
<a name="104"></a>var		<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>				NationHealthFiguresStaminaCritical[<span class="source_int">2</span>];
<a name="105"></a><span class="source_comment">//var		Material				NationClockBases[2];
</span><a name="106"></a><span class="source_comment">//var		Material				NationClockHands[2];
</span><a name="107"></a>var     <span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>                StanceStanding, StanceCrouch, StanceProne;
<a name="108"></a>var     <span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>                PlayerArrowTexture;
<a name="109"></a>
<a name="110"></a>var		<span class="source_type">bool</span>					bShowObjectives;
<a name="111"></a><span class="source_comment">/*var		Material				HeaderImage;
<a name="112"></a>var		Material				NationIcons[2];
<a name="113"></a>var		Material				NeutralIcon;
<a name="114"></a>var		Material				ArtilleryIcon;    // The icon for a saved artillery strike location
<a name="115"></a>var		Material				RallyPointIcon;    // The icon for a saved artillery strike location
<a name="116"></a>var		Material				RadioIcon;        // The icon for a radio/phone station
<a name="117"></a>var     Material                ResupplyIcon;
<a name="118"></a>var     Material                HelpRequestIcon;
<a name="119"></a>var     Material                MGResupplyRequestIcon;*/</span>
<a name="120"></a>
<a name="121"></a>
<a name="122"></a>
<a name="123"></a>var		<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>					NamedPlayer;
<a name="124"></a>var		<span class="source_type">float</span>					NameTime;
<a name="125"></a>
<a name="126"></a><span class="source_comment">// Debugging
</span><a name="127"></a>var     <span class="source_type">bool</span>                    bShowDebugInfoOnMap;
<a name="128"></a>var     <span class="source_type">bool</span>                    bShowRelevancyDebugOnMap;
<a name="129"></a>var     <span class="source_type">bool</span>                    bShowRelevancyDebugOverlay;
<a name="130"></a>
<a name="131"></a>enum <span class="source_type"><a href="../roengine/rohud.html#ENetDebugMode" class="source">ENetDebugMode</a></span>
<a name="132"></a>{
<a name="133"></a>	ND_PawnsOnly,		<span class="source_comment">// Show debug info for pawns only (vehicles, players, etc)
</span><a name="134"></a>	ND_VehiclesOnly,	<span class="source_comment">// Show debug info for vehicles only
</span><a name="135"></a>	ND_PlayersOnly,		<span class="source_comment">// Show debug info for infantry players only
</span><a name="136"></a>	ND_All,			    <span class="source_comment">// Show Debug Info for all actors
</span><a name="137"></a>	ND_AllWithText,     <span class="source_comment">// Show Debug Info for all actors and their name
</span><a name="138"></a>};
<a name="139"></a>
<a name="140"></a>var <span class="source_type"><a href="../roengine/rohud.html#ENetDebugMode" class="source">ENetDebugMode</a></span>	NetDebugMode;			<span class="source_comment">// net debugging mode
</span><a name="141"></a>
<a name="142"></a>
<a name="143"></a>struct <span class="source_type"><a href="../roengine/rohud.html#TextWidget" class="source">TextWidget</a></span>
<a name="144"></a>{
<a name="145"></a>	<span class="source_comment">// Font must be set before calling DrawTextWidgetClipped()
</span><a name="146"></a>
<a name="147"></a>	<span class="source_comment">// String must left blank in default properties (for localization)
</span><a name="148"></a>	var localized <span class="source_type">string</span> <span class="source_type">text</span>;
<a name="149"></a>
<a name="150"></a>	var <span class="source_type"><a href="../engine/actor.html#ERenderStyle" class="source">ERenderStyle</a></span> RenderStyle;
<a name="151"></a>
<a name="152"></a>	var <span class="source_type"><a href="../core/object.html#EDrawPivot" class="source">EDrawPivot</a></span> DrawPivot;
<a name="153"></a>	var <span class="source_type">float</span> PosX, PosY;
<a name="154"></a>	var <span class="source_type">float</span> WrapWidth, WrapHeight;
<a name="155"></a>	var <span class="source_type">int</span> OffsetX, OffsetY;
<a name="156"></a>
<a name="157"></a>	var <span class="source_type">bool</span> bDrawShadow;
<a name="158"></a>
<a name="159"></a>	var <span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span> Tints[<span class="source_int">2</span>];
<a name="160"></a>};
<a name="161"></a>
<a name="162"></a><span class="source_comment">// for drawing widgets on specific areas of the hud
</span><a name="163"></a>struct <span class="source_type"><a href="../roengine/rohud.html#AbsoluteCoordsInfo" class="source">AbsoluteCoordsInfo</a></span>
<a name="164"></a>{
<a name="165"></a>	var <span class="source_type">float</span> PosX, PosY;
<a name="166"></a>	var <span class="source_type">float</span> <span class="source_type">width</span>, height;
<a name="167"></a>};
<a name="168"></a>struct <span class="source_type"><a href="../roengine/rohud.html#RelativeCoordsInfo" class="source">RelativeCoordsInfo</a></span>
<a name="169"></a>{
<a name="170"></a>	var <span class="source_type">float</span> <span class="source_type">X</span>, <span class="source_type">Y</span>;   <span class="source_comment">// 0-1 values
</span><a name="171"></a>	var <span class="source_type">float</span> XL, <span class="source_type">YL</span>; <span class="source_comment">// 0-1 values
</span><a name="172"></a>};
<a name="173"></a>
<a name="174"></a><span class="source_comment">// Death messages
</span><a name="175"></a>struct <span class="source_type"><a href="../roengine/rohud.html#Obituary" class="source">Obituary</a></span>
<a name="176"></a>{
<a name="177"></a>	var	<span class="source_type">string</span>				KillerName;
<a name="178"></a>	var	<span class="source_type">string</span>				VictimName;
<a name="179"></a>	var	<span class="source_type"><a href="../core/object.html#Color" class="source">Color</a></span>				KillerColor;
<a name="180"></a>	var	<span class="source_type"><a href="../core/object.html#Color" class="source">Color</a></span>				VictimColor;
<a name="181"></a>	var	<span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt;	<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>;
<a name="182"></a>	var	<span class="source_type">float</span>				EndOfLife;
<a name="183"></a>};
<a name="184"></a>
<a name="185"></a>var		<span class="source_type"><a href="../roengine/rohud.html#Obituary" class="source">Obituary</a></span>				Obituaries[<span class="source_int">4</span>];
<a name="186"></a>var		<span class="source_type">float</span>					ObituaryLifeSpan;
<a name="187"></a>var		<span class="source_type">int</span>						ObituaryCount;
<a name="188"></a>
<a name="189"></a>var		<span class="source_type">float</span>					FadeTime;
<a name="190"></a>var		<span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span>					<span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>;
<a name="191"></a>var     <span class="source_type">float</span>                   WhiteFlashTime;
<a name="192"></a>
<a name="193"></a><span class="source_comment">// for situation map icon
</span><a name="194"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>) <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         MapUpdatedIcon;
<a name="195"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>) <span class="source_type"><a href="../roengine/rohud.html#TextWidget" class="source">TextWidget</a></span>           MapUpdatedText;
<a name="196"></a>var     <span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>                MapIconsFlash, MapIconsFastFlash;
<a name="197"></a>var     <span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>                MapIconsAltFlash, MapIconsAltFastFlash; <span class="source_comment">// These are out of phase
</span><a name="198"></a>
<a name="199"></a>
<a name="200"></a><span class="source_comment">// for situation map stuff
</span><a name="201"></a>var     <span class="source_type">bool</span>                        bShowMapUpdatedIcon;
<a name="202"></a>var     <span class="source_type">float</span>                       MapUpdatedIconTime;
<a name="203"></a>var     <span class="source_type">float</span>                       MaxMapUpdatedIconDisplayTime;
<a name="204"></a>var     <span class="source_type">float</span>                       MapLastRallyPointAssignTime;
<a name="205"></a>var     <span class="source_type"><a href="../engine/sound.html" class="source">sound</a></span>                       AssignOKSound, AssignFailedSound;
<a name="206"></a>var     <span class="source_type">bool</span>                        bAnimateMapIn, bAnimateMapOut;
<a name="207"></a>var     <span class="source_type">float</span>                       AnimateMapCurrentPosition;
<a name="208"></a>var     <span class="source_type">float</span>                       AnimateMapSpeed;
<a name="209"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type">bool</span>                 bShowAllItemsInMapLegend;
<a name="210"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         MapBackground;
<a name="211"></a><span class="source_comment">//var(ROHud)     SpriteWidget         MapLevelBounds; // Used to calculate where to draw level image
</span><a name="212"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../roengine/rohud.html#RelativeCoordsInfo" class="source">RelativeCoordsInfo</a></span>   MapLegendImageCoords;
<a name="213"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         MapLevelImage; <span class="source_comment">// Used to draw level image
</span><a name="214"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../roengine/rohud.html#TextWidget" class="source">TextWidget</a></span>           MapTexts; <span class="source_comment">// Used to render text on the level image
</span><a name="215"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         MapPlayerIcon; <span class="source_comment">// Used to render player arrow on the level image
</span><a name="216"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../roengine/rohud.html#TextWidget" class="source">TextWidget</a></span>           MapCoordTextXWidget, MapCoordTextYWidget;
<a name="217"></a>var     <span class="source_type">int</span>                         LegendItemsIndex;   <span class="source_comment">// Holds current index of legend element (to figure where to draw)
</span><a name="218"></a>var     <span class="source_type">float</span>                       CurrentTime; <span class="source_comment">// Contains remaining time for this round
</span><a name="219"></a>
<a name="220"></a><span class="source_comment">// Used to render icons on the level image
</span><a name="221"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         MapIconTeam[<span class="source_int">2</span>];
<a name="222"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         MapIconDispute[<span class="source_int">2</span>];
<a name="223"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         MapIconNeutral;
<a name="224"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         MapIconRadio;
<a name="225"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         MapIconRally[<span class="source_int">2</span>];
<a name="226"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         MapIconResupply;
<a name="227"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         MapIconVehicleResupply;
<a name="228"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         MapIconHelpRequest;
<a name="229"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         MapIconMGResupplyRequest[<span class="source_int">2</span>];
<a name="230"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         MapIconAttackDefendRequest;
<a name="231"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         MapIconArtyStrike;
<a name="232"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         MapIconDestroyableItem;
<a name="233"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         MapIconDestroyedItem;
<a name="234"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         MapIconATGun;
<a name="235"></a>
<a name="236"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../roengine/rohud.html#TextWidget" class="source">TextWidget</a></span>           MapTimerTitle;
<a name="237"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../roengine/rohud.html#TextWidget" class="source">TextWidget</a></span>           MapTimerTexts[<span class="source_int">4</span>];
<a name="238"></a>
<a name="239"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../roengine/rohud.html#RelativeCoordsInfo" class="source">RelativeCoordsInfo</a></span>   MapLegendCoords;
<a name="240"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         MapLegend;
<a name="241"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>         MapLegendIcons;
<a name="242"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../roengine/rohud.html#TextWidget" class="source">TextWidget</a></span>           MapLegendTitle;
<a name="243"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../roengine/rohud.html#TextWidget" class="source">TextWidget</a></span>           MapLegendTexts;
<a name="244"></a>
<a name="245"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../roengine/rohud.html#RelativeCoordsInfo" class="source">RelativeCoordsInfo</a></span>   MapObjectivesCoords;
<a name="246"></a><span class="source_comment">//var(ROHud)     SpriteWidget         MapObjectives;
</span><a name="247"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../roengine/rohud.html#TextWidget" class="source">TextWidget</a></span>           MapObjectivesTitle;
<a name="248"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../roengine/rohud.html#TextWidget" class="source">TextWidget</a></span>           MapRequiredObjectivesTitle;
<a name="249"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../roengine/rohud.html#TextWidget" class="source">TextWidget</a></span>           MapSecondaryObjectivesTitle;
<a name="250"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)     <span class="source_type"><a href="../roengine/rohud.html#TextWidget" class="source">TextWidget</a></span>           MapObjectivesTexts;
<a name="251"></a>
<a name="252"></a><span class="source_comment">//var(ROHud)	   SpriteWidget			ClockBase;
</span><a name="253"></a><span class="source_comment">//var(ROHud)	   SpriteWidget			ClockHand;
</span><a name="254"></a>
<a name="255"></a>
<a name="256"></a><span class="source_comment">// Used for figuring where the player clicked on the situation map
</span><a name="257"></a>var            <span class="source_type"><a href="../roengine/rohud.html#AbsoluteCoordsInfo" class="source">AbsoluteCoordsInfo</a></span>   MapLevelImageCoordinates;
<a name="258"></a>
<a name="259"></a><span class="source_comment">// Player portraits
</span><a name="260"></a><span class="source_comment">//var Material Portrait;
</span><a name="261"></a>var             <span class="source_type">float</span>               PortraitTime;
<a name="262"></a>var             <span class="source_type">float</span>               PortraitX;
<a name="263"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)      <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>        PortraitIcon;
<a name="264"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)      <span class="source_type"><a href="../roengine/rohud.html#TextWidget" class="source">TextWidget</a></span>          PortraitText[<span class="source_int">2</span>];
<a name="265"></a>
<a name="266"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>) <span class="source_type">float</span> MapScale;
<a name="267"></a>
<a name="268"></a><span class="source_comment">// debugging
</span><a name="269"></a>var <span class="source_type">bool</span> bDebugDriverCollision;
<a name="270"></a>var <span class="source_type">bool</span> bDebugPlayerCollision;
<a name="271"></a>var <span class="source_type">bool</span> bDebugDrawHudBounds;
<a name="272"></a>
<a name="273"></a><span class="source_comment">// Voice meter
</span><a name="274"></a>var     	<span class="source_type"><a href="../engine/texrotator.html" class="source">TexRotator</a></span>          NeedleRotator; 			<span class="source_comment">// The texture for the VU Meter needle
</span><a name="275"></a>var			<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span>			    VoiceMeterBackground;   <span class="source_comment">// Background texture for the voice meter
</span><a name="276"></a>var()   	<span class="source_type">float</span>               VoiceMeterX;    		<span class="source_comment">// Voice meter X position
</span><a name="277"></a>var()   	<span class="source_type">float</span>               VoiceMeterY;    		<span class="source_comment">// Voice meter Y position
</span><a name="278"></a>var()       <span class="source_type">float</span>               VoiceMeterSize;         <span class="source_comment">// Size of the voice meter icon
</span><a name="279"></a>
<a name="280"></a><span class="source_comment">// for local messages
</span><a name="281"></a>struct <span class="source_type"><a href="../roengine/rohud.html#HudLocalizedMessageExtra" class="source">HudLocalizedMessageExtra</a></span>
<a name="282"></a>{
<a name="283"></a>	<span class="source_comment">// The following block of variables are cached on first render:
</span><a name="284"></a>	var array&lt;<span class="source_type">string</span>&gt; lines;
<a name="285"></a>	var <span class="source_type">float</span> y_offset;    <span class="source_comment">// tells the renderer how much space to put between ROCriticalMessages
</span><a name="286"></a>	var <span class="source_type">int</span> background_type;
<a name="287"></a>};
<a name="288"></a>var() transient <span class="source_type"><a href="../roengine/rohud.html#HudLocalizedMessageExtra" class="source">HudLocalizedMessageExtra</a></span> LocalMessagesExtra[<span class="source_int">8</span>];
<a name="289"></a>
<a name="290"></a><span class="source_comment">// For compass
</span><a name="291"></a>var         <span class="source_type">float</span>           compassCurrentRotation;    <span class="source_comment">// 0-65535
</span><a name="292"></a>var         <span class="source_type">float</span>           compassStabilizationConstant;
<a name="293"></a>var         <span class="source_type">float</span>           compassIconsOpacity; <span class="source_comment">// 0-1 value
</span><a name="294"></a>var         <span class="source_type">float</span>           compassIconsFadeSpeed; <span class="source_comment">// higher == icons dissapears faster
</span><a name="295"></a>var         <span class="source_type">float</span>           compassIconsRefreshSpeed;  <span class="source_comment">// higher == icons reappear faster
</span><a name="296"></a>var         <span class="source_type">float</span>           compassIconsPositionRadius; <span class="source_comment">// 0-1 value
</span><a name="297"></a><span class="source_comment">//var         float           compassIconsUUDistance; // distance in UU at which icons start movign toward center of compass
</span><a name="298"></a>var         <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>          compassIconsTargets[<span class="source_int">8</span>];
<a name="299"></a>var         <span class="source_type">byte</span>            compassIconsTargetsActive[<span class="source_int">8</span>];
<a name="300"></a>var         <span class="source_type"><a href="../core/object.html#IntBox" class="source">IntBox</a></span>          compassIconsTargetsWidgetCoords[<span class="source_int">8</span>];
<a name="301"></a><span class="source_comment">//var         color           compassIconsTargetsColor[8];
</span><a name="302"></a><span class="source_comment">/*var         color           compassIconsColorsAxis,
<a name="303"></a>							compassIconsColorsAllies,
<a name="304"></a>							compassIconsColorsNeutral,
<a name="305"></a>							compassIconsColorsHelpRequests,
<a name="306"></a>							compassIconsColorsMGResupply,
<a name="307"></a>							compassIconsColorsRally;*/</span>
<a name="308"></a><span class="source_comment">//var         TexRotator      compassIconsRotators[8];
</span><a name="309"></a>
<a name="310"></a>var         <span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>        locationHitAxisImages[<span class="source_int">15</span>];
<a name="311"></a>var         <span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>        locationHitAlliesImages[<span class="source_int">15</span>];
<a name="312"></a>var         <span class="source_type">float</span>           locationHitAlphas[<span class="source_int">15</span>];
<a name="313"></a>var         <span class="source_type">bool</span>            bDrawHits;  <span class="source_comment">// Set to true when at least one of the location hit images needs
</span><a name="314"></a>										<span class="source_comment">// to be drawn
</span><a name="315"></a>
<a name="316"></a><span class="source_comment">// General hud
</span><a name="317"></a>var         <span class="source_type">float</span>           hudLastRenderTime;
<a name="318"></a>
<a name="319"></a><span class="source_comment">// For mouse interface
</span><a name="320"></a>var         <span class="source_type">bool</span>            bCapturingMouse;
<a name="321"></a>var         <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>          MouseCurrentPos;
<a name="322"></a>var         <span class="source_type">int</span>             LastHUDSizeX, LastHUDSizeY;
<a name="323"></a>var         <span class="source_type">bool</span>            bHaveAtLeastOneValidMouseUpdate;
<a name="324"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>    MouseInterfaceIcon;
<a name="325"></a>
<a name="326"></a><span class="source_comment">// For vehicle icon
</span><a name="327"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../roengine/rohud.html#RelativeCoordsInfo" class="source">RelativeCoordsInfo</a></span>  VehicleIconCoords;
<a name="328"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>        VehicleIcon, VehicleIconAlt;
<a name="329"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>        VehicleThreads[<span class="source_int">2</span>];
<a name="330"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>        VehicleEngine;
<a name="331"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>        VehicleOccupants;
<a name="332"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../roengine/rohud.html#TextWidget" class="source">TextWidget</a></span>          VehicleOccupantsText;
<a name="333"></a>var         <span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span>               VehicleNormalColor,
<a name="334"></a>								VehicleDamagedColor,
<a name="335"></a>								VehicleCriticalColor;
<a name="336"></a>var         <span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span>               VehiclePositionIsPlayerColor,
<a name="337"></a>								VehiclePositionIsOccupiedColor,
<a name="338"></a>								VehiclePositionIsVacantColor;
<a name="339"></a>var         <span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>            VehicleEngineDamagedTexture,
<a name="340"></a>								VehicleEngineCriticalTexture;
<a name="341"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>        VehicleAmmoIcon;
<a name="342"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>        VehicleAmmoReloadIcon;
<a name="343"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#NumericWidget" class="source">NumericWidget</a></span>       VehicleAmmoAmount;
<a name="344"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../roengine/rohud.html#TextWidget" class="source">TextWidget</a></span>          VehicleAmmoTypeText;
<a name="345"></a>var         <span class="source_type">float</span>               VehicleOccupantsTextOffset; <span class="source_comment">// This offset is used when ammo is drawn
</span><a name="346"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>        VehicleAltAmmoIcon;
<a name="347"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#NumericWidget" class="source">NumericWidget</a></span>       VehicleAltAmmoAmount;
<a name="348"></a>var         <span class="source_type">float</span>               VehicleAltAmmoOccupantsTextOffset; <span class="source_comment">// Vertical offset
</span><a name="349"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>        VehicleMGAmmoIcon;
<a name="350"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#NumericWidget" class="source">NumericWidget</a></span>       VehicleMGAmmoAmount;
<a name="351"></a>
<a name="352"></a>var         <span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>            VehicleRPMTextures[<span class="source_int">2</span>],
<a name="353"></a>                                VehicleRPMNeedlesTextures[<span class="source_int">2</span>],
<a name="354"></a>                                VehicleSpeedTextures[<span class="source_int">2</span>],
<a name="355"></a>                                VehicleSpeedNeedlesTextures[<span class="source_int">2</span>];
<a name="356"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>        VehicleSpeedIndicator;
<a name="357"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>        VehicleRPMIndicator;
<a name="358"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>        VehicleThrottleIndicatorTop, VehicleThrottleIndicatorBottom,
<a name="359"></a>                                VehicleThrottleIndicatorBackground,
<a name="360"></a>                                VehicleThrottleIndicatorForeground,
<a name="361"></a>                                VehicleThrottleIndicatorLever;
<a name="362"></a>var         <span class="source_type">float</span>               VehicleRPMZeroPosition[<span class="source_int">2</span>], VehicleRPMScale[<span class="source_int">2</span>];
<a name="363"></a>var         <span class="source_type">float</span>               VehicleSpeedZeroPosition[<span class="source_int">2</span>], VehicleSpeedScale[<span class="source_int">2</span>];
<a name="364"></a>var         <span class="source_type">float</span>               VehicleThrottleTopZeroPosition, VehicleThrottleTopMaxPosition;
<a name="365"></a>var         <span class="source_type">float</span>               VehicleThrottleBottomZeroPosition, VehicleThrottleBottomMaxPosition;
<a name="366"></a>var         <span class="source_type">float</span>               VehicleGaugesOccupantsTextOffset;
<a name="367"></a>var         <span class="source_type">float</span>               VehicleGaugesNoThrottleOccupantsTextOffset;
<a name="368"></a>
<a name="369"></a>var         <span class="source_type">float</span>               VehicleLastSpeedRotation, <span class="source_comment">// Speed displayed on speed needle last time
</span><a name="370"></a>                                VehicleLastRPMRotation; <span class="source_comment">// RPM displayed on RPM needle last time
</span><a name="371"></a>var         <span class="source_type">float</span>               VehicleNeedlesRotationSpeed;
<a name="372"></a>var         <span class="source_type">float</span>               VehicleNeedlesLastRenderTime;
<a name="373"></a>
<a name="374"></a><span class="source_comment">// for capture bar
</span><a name="375"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>        CaptureBarBackground;
<a name="376"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>        CaptureBarOutline;
<a name="377"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>        CaptureBarAttacker;
<a name="378"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>        CaptureBarDefender;
<a name="379"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>        CaptureBarAttackerRatio;
<a name="380"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>        CaptureBarDefenderRatio;
<a name="381"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>        CaptureBarIcons[<span class="source_int">2</span>];
<a name="382"></a>var         <span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>            CaptureBarTeamIcons[<span class="source_int">2</span>];
<a name="383"></a>var         <span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span>               CaptureBarTeamColors[<span class="source_int">2</span>];
<a name="384"></a>var         <span class="source_type">bool</span>                bDrawingCaptureBar;
<a name="385"></a>
<a name="386"></a><span class="source_comment">// for hints
</span><a name="387"></a>var         <span class="source_type">bool</span>                bDrawHint;
<a name="388"></a>var         <span class="source_type">bool</span>                bFirstHintRender; <span class="source_comment">// Used to only calculate hint sizing constants once
</span><a name="389"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type">float</span>               HintFadeTime; <span class="source_comment">// How long it takes to fade in/out
</span><a name="390"></a>var         <span class="source_type">float</span>               HintRemainingTime;
<a name="391"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type">float</span>               HintLifetime;
<a name="392"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type">float</span>               HintDesiredAspectRatio; <span class="source_comment">// Aspect ratio used to wrap hint data
</span><a name="393"></a>var         <span class="source_type">string</span>              HintTitle, HintText; <span class="source_comment">// This is localized in ROHintManager
</span><a name="394"></a>var         array&lt;<span class="source_type">string</span>&gt;       HintWrappedText;
<a name="395"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>        HintBackground;
<a name="396"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../roengine/rohud.html#TextWidget" class="source">TextWidget</a></span>          HintTitleWidget;
<a name="397"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../roengine/rohud.html#TextWidget" class="source">TextWidget</a></span>          HintTextWidget;
<a name="398"></a>var(<span class="source_type"><a href="../roengine/rohud.html" class="source">ROHud</a></span>)  <span class="source_type"><a href="../roengine/rohud.html#RelativeCoordsInfo" class="source">RelativeCoordsInfo</a></span>  HintCoords; <span class="source_comment">// default properties of this are used when rendering, XL and YL are used to pivot around the X and Y pos
</span><a name="399"></a>
<a name="400"></a><span class="source_comment">// for fading to & from black
</span><a name="401"></a>var         <span class="source_type">bool</span>                bFadeToBlack;
<a name="402"></a>var         <span class="source_type">float</span>               FadeToBlackTime;
<a name="403"></a>var         <span class="source_type">float</span>               FadeToBlackStartTime;
<a name="404"></a>var         <span class="source_type">bool</span>                bFadeToBlackInvert;
<a name="405"></a>
<a name="406"></a>var			<span class="source_type">bool</span>				bUsingVOIP; <span class="source_comment">// Player is using VOIP
</span><a name="407"></a><span class="source_comment">//=============================================================================
</span><a name="408"></a><span class="source_comment">// Functions
</span><a name="409"></a><span class="source_comment">//=============================================================================
</span><a name="410"></a>
<a name="411"></a>exec function ShowDebug()
<a name="412"></a>{
<a name="413"></a>	if( <span class="source_type">Level</span>.NetMode != NM_Standalone && !<span class="source_type">class</span><span class="source_name">'ROEngine.ROLevelInfo'</span>.static.RODebugMode() )
<a name="414"></a>		return;
<a name="415"></a>
<a name="416"></a>    bShowDebugInfo = !bShowDebugInfo;
<a name="417"></a>}
<a name="418"></a>
<a name="419"></a>simulated function SetNetDebugMode(<span class="source_type">int</span> <span class="source_type">NewMode</span>)
<a name="420"></a>{
<a name="421"></a>    if( <span class="source_type"><a href="../roengine/rohud.html#ENetDebugMode" class="source">ENetDebugMode</a></span>(<span class="source_type">NewMode</span>) != NetDebugMode)
<a name="422"></a>        NetDebugMode = <span class="source_type"><a href="../roengine/rohud.html#ENetDebugMode" class="source">ENetDebugMode</a></span>(<span class="source_type">NewMode</span>);
<a name="423"></a>}
<a name="424"></a>
<a name="425"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="426"></a><span class="source_comment">// UpdatePrecacheMaterials
</span><a name="427"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="428"></a>
<a name="429"></a>simulated function UpdatePrecacheMaterials()
<a name="430"></a>{
<a name="431"></a><span class="source_comment">/*	Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.rus_hit_Rupperleg');
<a name="432"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.rus_hit_Lupperarm');
<a name="433"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.rus_hit_Rupperarm');
<a name="434"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.rus_hit_Llowerleg');
<a name="435"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.rus_hit_Rlowerleg');
<a name="436"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.rus_hit_Llowerarm');
<a name="437"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.rus_hit_Rlowerarm');
<a name="438"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.rus_hit_Lhand');
<a name="439"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.rus_hit_Rhand');
<a name="440"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.rus_hit_Lfoot');
<a name="441"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.rus_hit_Rfoot');
<a name="442"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.ger_hit_head');
<a name="443"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.ger_hit_torso');
<a name="444"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.ger_hit_Pelvis');
<a name="445"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.ger_hit_Lupperleg');
<a name="446"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.ger_hit_Rupperleg');
<a name="447"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.ger_hit_Lupperarm');
<a name="448"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.ger_hit_Rupperarm');
<a name="449"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.ger_hit_Llowerleg');
<a name="450"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.ger_hit_Rlowerleg');
<a name="451"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.ger_hit_Llowerarm');
<a name="452"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.ger_hit_Rlowerarm');
<a name="453"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.ger_hit_Lhand');
<a name="454"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.ger_hit_Rhand');
<a name="455"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.ger_hit_Lfoot');
<a name="456"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Player_hits.ger_hit_Rfoot');
<a name="457"></a>
<a name="458"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.HUD.MGDeploy');
<a name="459"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.HUD.Compass2_main');
<a name="460"></a>    Level.AddPrecacheMaterial(TexRotator'InterfaceArt_tex.HUD.TexRotator0');
<a name="461"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.OverheadMap.overheadmap_background');
<a name="462"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.HUD.VUMeter');
<a name="463"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Cursors.Pointer');
<a name="464"></a>    Level.AddPrecacheMaterial(TexRotator'InterfaceArt_tex.HUD.Needle_rot');
<a name="465"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Menu.SectionHeader_captionbar');
<a name="466"></a>
<a name="467"></a>    Level.AddPrecacheMaterial(FinalBlend'InterfaceArt_tex.OverheadMap.arrowhead_final');
<a name="468"></a>    Level.AddPrecacheMaterial(Material'InterfaceArt_tex.OverheadMap.overheadmap_Icons');
<a name="469"></a>    Level.AddPrecacheMaterial(Material'InterfaceArt2_tex.overheadmaps.overheadmap_IconsB');
<a name="470"></a>
<a name="471"></a>    Level.AddPrecacheMaterial(Material'InterfaceArt_tex.HUD.numbers');
<a name="472"></a>    Level.AddPrecacheMaterial(Material'InterfaceArt_tex.HUD.situation_map_icon');
<a name="473"></a>
<a name="474"></a>    Level.AddPrecacheMaterial(Material'InterfaceArt_tex.HUD.ger_player');
<a name="475"></a>    Level.AddPrecacheMaterial(Material'InterfaceArt_tex.HUD.ger_player_background');
<a name="476"></a>    Level.AddPrecacheMaterial(Material'InterfaceArt_tex.HUD.ger_player_Stamina');
<a name="477"></a>    Level.AddPrecacheMaterial(FinalBlend'InterfaceArt_tex.HUD.ger_player_Stamina_critical');
<a name="478"></a>    Level.AddPrecacheMaterial(Material'InterfaceArt_tex.HUD.rus_player');
<a name="479"></a>    Level.AddPrecacheMaterial(Material'InterfaceArt_tex.HUD.rus_player_background');
<a name="480"></a>    Level.AddPrecacheMaterial(Material'InterfaceArt_tex.HUD.rus_player_Stamina');
<a name="481"></a>    Level.AddPrecacheMaterial(FinalBlend'InterfaceArt_tex.HUD.rus_player_Stamina_critical');
<a name="482"></a>
<a name="483"></a>    Level.AddPrecacheMaterial(Material'InterfaceArt_tex.HUD.stance_stand');
<a name="484"></a>    Level.AddPrecacheMaterial(Material'InterfaceArt_tex.HUD.stance_crouch');
<a name="485"></a>    Level.AddPrecacheMaterial(Material'InterfaceArt_tex.HUD.stance_prone');
<a name="486"></a>
<a name="487"></a>
<a name="488"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Tank_Hud.throttle_background2');
<a name="489"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Tank_Hud.throttle_background2_bottom');
<a name="490"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Tank_Hud.throttle_background');
<a name="491"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Tank_Hud.throttle_main');
<a name="492"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Tank_Hud.throttle_lever');
<a name="493"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Tank_Hud.Ger_RPM');
<a name="494"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Tank_Hud.Rus_RPM');
<a name="495"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Tank_Hud.Ger_Speedometer');
<a name="496"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.Tank_Hud.Rus_Speedometer');
<a name="497"></a>    Level.AddPrecacheMaterial(TexRotator'InterfaceArt_tex.Tank_Hud.Ger_needle_rot');
<a name="498"></a>    Level.AddPrecacheMaterial(TexRotator'InterfaceArt_tex.Tank_Hud.Rus_needle_rot');
<a name="499"></a>    Level.AddPrecacheMaterial(TexRotator'InterfaceArt_tex.Tank_Hud.Ger_needle_rpm_rot');
<a name="500"></a>    Level.AddPrecacheMaterial(TexRotator'InterfaceArt_tex.Tank_Hud.Rus_needle_rpm_rot');
<a name="501"></a>
<a name="502"></a>    // Damage icons
<a name="503"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.deathicons.artkill');
<a name="504"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.deathicons.satchel');
<a name="505"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.deathicons.Strike');
<a name="506"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.deathicons.Generic');
<a name="507"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.deathicons.b792mm');
<a name="508"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.deathicons.buttsmack');
<a name="509"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.deathicons.knife');
<a name="510"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.deathicons.b762mm');
<a name="511"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.deathicons.rusgrenade');
<a name="512"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt2_tex.deathicons.sniperkill');
<a name="513"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.deathicons.b9mm');
<a name="514"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.deathicons.germgrenade');
<a name="515"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt2_tex.deathicons.faustkill');
<a name="516"></a>    Level.AddPrecacheMaterial(Texture'InterfaceArt_tex.deathicons.mine');
<a name="517"></a>*/</span>}
<a name="518"></a>
<a name="519"></a>simulated event PostBeginPlay()
<a name="520"></a>{
<a name="521"></a>    Super.PostBeginPlay();
<a name="522"></a>
<a name="523"></a>    <span class="source_comment">// hax! modify existing compass texture to use new texture instead of old one
</span><a name="524"></a><span class="source_comment">//    TexRotator'InterfaceArt_tex.HUD.TexRotator0'.Material = Texture'InterfaceArt_tex.HUD.Compass2_background';
</span><a name="525"></a> <span class="source_comment">//   TexRotator'InterfaceArt_tex.HUD.TexRotator0'.UOffset = 128;
</span><a name="526"></a>   <span class="source_comment">// TexRotator'InterfaceArt_tex.HUD.TexRotator0'.VOffset = 128;
</span><a name="527"></a>}
<a name="528"></a>
<a name="529"></a><span class="source_comment">// FIXME: Ummm.... PostNETBeginPlay?  On the HUD?  Why is this here?  There is no replication
</span><a name="530"></a><span class="source_comment">// that takes place with the HUD, so it's likely not even called. - Erik
</span><a name="531"></a>simulated function PostNetBeginPlay()
<a name="532"></a>{
<a name="533"></a>	super.PostNetBeginPlay();
<a name="534"></a>
<a name="535"></a>	if( (<span class="source_type">Level</span>.NetMode != NM_DedicatedServer) && (<span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(PlayerOwner) != none) )
<a name="536"></a>	{
<a name="537"></a>		<span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(PlayerOwner).GetNorthDirection();
<a name="538"></a>	}
<a name="539"></a>}
<a name="540"></a>
<a name="541"></a><span class="source_comment">//function DrawDamageIndicators(Canvas C);
</span><a name="542"></a>
<a name="543"></a>
<a name="544"></a>function DrawDamageIndicators(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>)
<a name="545"></a>{
<a name="546"></a>	if ( DamageTime[<span class="source_int">0</span>] &gt; <span class="source_int">0</span> )
<a name="547"></a>	{
<a name="548"></a>		<span class="source_type">C</span>.SetPos(<span class="source_int">0</span>,<span class="source_int">0</span>);
<a name="549"></a>		<span class="source_type">C</span>.DrawColor = DamageFlash[<span class="source_int">0</span>];
<a name="550"></a>		<span class="source_type">C</span>.DrawColor.<span class="source_type">A</span> = DamageTime[<span class="source_int">0</span>];
<a name="551"></a><span class="source_comment">//		if ( Emphasized[0] == 1 )
</span><a name="552"></a><span class="source_comment">//			C.DrawTile( Texture'InterfaceArt_tex.HUD.damage_indicators', C.ClipX, 0.15*C.ClipY, 0, 64, 32, -14);
</span><a name="553"></a><span class="source_comment">//		else
</span><a name="554"></a><span class="source_comment">//			C.DrawTile( Texture'InterfaceArt_tex.HUD.damage_indicators', C.ClipX, 0.05*C.ClipY, 0, 64, 32, -14);
</span><a name="555"></a>	}
<a name="556"></a>	else
<a name="557"></a>		Emphasized[<span class="source_int">0</span>] = <span class="source_int">0</span>;
<a name="558"></a>
<a name="559"></a>	if ( DamageTime[<span class="source_int">1</span>] &gt; <span class="source_int">0</span> )
<a name="560"></a>	{
<a name="561"></a>		<span class="source_type">C</span>.DrawColor = DamageFlash[<span class="source_int">1</span>];
<a name="562"></a>		<span class="source_type">C</span>.DrawColor.<span class="source_type">A</span> = DamageTime[<span class="source_int">1</span>];
<a name="563"></a>		if ( Emphasized[<span class="source_int">1</span>] == <span class="source_int">1</span> )
<a name="564"></a>		{
<a name="565"></a>			<span class="source_type">C</span>.SetPos(<span class="source_int">0</span>,<span class="source_int">0.85</span>*<span class="source_type">C</span>.ClipY);
<a name="566"></a><span class="source_comment">//			C.DrawTile( Texture'InterfaceArt_tex.HUD.damage_indicators', C.ClipX, 0.15*C.ClipY, 0, 50, 32, 14);
</span><a name="567"></a>		}
<a name="568"></a>		else
<a name="569"></a>		{
<a name="570"></a>			<span class="source_type">C</span>.SetPos(<span class="source_int">0</span>,<span class="source_int">0.9</span>*<span class="source_type">C</span>.ClipY);
<a name="571"></a><span class="source_comment">//			C.DrawTile( Texture'InterfaceArt_tex.HUD.damage_indicators', C.ClipX, 0.1*C.ClipY, 0, 50, 32, 14);
</span><a name="572"></a>		}
<a name="573"></a>	}
<a name="574"></a>	else
<a name="575"></a>		Emphasized[<span class="source_int">1</span>] = <span class="source_int">0</span>;
<a name="576"></a>
<a name="577"></a>	if ( DamageTime[<span class="source_int">2</span>] &gt; <span class="source_int">0</span> )
<a name="578"></a>	{
<a name="579"></a>		<span class="source_type">C</span>.SetPos(<span class="source_int">0</span>,<span class="source_int">0</span>);
<a name="580"></a>		<span class="source_type">C</span>.DrawColor = DamageFlash[<span class="source_int">2</span>];
<a name="581"></a>		<span class="source_type">C</span>.DrawColor.<span class="source_type">A</span> = DamageTime[<span class="source_int">2</span>];
<a name="582"></a><span class="source_comment">//		if ( Emphasized[2] == 1 )
</span><a name="583"></a><span class="source_comment">//			C.DrawTile( Texture'InterfaceArt_tex.HUD.damage_indicators', 0.15*C.ClipX, C.ClipY, 16, 0, 14, 32);
</span><a name="584"></a><span class="source_comment">//		else
</span><a name="585"></a><span class="source_comment">//			C.DrawTile( Texture'InterfaceArt_tex.HUD.damage_indicators', 0.05*C.ClipX, C.ClipY, 16, 0, 14, 32);
</span><a name="586"></a>	}
<a name="587"></a>	else
<a name="588"></a>		Emphasized[<span class="source_int">2</span>] = <span class="source_int">0</span>;
<a name="589"></a>
<a name="590"></a>	if ( DamageTime[<span class="source_int">3</span>] &gt; <span class="source_int">0</span> )
<a name="591"></a>	{
<a name="592"></a>		<span class="source_type">C</span>.DrawColor = DamageFlash[<span class="source_int">3</span>];
<a name="593"></a>		<span class="source_type">C</span>.DrawColor.<span class="source_type">A</span> = DamageTime[<span class="source_int">3</span>];
<a name="594"></a>		if ( Emphasized[<span class="source_int">3</span>] == <span class="source_int">1</span> )
<a name="595"></a>		{
<a name="596"></a>			<span class="source_type">C</span>.SetPos(<span class="source_int">0.85</span>*<span class="source_type">C</span>.ClipX,<span class="source_int">0</span>);
<a name="597"></a><span class="source_comment">//			C.DrawTile( Texture'InterfaceArt_tex.HUD.damage_indicators', 0.15*C.ClipX, C.ClipY, 30, 0, -14, 32);
</span><a name="598"></a>		}
<a name="599"></a>		else
<a name="600"></a>		{
<a name="601"></a>			<span class="source_type">C</span>.SetPos(<span class="source_int">0.95</span>*<span class="source_type">C</span>.ClipX,<span class="source_int">0</span>);
<a name="602"></a><span class="source_comment">//			C.DrawTile( Texture'InterfaceArt_tex.HUD.damage_indicators', 0.05*C.ClipX, C.ClipY, 30, 0, -14, 32);
</span><a name="603"></a>		}
<a name="604"></a>	}
<a name="605"></a>	else
<a name="606"></a>		Emphasized[<span class="source_int">3</span>] = <span class="source_int">0</span>;
<a name="607"></a>}
<a name="608"></a>
<a name="609"></a><span class="source_comment">/*
<a name="610"></a>we want to do a few things here:
<a name="611"></a>1.) check to see if a player is on our side, if not then return out
<a name="612"></a>2.) trace to see if they are visible, otherwise return out
<a name="613"></a>3.) make sure they're within X units or return out
<a name="614"></a>
<a name="615"></a>TODO - Change the font on the names to use a RO font
<a name="616"></a>TODO - Figure out something new for DrawPlayerNames
<a name="617"></a>*/</span>
<a name="618"></a>function DrawCustomBeacon(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>, <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> <span class="source_type">P</span>, <span class="source_type">float</span> ScreenLocX, <span class="source_type">float</span> ScreenLocY)
<a name="619"></a>{
<a name="620"></a>	local <span class="source_type">float</span> XL,<span class="source_type">YL</span>;
<a name="621"></a>	local <span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> PRI;
<a name="622"></a>	local <span class="source_type">int</span> PlayerDist;
<a name="623"></a><span class="source_comment">//	local Actor Hit;
</span><a name="624"></a>
<a name="625"></a>	log(<span class="source_string">"Are we even getting here?"</span>);
<a name="626"></a>
<a name="627"></a>	PRI = <span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>;
<a name="628"></a>
<a name="629"></a>	if( (PRI == none) || (PRI.<span class="source_type">Team</span> == none) )
<a name="630"></a>		return;
<a name="631"></a>
<a name="632"></a>	if( (PlayerOwner == none) || (PlayerOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> == none)
<a name="633"></a>		|| (PlayerOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span> == none )
<a name="634"></a>		|| (PlayerOwner.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> == none) )
<a name="635"></a>	{
<a name="636"></a>		return;
<a name="637"></a>	}
<a name="638"></a>
<a name="639"></a>	if( (PlayerOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.TeamIndex != PRI.<span class="source_type">Team</span>.TeamIndex) )
<a name="640"></a>		return;
<a name="641"></a>
<a name="642"></a>	PlayerDist = VSize(<span class="source_type">P</span>.Location - PlayerOwner.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.Location);
<a name="643"></a>
<a name="644"></a>	if( PlayerDist &gt; <span class="source_int">1600</span> )
<a name="645"></a>	{
<a name="646"></a>		return;
<a name="647"></a>	}
<a name="648"></a>
<a name="649"></a>	if( !FastTrace( <span class="source_type">P</span>.Location, PlayerOwner.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.Location ) )
<a name="650"></a>	{
<a name="651"></a>		    log(<span class="source_string">"Fasttrace from "</span>$<span class="source_type">P</span>$<span class="source_string">" to "</span>$PlayerOwner.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>$<span class="source_string">" Failed "</span>);
<a name="652"></a>	    return;
<a name="653"></a>	}
<a name="654"></a>
<a name="655"></a>	if ( PRI.<span class="source_type">Team</span> != None )
<a name="656"></a>		<span class="source_type">C</span>.DrawColor = GetTeamColor(PRI.<span class="source_type">Team</span>.TeamIndex);
<a name="657"></a>	else
<a name="658"></a>		<span class="source_type">C</span>.DrawColor = GetTeamColor(<span class="source_int">0</span>);
<a name="659"></a>		<span class="source_comment">//C.DrawColor = class'PlayerController'.Default.TeamBeaconTeamColors[0];
</span><a name="660"></a>
<a name="661"></a>	<span class="source_type">C</span>.<span class="source_type">Font</span> = GetConsoleFont(<span class="source_type">C</span>);
<a name="662"></a>	<span class="source_comment">//C.TextSize(PRI.PlayerName, strX, strY);
</span><a name="663"></a>	<span class="source_type">C</span>.StrLen(PRI.<span class="source_type">PlayerName</span>, XL, <span class="source_type">YL</span>);
<a name="664"></a>	<span class="source_type">C</span>.SetPos(ScreenLocX - <span class="source_int">0.5</span>*XL , ScreenLocY - <span class="source_type">YL</span>);
<a name="665"></a>	<span class="source_type">C</span>.DrawText(PRI.<span class="source_type">PlayerName</span>,true);
<a name="666"></a>
<a name="667"></a>	<span class="source_type">C</span>.SetPos(ScreenLocX, ScreenLocY);
<a name="668"></a>}
<a name="669"></a>
<a name="670"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="671"></a><span class="source_comment">// StartFadeEffect - Used to initiate a screen fade to black upon player death
</span><a name="672"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="673"></a>
<a name="674"></a>function StartFadeEffect()
<a name="675"></a>{
<a name="676"></a>	<span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>.<span class="source_type">R</span> = <span class="source_int">255</span>;
<a name="677"></a>	<span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>.G = <span class="source_int">255</span>;
<a name="678"></a>	<span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>.<span class="source_type">B</span> = <span class="source_int">255</span>;
<a name="679"></a>	<span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>.<span class="source_type">A</span> = <span class="source_int">0</span>;
<a name="680"></a>	FadeTime = <span class="source_type">Level</span>.TimeSeconds + <span class="source_int">5.0</span> + WhiteFlashTime * <span class="source_int">2</span>;
<a name="681"></a>}
<a name="682"></a>
<a name="683"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="684"></a><span class="source_comment">// ForceFadeEffect - Used to force a screen blacked out effect
</span><a name="685"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="686"></a>
<a name="687"></a>function ForceFadeEffect()
<a name="688"></a>{
<a name="689"></a>	<span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>.<span class="source_type">R</span> = <span class="source_int">0</span>;
<a name="690"></a>	<span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>.G = <span class="source_int">0</span>;
<a name="691"></a>	<span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>.<span class="source_type">B</span> = <span class="source_int">0</span>;
<a name="692"></a>	<span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>.<span class="source_type">A</span> = <span class="source_int">255</span>;
<a name="693"></a>	FadeTime = <span class="source_int">0</span>;
<a name="694"></a>}
<a name="695"></a>
<a name="696"></a>
<a name="697"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="698"></a><span class="source_comment">// StopFadeEffect - Kills off the fade effect
</span><a name="699"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="700"></a>
<a name="701"></a>function StopFadeEffect()
<a name="702"></a>{
<a name="703"></a>	FadeTime = -<span class="source_int">1</span>;
<a name="704"></a>}
<a name="705"></a>
<a name="706"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="707"></a><span class="source_comment">// DrawFadeEffect - Called to draw the fade effect to the screen
</span><a name="708"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="709"></a>
<a name="710"></a>simulated function DrawFadeEffect(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>)
<a name="711"></a>{
<a name="712"></a>	if (FadeTime &lt; <span class="source_int">0</span>)
<a name="713"></a>		return;
<a name="714"></a>
<a name="715"></a>	if (FadeTime - <span class="source_type">Level</span>.TimeSeconds - <span class="source_int">5</span> - WhiteFlashTime &gt; <span class="source_int">0</span>)
<a name="716"></a>	{
<a name="717"></a>   	    <span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>.<span class="source_type">R</span> = <span class="source_int">255</span>;
<a name="718"></a>	    <span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>.G = <span class="source_int">255</span>;
<a name="719"></a>	    <span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>.<span class="source_type">B</span> = <span class="source_int">255</span>;
<a name="720"></a>	    <span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>.<span class="source_type">A</span> = <span class="source_int">64</span> * (<span class="source_int">1</span> - (FMax(FadeTime - <span class="source_type">Level</span>.TimeSeconds - <span class="source_int">5</span> - WhiteFlashTime, <span class="source_int">0.0</span>) / WhiteFlashTime));
<a name="721"></a>	    <span class="source_type">C</span>.DrawColor = <span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>;
<a name="722"></a>	}
<a name="723"></a>	else if (FadeTime - <span class="source_type">Level</span>.TimeSeconds - <span class="source_int">5</span> &gt; <span class="source_int">0</span>)
<a name="724"></a>	{
<a name="725"></a>   	    <span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>.<span class="source_type">R</span> = <span class="source_int">255</span>;
<a name="726"></a>	    <span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>.G = <span class="source_int">255</span>;
<a name="727"></a>	    <span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>.<span class="source_type">B</span> = <span class="source_int">255</span>;
<a name="728"></a>		<span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>.<span class="source_type">A</span> = <span class="source_int">64</span> * (FMax(FadeTime - <span class="source_type">Level</span>.TimeSeconds - <span class="source_int">5</span>, <span class="source_int">0.0</span>) / WhiteFlashTime);
<a name="729"></a>	    <span class="source_type">C</span>.DrawColor = <span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>;
<a name="730"></a>	}
<a name="731"></a>	else
<a name="732"></a>	{
<a name="733"></a>   	    <span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>.<span class="source_type">R</span> = <span class="source_int">0</span>;
<a name="734"></a>	    <span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>.G = <span class="source_int">0</span>;
<a name="735"></a>	    <span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>.<span class="source_type">B</span> = <span class="source_int">0</span>;
<a name="736"></a>	    <span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>.<span class="source_type">A</span> = <span class="source_int">255</span> * (<span class="source_int">1</span> - FMax(FadeTime - <span class="source_type">Level</span>.TimeSeconds, <span class="source_int">0.0</span>) * <span class="source_int">0.2</span>);
<a name="737"></a>	    <span class="source_type">C</span>.DrawColor = <span class="source_type"><a href="../engine/fadecolor.html" class="source">FadeColor</a></span>;
<a name="738"></a>	}
<a name="739"></a>	<span class="source_type">C</span>.SetPos(<span class="source_int">0</span>, <span class="source_int">0</span>);
<a name="740"></a>	<span class="source_type">C</span>.DrawTileStretched(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Engine.WhiteSquareTexture'</span>, <span class="source_type">C</span>.ClipX, <span class="source_type">C</span>.ClipY);
<a name="741"></a>	<span class="source_type">C</span>.DrawColor = WhiteColor;
<a name="742"></a>}
<a name="743"></a>
<a name="744"></a>function ShowMapUpdatedIcon()
<a name="745"></a>{
<a name="746"></a>	if (!bShowObjectives && !bAnimateMapIn && ! bAnimateMapOut)
<a name="747"></a>	{
<a name="748"></a>		MapUpdatedIconTime = <span class="source_type">Level</span>.TimeSeconds;
<a name="749"></a>		bShowMapUpdatedIcon = true;
<a name="750"></a>	}
<a name="751"></a>}
<a name="752"></a>
<a name="753"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="754"></a><span class="source_comment">// AddDeathMessage - Adds a death message to the HUD
</span><a name="755"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="756"></a>
<a name="757"></a>function AddDeathMessage(<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> Killer, <span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> <span class="source_type">Victim</span>, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>)
<a name="758"></a>{
<a name="759"></a>	local <span class="source_type">int</span> <span class="source_type">i</span>;
<a name="760"></a>
<a name="761"></a>	if (<span class="source_type">Victim</span> == None)
<a name="762"></a>		return;
<a name="763"></a>
<a name="764"></a>	if (ObituaryCount == ArrayCount(Obituaries))
<a name="765"></a>	{
<a name="766"></a>		for (<span class="source_type">i</span> = <span class="source_int">1</span>; <span class="source_type">i</span> &lt; ArrayCount(Obituaries); <span class="source_type">i</span>++)
<a name="767"></a>			Obituaries[<span class="source_type">i</span> - <span class="source_int">1</span>] = Obituaries[<span class="source_type">i</span>];
<a name="768"></a>
<a name="769"></a>		ObituaryCount--;
<a name="770"></a>		Obituaries[ObituaryCount].KillerName = <span class="source_string">""</span>;
<a name="771"></a>	}
<a name="772"></a>
<a name="773"></a>	if (Killer != None && Killer != <span class="source_type">Victim</span>)
<a name="774"></a>	{
<a name="775"></a>		Obituaries[ObituaryCount].KillerName = Killer.<span class="source_type">PlayerName</span>;
<a name="776"></a>		Obituaries[ObituaryCount].KillerColor = GetTeamColor(Killer.<span class="source_type">Team</span>.TeamIndex);
<a name="777"></a>	}
<a name="778"></a>
<a name="779"></a>	Obituaries[ObituaryCount].VictimName = <span class="source_type">Victim</span>.<span class="source_type">PlayerName</span>;
<a name="780"></a>	Obituaries[ObituaryCount].VictimColor = GetTeamColor(<span class="source_type">Victim</span>.<span class="source_type">Team</span>.TeamIndex);
<a name="781"></a>	Obituaries[ObituaryCount].<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span> = <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>;
<a name="782"></a>	Obituaries[ObituaryCount].EndOfLife = <span class="source_type">Level</span>.TimeSeconds + ObituaryLifeSpan;
<a name="783"></a>
<a name="784"></a>    <span class="source_comment">// Making the player's name show up in white in the kill list
</span><a name="785"></a>    if ( PlayerOwner != none && Killer != none)
<a name="786"></a>	{
<a name="787"></a>	     if ( PlayerOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != none )
<a name="788"></a>	      {
<a name="789"></a>              <span class="source_comment">// When the player kills someone
</span><a name="790"></a>              if ( PlayerOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerName</span> == Killer.<span class="source_type">PlayerName</span> )
<a name="791"></a>	          {
<a name="792"></a>                   Obituaries[ObituaryCount].KillerColor = WhiteColor;
<a name="793"></a>              }
<a name="794"></a>          }
<a name="795"></a>	}
<a name="796"></a>
<a name="797"></a>	ObituaryCount++;
<a name="798"></a>}
<a name="799"></a>
<a name="800"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="801"></a><span class="source_comment">// GetDamageIcon
</span><a name="802"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="803"></a>
<a name="804"></a>function <span class="source_type"><a href="../engine/material.html" class="source">Material</a></span> GetDamageIcon(<span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; DamType)
<a name="805"></a>{
<a name="806"></a>	if (<span class="source_type">class</span>&lt;<span class="source_type"><a href="../roengine/roweapondamagetype.html" class="source">ROWeaponDamageType</a></span>&gt;(DamType) != None)
<a name="807"></a>		return <span class="source_type">class</span>&lt;<span class="source_type"><a href="../roengine/roweapondamagetype.html" class="source">ROWeaponDamageType</a></span>&gt;(DamType).default.HUDIcon;
<a name="808"></a>	else if (<span class="source_type">class</span>&lt;<span class="source_type"><a href="../roengine/rovehicledamagetype.html" class="source">ROVehicleDamageType</a></span>&gt;(DamType) != None)
<a name="809"></a>		return <span class="source_type">class</span>&lt;<span class="source_type"><a href="../roengine/rovehicledamagetype.html" class="source">ROVehicleDamageType</a></span>&gt;(DamType).default.HUDIcon;
<a name="810"></a><span class="source_comment">//	else if (class&lt;ROSuicided&gt;(DamType) != None)
</span><a name="811"></a><span class="source_comment">//		return Texture'InterfaceArt_tex.deathicons.mine';
</span><a name="812"></a>
<a name="813"></a><span class="source_comment">//	return Texture'InterfaceArt_tex.deathicons.mine';
</span><a name="814"></a>}
<a name="815"></a>
<a name="816"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="817"></a><span class="source_comment">// DisplayMessages - Added death messages
</span><a name="818"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="819"></a>
<a name="820"></a>function DisplayMessages(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>)
<a name="821"></a>{
<a name="822"></a>	local <span class="source_type">int</span> <span class="source_type">i</span>;
<a name="823"></a>	local <span class="source_type">float</span> <span class="source_type">X</span>, <span class="source_type">Y</span>, XL, <span class="source_type">YL</span>, <span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>;
<a name="824"></a>
<a name="825"></a>	Super.DisplayMessages(<span class="source_type">C</span>);
<a name="826"></a>
<a name="827"></a>	while (Obituaries[<span class="source_int">0</span>].VictimName != <span class="source_string">""</span> && Obituaries[<span class="source_int">0</span>].EndOfLife &lt; <span class="source_type">Level</span>.TimeSeconds)
<a name="828"></a>	{
<a name="829"></a>		for (<span class="source_type">i</span> = <span class="source_int">1</span>; <span class="source_type">i</span> &lt; ObituaryCount; <span class="source_type">i</span>++)
<a name="830"></a>			Obituaries[<span class="source_type">i</span> - <span class="source_int">1</span>] = Obituaries[<span class="source_type">i</span>];
<a name="831"></a>
<a name="832"></a>		ObituaryCount--;
<a name="833"></a>		Obituaries[ObituaryCount].VictimName = <span class="source_string">""</span>;
<a name="834"></a>		Obituaries[ObituaryCount].KillerName = <span class="source_string">""</span>;
<a name="835"></a>	}
<a name="836"></a>
<a name="837"></a>	<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span> = <span class="source_type">C</span>.ClipX / <span class="source_int">1600.0</span>;
<a name="838"></a>
<a name="839"></a>	<span class="source_type">C</span>.<span class="source_type">Font</span> = GetConsoleFont(<span class="source_type">C</span>);
<a name="840"></a>
<a name="841"></a>	<span class="source_type">Y</span> = <span class="source_int">8</span> * <span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>;
<a name="842"></a>
<a name="843"></a>	<span class="source_comment">// Offset death msgs if we're displaying a hint
</span><a name="844"></a>	if (bDrawHint)
<a name="845"></a>		<span class="source_type">Y</span> += <span class="source_int">2</span> * <span class="source_type">Y</span> + (HintCoords.<span class="source_type">Y</span> + HintCoords.<span class="source_type">YL</span>) * <span class="source_type">C</span>.ClipY;
<a name="846"></a>
<a name="847"></a>	for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ObituaryCount; <span class="source_type">i</span>++)
<a name="848"></a>	{
<a name="849"></a>		<span class="source_type">C</span>.TextSize(Obituaries[<span class="source_type">i</span>].VictimName, XL, <span class="source_type">YL</span>);
<a name="850"></a>
<a name="851"></a>		<span class="source_type">X</span> = <span class="source_type">C</span>.ClipX - <span class="source_int">8</span> * <span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span> - XL;
<a name="852"></a>
<a name="853"></a>		<span class="source_type">C</span>.SetPos(<span class="source_type">X</span>, <span class="source_type">Y</span> + <span class="source_int">20</span> * <span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span> - <span class="source_type">YL</span> * <span class="source_int">0.5</span>);
<a name="854"></a>		<span class="source_type">C</span>.DrawColor = Obituaries[<span class="source_type">i</span>].VictimColor;
<a name="855"></a>		<span class="source_type">C</span>.DrawTextClipped(Obituaries[<span class="source_type">i</span>].VictimName);
<a name="856"></a>
<a name="857"></a>		<span class="source_type">X</span> -= <span class="source_int">48</span> * <span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>;
<a name="858"></a>
<a name="859"></a>		<span class="source_type">C</span>.SetPos(<span class="source_type">X</span>, <span class="source_type">Y</span>);
<a name="860"></a>		<span class="source_type">C</span>.DrawColor = WhiteColor;
<a name="861"></a>		<span class="source_type">C</span>.DrawTileScaled(GetDamageIcon(Obituaries[<span class="source_type">i</span>].<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>), <span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span> * <span class="source_int">1.25</span>, <span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span> * <span class="source_int">1.25</span>);
<a name="862"></a>
<a name="863"></a>		if (Obituaries[<span class="source_type">i</span>].KillerName != <span class="source_string">""</span>)
<a name="864"></a>		{
<a name="865"></a>			<span class="source_type">C</span>.TextSize(Obituaries[<span class="source_type">i</span>].KillerName, XL, <span class="source_type">YL</span>);
<a name="866"></a>			<span class="source_type">X</span> -= <span class="source_int">8</span> * <span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span> + XL;
<a name="867"></a>
<a name="868"></a>			<span class="source_type">C</span>.SetPos(<span class="source_type">X</span>, <span class="source_type">Y</span> + <span class="source_int">20</span> * <span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span> - <span class="source_type">YL</span> * <span class="source_int">0.5</span>);
<a name="869"></a>			<span class="source_type">C</span>.DrawColor = Obituaries[<span class="source_type">i</span>].KillerColor;
<a name="870"></a>			<span class="source_type">C</span>.DrawTextClipped(Obituaries[<span class="source_type">i</span>].KillerName);
<a name="871"></a>		}
<a name="872"></a>
<a name="873"></a>		<span class="source_type">Y</span> += <span class="source_int">44</span> * <span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>;
<a name="874"></a>	}
<a name="875"></a>}
<a name="876"></a>
<a name="877"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="878"></a><span class="source_comment">// GetTeamColor - Returns the appropriate team color
</span><a name="879"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="880"></a>
<a name="881"></a>static function <span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span> GetTeamColor(<span class="source_type">byte</span> <span class="source_type">Team</span>)
<a name="882"></a>{
<a name="883"></a>	return default.SideColors[<span class="source_type">Team</span>];
<a name="884"></a>}
<a name="885"></a>
<a name="886"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="887"></a><span class="source_comment">// ShowObjectives - Enables or disables the objectives display
</span><a name="888"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="889"></a>
<a name="890"></a>exec function ShowObjectives()
<a name="891"></a>{
<a name="892"></a>	bShowObjectives = !bShowObjectives;
<a name="893"></a>	bShowMapUpdatedIcon = false;
<a name="894"></a>
<a name="895"></a>	if (bShowObjectives)
<a name="896"></a>	{
<a name="897"></a>	    <span class="source_comment">// Open fake menu to capture mouse clicks
</span><a name="898"></a>	    <span class="source_comment">//PlayerOwner.ClientOpenMenu("ROInterface.ROSituationMapMenu");
</span><a name="899"></a>	    MouseInterfaceStartCapturing();
<a name="900"></a>	    bAnimateMapIn = true; bAnimateMapOut = false;
<a name="901"></a>
<a name="902"></a>	    <span class="source_comment">// Check for hints
</span><a name="903"></a>	    if (<span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(PlayerOwner) != none)
<a name="904"></a>	        <span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(PlayerOwner).CheckForHint(<span class="source_int">14</span>);
<a name="905"></a>	}
<a name="906"></a>	else
<a name="907"></a>	    HideObjectives();
<a name="908"></a>}
<a name="909"></a>
<a name="910"></a>simulated function HideObjectives()
<a name="911"></a>{
<a name="912"></a>	bAnimateMapIn = false; bAnimateMapOut = true;
<a name="913"></a>	MouseInterfaceStopCapturing();
<a name="914"></a>	bShowObjectives = false;
<a name="915"></a>}
<a name="916"></a>
<a name="917"></a>simulated function ShowHint(<span class="source_type">string</span> title, <span class="source_type">string</span> <span class="source_type">text</span>)
<a name="918"></a>{
<a name="919"></a>	bFirstHintRender = true;
<a name="920"></a>	HintWrappedText.Length = <span class="source_int">0</span>;
<a name="921"></a>	HintRemainingTime = HintLifetime + HintFadeTime * <span class="source_int">2</span>;
<a name="922"></a>	HintTitle = title;
<a name="923"></a>
<a name="924"></a>	<span class="source_comment">// Parse keybinds
</span><a name="925"></a>	if (PlayerOwner != none)
<a name="926"></a>		HintText = <span class="source_type">class</span><span class="source_name">'ROTeamGame'</span>.static.ParseLoadingHintNoColor(<span class="source_type">text</span>, PlayerOwner);
<a name="927"></a>	else
<a name="928"></a>		HintText = <span class="source_type">text</span>;
<a name="929"></a>	bDrawHint = true;
<a name="930"></a>}
<a name="931"></a>
<a name="932"></a><span class="source_comment">// not used
</span><a name="933"></a><span class="source_comment">/*simulated function DrawObjectiveLocationIcons(Canvas C)
<a name="934"></a>{
<a name="935"></a>	local ROGameReplicationInfo GRI;
<a name="936"></a>	local int 		i;
<a name="937"></a>	local vector  	ScreenPos,
<a name="938"></a>				  	TargetLocation;
<a name="939"></a>
<a name="940"></a>	if ( PlayerOwner.Player.GUIController.bActive )
<a name="941"></a>		return;
<a name="942"></a>
<a name="943"></a>	GRI = ROGameReplicationInfo(PlayerOwner.GameReplicationInfo);
<a name="944"></a>
<a name="945"></a>	// this is test code for objective stuff
<a name="946"></a>	if( GRI != none )
<a name="947"></a>	{
<a name="948"></a>		for( i = 0; i &lt; 4; i++ )
<a name="949"></a>		{
<a name="950"></a>			if( GRI.Objectives[i] != none )
<a name="951"></a>			{
<a name="952"></a>				TargetLocation = GRI.Objectives[i].Location;
<a name="953"></a>
<a name="954"></a>				ScreenPos = C.WorldToScreen(TargetLocation);
<a name="955"></a>
<a name="956"></a>				if (ScreenPos.X &gt;= 0 || ScreenPos.X &lt;= C.ClipX || ScreenPos.Y &gt;= 0 || ScreenPos.Y &lt;= C.ClipY)
<a name="957"></a>				{
<a name="958"></a>					C.SetPos(ScreenPos.X, ScreenPos.Y);
<a name="959"></a>					C.DrawTileStretched(Material'ROInterfaceArt.ObjectiveIcon', 16, 16);
<a name="960"></a>				}
<a name="961"></a>			}
<a name="962"></a>		}
<a name="963"></a>
<a name="964"></a>	}
<a name="965"></a>}*/</span>
<a name="966"></a>
<a name="967"></a>simulated function UpdateHud()
<a name="968"></a>{
<a name="969"></a>	local <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span> GRI;
<a name="970"></a>	local <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/ammunition.html" class="source">Ammunition</a></span>&gt; AmmoClass;
<a name="971"></a>	local <span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span> W;
<a name="972"></a>	<span class="source_comment">//local float Time;
</span><a name="973"></a>	local <span class="source_type">byte</span> Nation;
<a name="974"></a>	local <span class="source_type"><a href="../roengine/ropawn.html" class="source">ROPawn</a></span> <span class="source_type">P</span>;
<a name="975"></a>
<a name="976"></a>	GRI = <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span>(PlayerOwner.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>);
<a name="977"></a>
<a name="978"></a>	if (PawnOwnerPRI != None)
<a name="979"></a>	{
<a name="980"></a>	    if (PawnOwner != none)
<a name="981"></a>		{
<a name="982"></a>			<span class="source_comment">// Set pawn color
</span><a name="983"></a>			<span class="source_comment">// Took this out for now. Since one or two shots kills you, and
</span><a name="984"></a>			<span class="source_comment">// the colors look kinda funny on the hud, This probably isn't
</span><a name="985"></a>			<span class="source_comment">// needed. Add it back in if we decide otherwise - Ramm
</span><a name="986"></a>			<span class="source_comment">//if (PawnOwner.Health &gt; 50)
</span><a name="987"></a>				HealthFigure.Tints[<span class="source_int">0</span>] = WhiteColor;
<a name="988"></a>			<span class="source_comment">//else if (PawnOwner.Health &gt; 25)
</span><a name="989"></a>			<span class="source_comment">//	HealthFigure.Tints[0] = GoldColor;
</span><a name="990"></a>			<span class="source_comment">//else
</span><a name="991"></a>			<span class="source_comment">//	HealthFigure.Tints[0] = RedColor;
</span><a name="992"></a>
<a name="993"></a>			<span class="source_type">P</span> = <span class="source_type"><a href="../roengine/ropawn.html" class="source">ROPawn</a></span>(PawnOwner);
<a name="994"></a>			if (<span class="source_type">P</span> != none)
<a name="995"></a>			{
<a name="996"></a>			    <span class="source_comment">// Set stamina info
</span><a name="997"></a>		        HealthFigureStamina.<span class="source_type"><a href="../core/object.html#Scale" class="source">scale</a></span> = <span class="source_int">1</span> - <span class="source_type">P</span>.Stamina / <span class="source_type">P</span>.default.Stamina;
<a name="998"></a>		        HealthFigureStamina.Tints[<span class="source_int">0</span>].G = <span class="source_int">255</span> - HealthFigureStamina.<span class="source_type"><a href="../core/object.html#Scale" class="source">scale</a></span> * <span class="source_int">255</span>;
<a name="999"></a>		        HealthFigureStamina.Tints[<span class="source_int">1</span>].G = <span class="source_int">255</span> - HealthFigureStamina.<span class="source_type"><a href="../core/object.html#Scale" class="source">scale</a></span> * <span class="source_int">255</span>;
<a name="1000"></a>		        HealthFigureStamina.Tints[<span class="source_int">0</span>].<span class="source_type">B</span> = <span class="source_int">255</span> - HealthFigureStamina.<span class="source_type"><a href="../core/object.html#Scale" class="source">scale</a></span> * <span class="source_int">255</span>;
<a name="1001"></a>		        HealthFigureStamina.Tints[<span class="source_int">1</span>].<span class="source_type">B</span> = <span class="source_int">255</span> - HealthFigureStamina.<span class="source_type"><a href="../core/object.html#Scale" class="source">scale</a></span> * <span class="source_int">255</span>;
<a name="1002"></a>
<a name="1003"></a>		        <span class="source_comment">// Set stance info
</span><a name="1004"></a>		        if (<span class="source_type">P</span>.bIsCrouched)
<a name="1005"></a>					StanceIcon.WidgetTexture = StanceCrouch;
<a name="1006"></a>				else if (<span class="source_type">P</span>.bIsCrawling)
<a name="1007"></a>					StanceIcon.WidgetTexture = StanceProne;
<a name="1008"></a>				else
<a name="1009"></a>					StanceIcon.WidgetTexture = StanceStanding;
<a name="1010"></a>			}
<a name="1011"></a>		}
<a name="1012"></a>
<a name="1013"></a>		if (PawnOwnerPRI.<span class="source_type">Team</span> != None && GRI != None)
<a name="1014"></a>		{
<a name="1015"></a>			Nation = GRI.NationIndex[PawnOwnerPRI.<span class="source_type">Team</span>.TeamIndex];
<a name="1016"></a>			HealthFigure.WidgetTexture = NationHealthFigures[Nation];
<a name="1017"></a>			HealthFigureBackground.WidgetTexture = NationHealthFiguresBackground[Nation];
<a name="1018"></a>			if (HealthFigureStamina.<span class="source_type"><a href="../core/object.html#Scale" class="source">scale</a></span> &gt; <span class="source_int">0.9</span>)
<a name="1019"></a>			{
<a name="1020"></a>			    HealthFigureStamina.WidgetTexture = NationHealthFiguresStaminaCritical[Nation];
<a name="1021"></a>			    HealthFigureStamina.Tints[<span class="source_int">0</span>].G = <span class="source_int">255</span>; HealthFigureStamina.Tints[<span class="source_int">1</span>].G = <span class="source_int">255</span>;
<a name="1022"></a>		        HealthFigureStamina.Tints[<span class="source_int">0</span>].<span class="source_type">B</span> = <span class="source_int">255</span>; HealthFigureStamina.Tints[<span class="source_int">1</span>].<span class="source_type">B</span> = <span class="source_int">255</span>;
<a name="1023"></a>			}
<a name="1024"></a>			else
<a name="1025"></a>				HealthFigureStamina.WidgetTexture = NationHealthFiguresStamina[Nation];
<a name="1026"></a>			<span class="source_comment">//ClockBase.WidgetTexture = NationClockBases[Nation];
</span><a name="1027"></a>			<span class="source_comment">//ClockHand.WidgetTexture = NationClockHands[Nation];
</span><a name="1028"></a>		}
<a name="1029"></a>	}
<a name="1030"></a>
<a name="1031"></a>	AmmoIcon.WidgetTexture = none; <span class="source_comment">// This is so we don't show icon on binocs or when we have no weapon
</span><a name="1032"></a>
<a name="1033"></a>	if (PawnOwner == None)
<a name="1034"></a>		return;
<a name="1035"></a>
<a name="1036"></a>	W = PawnOwner.<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span>;
<a name="1037"></a>	if( W == none )
<a name="1038"></a>		return;
<a name="1039"></a>
<a name="1040"></a>	AmmoClass = W.GetAmmoClass(<span class="source_int">0</span>);
<a name="1041"></a>
<a name="1042"></a>	if( AmmoClass == none )
<a name="1043"></a>		return;
<a name="1044"></a>
<a name="1045"></a>	AmmoIcon.WidgetTexture = AmmoClass.default.IconMaterial;
<a name="1046"></a>	AmmoCount.<span class="source_type">Value</span> = W.GetHudAmmoCount();
<a name="1047"></a>
<a name="1048"></a><span class="source_comment">/*	if (ROWeapon(W) != none && ROWeapon(W).bShowMagazineIcon )
<a name="1049"></a>	{
<a name="1050"></a>		AmmoIcon.WidgetTexture = AmmoClass.default.IconMaterial;
<a name="1051"></a>		AmmoCount.Value = ROWeapon(W).GetROHudDisplayMagazines();
<a name="1052"></a>	}
<a name="1053"></a>	else if (ROWeapon(W) != none && ROWeapon(W).bShowMagazineCount)
<a name="1054"></a>	{
<a name="1055"></a>		AmmoIcon.WidgetTexture = AmmoClass.default.IconMaterial;
<a name="1056"></a>		AmmoCount.Value = W.AmmoAmount(0);
<a name="1057"></a>	}*/</span>
<a name="1058"></a>
<a name="1059"></a>}
<a name="1060"></a>
<a name="1061"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="1062"></a><span class="source_comment">// DrawHudPassA - Draw local messages
</span><a name="1063"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="1064"></a>
<a name="1065"></a>simulated function DrawHudPassA(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>)
<a name="1066"></a>{
<a name="1067"></a>	DisplayLocalMessages(<span class="source_type">C</span>);
<a name="1068"></a>
<a name="1069"></a>	if( <span class="source_type">Level</span>.TimeSeconds - LastVoiceGainTime &lt; <span class="source_int">0.333</span> )
<a name="1070"></a>	{
<a name="1071"></a>		if ( !bUsingVOIP && PlayerOwner != None && PlayerOwner.ActiveRoom != None &&
<a name="1072"></a>			PlayerOwner.ActiveRoom.GetTitle() == <span class="source_string">"Team"</span>)
<a name="1073"></a>		{
<a name="1074"></a>			bUsingVOIP = true;
<a name="1075"></a>			PlayerOwner.NotifySpeakingInTeamChannel();
<a name="1076"></a>		}
<a name="1077"></a>	}
<a name="1078"></a>	else
<a name="1079"></a>	{
<a name="1080"></a>		if( bUsingVOIP )
<a name="1081"></a>		{
<a name="1082"></a>			bUsingVOIP = false;
<a name="1083"></a>		}
<a name="1084"></a>	}
<a name="1085"></a>
<a name="1086"></a>	if( <span class="source_type">Level</span>.TimeSeconds - LastVoiceGainTime &lt; <span class="source_int">0.333</span> )
<a name="1087"></a>		DisplayVoiceGain(<span class="source_type">C</span>);
<a name="1088"></a>}
<a name="1089"></a>
<a name="1090"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="1091"></a><span class="source_comment">// DisplayVoiceGain - Draw the voice meter and needle
</span><a name="1092"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="1093"></a>function DisplayVoiceGain(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>)
<a name="1094"></a>{
<a name="1095"></a>	local <span class="source_type">float</span> VoiceGain;
<a name="1096"></a>	local <span class="source_type">float</span> PosY, PosX, XL, <span class="source_type">YL</span>;
<a name="1097"></a>	local <span class="source_type">string</span> ActiveName;
<a name="1098"></a>	local <span class="source_type">float</span> IconSize, <span class="source_type"><a href="../core/object.html#Scale" class="source">scale</a></span>, YOffset;
<a name="1099"></a>	local <span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span> SavedColor;
<a name="1100"></a>
<a name="1101"></a>	<span class="source_type"><a href="../core/object.html#Scale" class="source">scale</a></span> = <span class="source_type">C</span>.SizeY / <span class="source_int">1200.0</span> * HudScale;
<a name="1102"></a>
<a name="1103"></a>	SavedColor = <span class="source_type">C</span>.DrawColor;
<a name="1104"></a>	<span class="source_type">C</span>.DrawColor = WhiteColor;
<a name="1105"></a>	<span class="source_type">C</span>.Style = <span class="source_type"><a href="../engine/actor.html#ERenderStyle" class="source">ERenderStyle</a></span>.STY_Alpha;
<a name="1106"></a>
<a name="1107"></a>	VoiceGain = (<span class="source_int">1</span> - <span class="source_int">3</span> * Min( <span class="source_type">Level</span>.TimeSeconds - LastVoiceGainTime, <span class="source_int">0.3333</span> )) * LastVoiceGain;
<a name="1108"></a>
<a name="1109"></a>	YOffset = <span class="source_int">12</span> * <span class="source_type"><a href="../core/object.html#Scale" class="source">scale</a></span>;
<a name="1110"></a>	IconSize = VoiceMeterSize * <span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>;
<a name="1111"></a>
<a name="1112"></a>	PosY = VoiceMeterY * <span class="source_type">C</span>.ClipY - IconSize - YOffset;
<a name="1113"></a>	PosX = VoiceMeterX * <span class="source_type">C</span>.ClipX;
<a name="1114"></a>	<span class="source_type">C</span>.SetPos( PosX, PosY );
<a name="1115"></a>
<a name="1116"></a>	<span class="source_type">C</span>.DrawTile( VoiceMeterBackground, IconSize, IconSize, <span class="source_int">0</span>, <span class="source_int">0</span>, VoiceMeterBackground.USize, VoiceMeterBackground.VSize );
<a name="1117"></a>
<a name="1118"></a>	NeedleRotator.<span class="source_type">Rotation</span>.Yaw = -<span class="source_int">1</span> * ((<span class="source_int">20000</span> * VoiceGain) + <span class="source_int">55000</span>);
<a name="1119"></a>
<a name="1120"></a>	<span class="source_type">C</span>.SetPos( PosX, PosY );
<a name="1121"></a>	<span class="source_type">C</span>.DrawTileScaled(NeedleRotator, <span class="source_type"><a href="../core/object.html#Scale" class="source">scale</a></span> * VoiceMeterSize / <span class="source_int">128.0</span>, <span class="source_type"><a href="../core/object.html#Scale" class="source">scale</a></span> * VoiceMeterSize / <span class="source_int">128.0</span>);
<a name="1122"></a>
<a name="1123"></a>	<span class="source_comment">// Display name of currently active channel
</span><a name="1124"></a>	if ( PlayerOwner != None && PlayerOwner.ActiveRoom != None )
<a name="1125"></a>		ActiveName = PlayerOwner.ActiveRoom.GetTitle();
<a name="1126"></a>
<a name="1127"></a>	<span class="source_comment">// Remove for release
</span><a name="1128"></a>	if(ActiveName == <span class="source_string">""</span>)
<a name="1129"></a>		ActiveName = <span class="source_string">"No Channel Selected!"</span>;
<a name="1130"></a>
<a name="1131"></a>	if ( ActiveName != <span class="source_string">""</span> )
<a name="1132"></a>	{
<a name="1133"></a>	    <span class="source_type">C</span>.SetPos(<span class="source_int">0</span>, <span class="source_int">0</span>);
<a name="1134"></a>		ActiveName = <span class="source_string">"("</span> @ ActiveName @ <span class="source_string">")"</span>;
<a name="1135"></a>		<span class="source_type">C</span>.<span class="source_type">Font</span> = GetFontSizeIndex(<span class="source_type">C</span>,-<span class="source_int">2</span>);
<a name="1136"></a>		<span class="source_type">C</span>.StrLen(ActiveName,XL,<span class="source_type">YL</span>);
<a name="1137"></a>
<a name="1138"></a>		if ( XL &gt; <span class="source_int">0.125</span> * <span class="source_type">C</span>.ClipY )
<a name="1139"></a>		{
<a name="1140"></a>			<span class="source_type">C</span>.<span class="source_type">Font</span> = GetFontSizeIndex(<span class="source_type">C</span>,-<span class="source_int">4</span>);
<a name="1141"></a>			<span class="source_type">C</span>.StrLen(ActiveName,XL,<span class="source_type">YL</span>);
<a name="1142"></a>		}
<a name="1143"></a>
<a name="1144"></a>		<span class="source_type">C</span>.SetPos( PosX + ((IconSize/<span class="source_int">2</span>) - (XL/<span class="source_int">2</span>)), PosY - <span class="source_type">YL</span>);
<a name="1145"></a>		<span class="source_type">C</span>.DrawColor = <span class="source_type">C</span>.MakeColor(<span class="source_int">160</span>,<span class="source_int">160</span>,<span class="source_int">160</span>);
<a name="1146"></a>		if ( PlayerOwner != None && PlayerOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != None )
<a name="1147"></a>		{
<a name="1148"></a>			if ( PlayerOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span> != None )
<a name="1149"></a>			{
<a name="1150"></a>				if ( PlayerOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.TeamIndex == <span class="source_int">0</span> )
<a name="1151"></a>					<span class="source_type">C</span>.DrawColor = RedColor;
<a name="1152"></a>				else
<a name="1153"></a>					<span class="source_type">C</span>.DrawColor = TurqColor;
<a name="1154"></a>			}
<a name="1155"></a>		}
<a name="1156"></a>
<a name="1157"></a>		<span class="source_type">C</span>.DrawText( ActiveName );
<a name="1158"></a>	}
<a name="1159"></a>
<a name="1160"></a>	<span class="source_type">C</span>.DrawColor = SavedColor;
<a name="1161"></a>}
<a name="1162"></a>
<a name="1163"></a>
<a name="1164"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="1165"></a><span class="source_comment">// DrawHudPassC - Draw all the widgets here
</span><a name="1166"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="1167"></a>
<a name="1168"></a>simulated function DrawHudPassC(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>)
<a name="1169"></a>{
<a name="1170"></a>	local <span class="source_type"><a href="../engine/voicechatroom.html" class="source">VoiceChatRoom</a></span> VCR;
<a name="1171"></a>	<span class="source_comment">//local float PortraitWidth,PortraitHeight, Abbrev, SmallH, NameWidth;
</span><a name="1172"></a>	<span class="source_comment">//local string PortraitString;
</span><a name="1173"></a>
<a name="1174"></a>	local <span class="source_type"><a href="../roengine/ropawn.html" class="source">ROPawn</a></span> ROP;
<a name="1175"></a>	local <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span> GRI;
<a name="1176"></a>	<span class="source_comment">//local int i;
</span><a name="1177"></a>	<span class="source_comment">//local float X, Y, XL, YL, alpha;
</span><a name="1178"></a>	local <span class="source_type">float</span> <span class="source_type">Y</span>, XL, <span class="source_type">YL</span>, alpha;
<a name="1179"></a>	local <span class="source_type">string</span> <span class="source_type">S</span>;
<a name="1180"></a>	local <span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span> myColor;
<a name="1181"></a>	local <span class="source_type"><a href="../roengine/rohud.html#AbsoluteCoordsInfo" class="source">AbsoluteCoordsInfo</a></span> <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>;
<a name="1182"></a>	local <span class="source_type"><a href="../roengine/roweapon.html" class="source">ROWeapon</a></span> myweapon;
<a name="1183"></a>
<a name="1184"></a>	<span class="source_comment">// Set coordinates to use whole screen
</span><a name="1185"></a>	<span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.<span class="source_type">width</span> = <span class="source_type">C</span>.ClipX; <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.height = <span class="source_type">C</span>.ClipY;
<a name="1186"></a>
<a name="1187"></a>
<a name="1188"></a>	ROP = <span class="source_type"><a href="../roengine/ropawn.html" class="source">ROPawn</a></span>(PawnOwner);
<a name="1189"></a>	GRI = <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span>(PlayerOwner.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>);
<a name="1190"></a>
<a name="1191"></a>	<span class="source_comment">// Don't draw the healthfigure when in a vehicle
</span><a name="1192"></a>	if (bShowPersonalInfo && ROP != None)
<a name="1193"></a>	{
<a name="1194"></a>		DrawSpriteWidget(<span class="source_type">C</span>, HealthFigureBackground);
<a name="1195"></a>		DrawSpriteWidget(<span class="source_type">C</span>, HealthFigureStamina);
<a name="1196"></a>		DrawSpriteWidget(<span class="source_type">C</span>, HealthFigure);
<a name="1197"></a>
<a name="1198"></a>		DrawSpriteWidget(<span class="source_type">C</span>, StanceIcon);
<a name="1199"></a>
<a name="1200"></a>		DrawLocationHits(<span class="source_type">C</span>, ROP);
<a name="1201"></a>	}
<a name="1202"></a>
<a name="1203"></a>	<span class="source_comment">// Show MG deploy icon if the weapon can be deployed
</span><a name="1204"></a>	if (PawnOwner != None && PawnOwner.bCanBipodDeploy)
<a name="1205"></a>		DrawSpriteWidget(<span class="source_type">C</span>, MGDeployIcon);
<a name="1206"></a>
<a name="1207"></a>	<span class="source_comment">// Draw the icon for weapon resting
</span><a name="1208"></a>	if (PawnOwner != None)
<a name="1209"></a>	{
<a name="1210"></a>		if (PawnOwner.bRestingWeapon)
<a name="1211"></a>		{
<a name="1212"></a>			DrawSpriteWidget(<span class="source_type">C</span>, WeaponRestingIcon);
<a name="1213"></a>		}
<a name="1214"></a>		else if (PawnOwner.bCanRestWeapon)
<a name="1215"></a>		{
<a name="1216"></a>			DrawSpriteWidget(<span class="source_type">C</span>, WeaponCanRestIcon);
<a name="1217"></a>		}
<a name="1218"></a>	}
<a name="1219"></a>
<a name="1220"></a>	<span class="source_comment">// Resupply icon
</span><a name="1221"></a>	if (PawnOwner != None && PawnOwner.bTouchingResupply)
<a name="1222"></a>	{
<a name="1223"></a>	    if (<span class="source_type"><a href="../engine/vehicle.html" class="source">Vehicle</a></span>(PawnOwner) != none)
<a name="1224"></a>		{
<a name="1225"></a>	        if (<span class="source_type">Level</span>.TimeSeconds - PawnOwner.LastResupplyTime &lt;=  <span class="source_int">1.5</span>)
<a name="1226"></a>    			DrawSpriteWidget(<span class="source_type">C</span>, ResupplyZoneResupplyingVehicleIcon);
<a name="1227"></a>    		else
<a name="1228"></a>    			DrawSpriteWidget(<span class="source_type">C</span>, ResupplyZoneNormalVehicleIcon);
<a name="1229"></a>		}
<a name="1230"></a>		else
<a name="1231"></a>		{
<a name="1232"></a>    		if (<span class="source_type">Level</span>.TimeSeconds - PawnOwner.LastResupplyTime &lt;=  <span class="source_int">1.5</span>)
<a name="1233"></a>    			DrawSpriteWidget(<span class="source_type">C</span>, ResupplyZoneResupplyingPlayerIcon);
<a name="1234"></a>    		else
<a name="1235"></a>    			DrawSpriteWidget(<span class="source_type">C</span>, ResupplyZoneNormalPlayerIcon);
<a name="1236"></a>		}
<a name="1237"></a>	}
<a name="1238"></a>
<a name="1239"></a>	<span class="source_comment">// Show weapon info
</span><a name="1240"></a>	if (bShowWeaponInfo && PawnOwner.<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span> != none && AmmoIcon.WidgetTexture != none )
<a name="1241"></a>	{
<a name="1242"></a>	    myweapon = <span class="source_type"><a href="../roengine/roweapon.html" class="source">ROWeapon</a></span>(PawnOwner.<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span>);
<a name="1243"></a>
<a name="1244"></a>	    if ( myweapon != none )
<a name="1245"></a>	    {
<a name="1246"></a>	        if ( myweapon.bWaitingToBolt || myweapon.AmmoAmount(<span class="source_int">0</span>) &lt;= <span class="source_int">0</span> )
<a name="1247"></a>	        {
<a name="1248"></a>	            AmmoIcon.Tints[TeamIndex] = WeaponReloadingColor;
<a name="1249"></a>	            AmmoCount.Tints[TeamIndex] = WeaponReloadingColor;
<a name="1250"></a>	            AutoFireIcon.Tints[TeamIndex] = WeaponReloadingColor;
<a name="1251"></a>	            SemiFireIcon.Tints[TeamIndex] = WeaponReloadingColor;
<a name="1252"></a>	        }
<a name="1253"></a>	        else
<a name="1254"></a>	        {
<a name="1255"></a>	            AmmoIcon.Tints[TeamIndex] = default.AmmoIcon.Tints[TeamIndex];
<a name="1256"></a>	            AmmoCount.Tints[TeamIndex] = default.AmmoCount.Tints[TeamIndex];
<a name="1257"></a>	            AutoFireIcon.Tints[TeamIndex] = default.AutoFireIcon.Tints[TeamIndex];
<a name="1258"></a>	            SemiFireIcon.Tints[TeamIndex] = default.SemiFireIcon.Tints[TeamIndex];
<a name="1259"></a>	        }
<a name="1260"></a>		   	DrawSpriteWidget(<span class="source_type">C</span>, AmmoIcon);
<a name="1261"></a>			DrawNumericWidget(<span class="source_type">C</span>, AmmoCount, Digits);
<a name="1262"></a>
<a name="1263"></a>			if( myweapon.bHasSelectFire )
<a name="1264"></a>			{
<a name="1265"></a>				if( myweapon.UsingAutoFire() )
<a name="1266"></a>				{
<a name="1267"></a>					DrawSpriteWidget(<span class="source_type">C</span>, AutoFireIcon);
<a name="1268"></a>				}
<a name="1269"></a>				else
<a name="1270"></a>				{
<a name="1271"></a>					DrawSpriteWidget(<span class="source_type">C</span>, SemiFireIcon);
<a name="1272"></a>				}
<a name="1273"></a>	        }
<a name="1274"></a>		}
<a name="1275"></a>	}
<a name="1276"></a>
<a name="1277"></a>	DrawCaptureBar(<span class="source_type">C</span>);
<a name="1278"></a>
<a name="1279"></a>	<span class="source_comment">// Draw Compass
</span><a name="1280"></a>	if (bShowCompass)
<a name="1281"></a>		DrawCompass(<span class="source_type">C</span>);
<a name="1282"></a>
<a name="1283"></a>   	<span class="source_comment">// Draw the 'map updated' icon
</span><a name="1284"></a>	if (bShowMapUpdatedIcon)
<a name="1285"></a>	{
<a name="1286"></a>		alpha = (<span class="source_type">Level</span>.TimeSeconds - MapUpdatedIconTime) % <span class="source_int">2</span>;
<a name="1287"></a>		if (alpha &lt; <span class="source_int">0.5</span>)
<a name="1288"></a>			alpha = <span class="source_int">1</span> - alpha / <span class="source_int">0.5</span>;
<a name="1289"></a>		else if (alpha &lt; <span class="source_int">1</span>)
<a name="1290"></a>			alpha = (alpha - <span class="source_int">0.5</span>) / <span class="source_int">0.5</span>;
<a name="1291"></a>		else
<a name="1292"></a>			alpha = <span class="source_int">1</span>;
<a name="1293"></a>		myColor.<span class="source_type">R</span> = <span class="source_int">255</span>;
<a name="1294"></a>		myColor.G = <span class="source_int">255</span>;
<a name="1295"></a>		myColor.<span class="source_type">B</span> = <span class="source_int">255</span>;
<a name="1296"></a>		myColor.<span class="source_type">A</span> = alpha * <span class="source_int">255</span>;
<a name="1297"></a>
<a name="1298"></a>		if (myColor.<span class="source_type">A</span> != <span class="source_int">0</span>)
<a name="1299"></a>		{
<a name="1300"></a>			<span class="source_comment">// Set different position if not showing compass
</span><a name="1301"></a>			if (!bShowCompass)
<a name="1302"></a>			{
<a name="1303"></a>			    MapUpdatedText.PosX = <span class="source_int">0.95</span>;
<a name="1304"></a>			    MapUpdatedIcon.PosX = <span class="source_int">0.95</span>;
<a name="1305"></a>			}
<a name="1306"></a>			else
<a name="1307"></a>			{
<a name="1308"></a>			    MapUpdatedText.PosX = default.MapUpdatedText.PosX;
<a name="1309"></a>			    MapUpdatedIcon.PosX = default.MapUpdatedIcon.PosX;
<a name="1310"></a>			}
<a name="1311"></a>
<a name="1312"></a>			XL = <span class="source_int">0</span>; <span class="source_type">YL</span> = <span class="source_int">0</span>; <span class="source_type">Y</span> = <span class="source_int">0</span>;
<a name="1313"></a>
<a name="1314"></a>			if (bShowMapUpdatedText)
<a name="1315"></a>			{
<a name="1316"></a>				<span class="source_comment">// Check width & height of text label
</span><a name="1317"></a>				<span class="source_type">S</span> = <span class="source_type">class</span><span class="source_name">'ROTeamGame'</span>.static.ParseLoadingHintNoColor(OpenMapText, <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">Owner</span>));
<a name="1318"></a>				<span class="source_type">C</span>.<span class="source_type">Font</span> = getSmallMenuFont(<span class="source_type">C</span>);
<a name="1319"></a>				<span class="source_comment">//C.TextSize(S, XL, YL);
</span><a name="1320"></a>
<a name="1321"></a>				<span class="source_comment">// Draw text
</span><a name="1322"></a>				MapUpdatedText.<span class="source_type">text</span> = <span class="source_type">S</span>;
<a name="1323"></a>				MapUpdatedText.Tints[<span class="source_int">0</span>] = myColor; MapUpdatedText.Tints[<span class="source_int">1</span>] = myColor;
<a name="1324"></a>				MapUpdatedText.OffsetY = default.MapUpdatedText.OffsetY * MapUpdatedIcon.TextureScale;
<a name="1325"></a>			    DrawTextWidgetClipped(<span class="source_type">C</span>, MapUpdatedText, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, XL, <span class="source_type">YL</span>, <span class="source_type">Y</span>);
<a name="1326"></a>
<a name="1327"></a>		   	    <span class="source_comment">// Offset icon by text height
</span><a name="1328"></a>			    MapUpdatedIcon.OffsetY = MapUpdatedText.OffsetY - <span class="source_type">YL</span> - <span class="source_type">Y</span> / <span class="source_int">2</span>;
<a name="1329"></a>			}
<a name="1330"></a>			else
<a name="1331"></a>			{
<a name="1332"></a>			    <span class="source_comment">// Offset icon by text height
</span><a name="1333"></a>			    MapUpdatedIcon.OffsetY = default.MapUpdatedText.OffsetY * MapUpdatedIcon.TextureScale;
<a name="1334"></a>			}
<a name="1335"></a>
<a name="1336"></a>
<a name="1337"></a>		    <span class="source_comment">// Draw icon
</span><a name="1338"></a>	  		MapUpdatedIcon.Tints[<span class="source_int">0</span>] = myColor; MapUpdatedIcon.Tints[<span class="source_int">1</span>] = myColor;
<a name="1339"></a>		    DrawSpriteWidgetClipped(<span class="source_type">C</span>, MapUpdatedIcon, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, true, XL, <span class="source_type">YL</span>, true, true, true);
<a name="1340"></a>
<a name="1341"></a>		    <span class="source_comment">// Check if we should stop showing the icon
</span><a name="1342"></a>			if (<span class="source_type">Level</span>.TimeSeconds - MapUpdatedIconTime &gt; MaxMapUpdatedIconDisplayTime)
<a name="1343"></a>			    bShowMapUpdatedIcon = false;
<a name="1344"></a>	    }
<a name="1345"></a>	}
<a name="1346"></a>
<a name="1347"></a>	<span class="source_comment">//if (!bNoEnemyNames)
</span><a name="1348"></a>		DrawPlayerNames(<span class="source_type">C</span>);
<a name="1349"></a>
<a name="1350"></a>    if((<span class="source_type">Level</span>.NetMode == NM_Standalone || GRI.bAllowNetDebug) && bShowRelevancyDebugOverlay)
<a name="1351"></a>	   DrawNetworkActors(<span class="source_type">C</span>);
<a name="1352"></a>
<a name="1353"></a>	<span class="source_comment">// Comment Out for Release
</span><a name="1354"></a>	<span class="source_comment">//if( Level.NetMode == NM_StandAlone )
</span><a name="1355"></a>	<span class="source_comment">//	DrawCrosshair(C);
</span><a name="1356"></a>
<a name="1357"></a>	<span class="source_comment">// portrait
</span><a name="1358"></a>	if ( (bShowPortrait || (bShowPortraitVC && <span class="source_type">Level</span>.TimeSeconds - LastPlayerIDTalkingTime &lt; <span class="source_int">2.0</span>)) )
<a name="1359"></a>	{
<a name="1360"></a>	    <span class="source_comment">// Start by updating current portrait PRI
</span><a name="1361"></a>	    if ( (<span class="source_type">Level</span>.TimeSeconds - LastPlayerIDTalkingTime &lt; <span class="source_int">0.1</span>) && (PlayerOwner.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span> != None) )
<a name="1362"></a>		{
<a name="1363"></a>			if ( (PortraitPRI == None) || (PortraitPRI.<span class="source_type">PlayerID</span> != LastPlayerIDTalking) )
<a name="1364"></a>			{
<a name="1365"></a>			    if (PortraitPRI == none)
<a name="1366"></a>			        PortraitX = <span class="source_int">1</span>;
<a name="1367"></a>				PortraitPRI = PlayerOwner.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>.FindPlayerByID(LastPlayerIDTalking);
<a name="1368"></a>				if ( PortraitPRI != None )
<a name="1369"></a>				    PortraitTime = <span class="source_type">Level</span>.TimeSeconds + <span class="source_int">3</span>;
<a name="1370"></a>			}
<a name="1371"></a>			else
<a name="1372"></a>				PortraitTime = <span class="source_type">Level</span>.TimeSeconds + <span class="source_int">0.2</span>;
<a name="1373"></a>		}
<a name="1374"></a>		else
<a name="1375"></a>			LastPlayerIDTalking = <span class="source_int">0</span>;
<a name="1376"></a>
<a name="1377"></a>		<span class="source_comment">// Update portrait alpha value (fade in & fade out)
</span><a name="1378"></a>		if ( PortraitTime - <span class="source_type">Level</span>.TimeSeconds &gt; <span class="source_int">0</span> )
<a name="1379"></a>			PortraitX = FMax(<span class="source_int">0</span>, PortraitX - <span class="source_int">3</span> * (<span class="source_type">Level</span>.TimeSeconds - hudLastRenderTime));
<a name="1380"></a>		else if ( PortraitPRI != None )
<a name="1381"></a>		{
<a name="1382"></a>			PortraitX = FMin(<span class="source_int">1</span>, PortraitX + <span class="source_int">3</span> * (<span class="source_type">Level</span>.TimeSeconds - hudLastRenderTime));
<a name="1383"></a>			if ( PortraitX == <span class="source_int">1</span> )
<a name="1384"></a>			{
<a name="1385"></a>				<span class="source_comment">//Portrait = None;
</span><a name="1386"></a>				PortraitPRI = None;
<a name="1387"></a>			}
<a name="1388"></a>		}
<a name="1389"></a>
<a name="1390"></a>	    <span class="source_comment">// Draw portrait if needed
</span><a name="1391"></a>	    if (PortraitPRI != none)
<a name="1392"></a>	    {
<a name="1393"></a>		    if (PortraitPRI.<span class="source_type">Team</span> != none)
<a name="1394"></a>			{
<a name="1395"></a>				if (PortraitPRI.<span class="source_type">Team</span>.TeamIndex == <span class="source_int">0</span>)
<a name="1396"></a>				{
<a name="1397"></a>					PortraitIcon.WidgetTexture = CaptureBarTeamIcons[<span class="source_int">0</span>];
<a name="1398"></a>					PortraitText[<span class="source_int">0</span>].Tints[TeamIndex] = SideColors[<span class="source_int">0</span>];
<a name="1399"></a>				}
<a name="1400"></a>				else if (PortraitPRI.<span class="source_type">Team</span>.TeamIndex == <span class="source_int">1</span>)
<a name="1401"></a>				{
<a name="1402"></a>					PortraitIcon.WidgetTexture = CaptureBarTeamIcons[<span class="source_int">1</span>];
<a name="1403"></a>					PortraitText[<span class="source_int">0</span>].Tints[TeamIndex] = SideColors[<span class="source_int">1</span>];
<a name="1404"></a>				}
<a name="1405"></a>				else
<a name="1406"></a>				{
<a name="1407"></a>					PortraitIcon.WidgetTexture = CaptureBarTeamIcons[<span class="source_int">0</span>];
<a name="1408"></a>					PortraitText[<span class="source_int">0</span>].Tints[TeamIndex] = default.PortraitText[<span class="source_int">0</span>].Tints[TeamIndex];
<a name="1409"></a>				}
<a name="1410"></a>			}
<a name="1411"></a>
<a name="1412"></a>			<span class="source_comment">// PortraitX goes from 0 to 1 -- we'll use that as alpha
</span><a name="1413"></a>			PortraitIcon.Tints[TeamIndex].<span class="source_type">A</span> = <span class="source_int">255</span> * (<span class="source_int">1</span> - PortraitX);
<a name="1414"></a>			PortraitText[<span class="source_int">0</span>].Tints[TeamIndex].<span class="source_type">A</span> = PortraitIcon.Tints[TeamIndex].<span class="source_type">A</span>;
<a name="1415"></a>
<a name="1416"></a>			XL = <span class="source_int">0</span>;
<a name="1417"></a>			DrawSpriteWidgetClipped(<span class="source_type">C</span>, PortraitIcon, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, true, XL, <span class="source_type">YL</span>, false, true);
<a name="1418"></a>
<a name="1419"></a>			<span class="source_comment">// Draw first line of text
</span><a name="1420"></a>			PortraitText[<span class="source_int">0</span>].OffsetX = PortraitIcon.OffsetX * PortraitIcon.TextureScale + XL * <span class="source_int">1.1</span>;
<a name="1421"></a>			PortraitText[<span class="source_int">0</span>].<span class="source_type">text</span> = PortraitPRI.<span class="source_type">PlayerName</span>;
<a name="1422"></a>			<span class="source_type">C</span>.<span class="source_type">Font</span> = GetFontSizeIndex(<span class="source_type">C</span>,-<span class="source_int">2</span>);
<a name="1423"></a>			DrawTextWidgetClipped(<span class="source_type">C</span>, PortraitText[<span class="source_int">0</span>], <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>);
<a name="1424"></a>
<a name="1425"></a>			<span class="source_comment">// Draw second line of text
</span><a name="1426"></a>			VCR = PlayerOwner.VoiceReplicationInfo.GetChannelAt(PortraitPRI.ActiveChannel);
<a name="1427"></a>			if (VCR != none)
<a name="1428"></a>				PortraitText[<span class="source_int">1</span>].<span class="source_type">text</span> = <span class="source_string">"("</span> @ VCR.GetTitle() @ <span class="source_string">")"</span>;
<a name="1429"></a>			else
<a name="1430"></a>				PortraitText[<span class="source_int">1</span>].<span class="source_type">text</span> = <span class="source_string">"( ? )"</span>;
<a name="1431"></a>			PortraitText[<span class="source_int">1</span>].OffsetX = PortraitText[<span class="source_int">0</span>].OffsetX;
<a name="1432"></a>			PortraitText[<span class="source_int">1</span>].Tints[TeamIndex] = PortraitText[<span class="source_int">0</span>].Tints[TeamIndex];
<a name="1433"></a>			DrawTextWidgetClipped(<span class="source_type">C</span>, PortraitText[<span class="source_int">1</span>], <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>);
<a name="1434"></a>
<a name="1435"></a>		}
<a name="1436"></a>
<a name="1437"></a>		<span class="source_comment">/*
<a name="1438"></a>		PortraitWidth = 0.125 * C.ClipY;
<a name="1439"></a>		PortraitHeight = 1.5 * PortraitWidth;
<a name="1440"></a>		C.DrawColor = WhiteColor;
<a name="1441"></a>
<a name="1442"></a>		C.SetPos(-PortraitWidth*PortraitX + 0.025*PortraitWidth,0.5*(C.ClipY-PortraitHeight) + 0.025*PortraitHeight);
<a name="1443"></a>		C.DrawTile( Portrait, PortraitWidth, PortraitHeight, 0, 0, 256, 384);
<a name="1444"></a>
<a name="1445"></a>		C.SetPos(-PortraitWidth*PortraitX,0.5*(C.ClipY-PortraitHeight));
<a name="1446"></a>		C.Font = GetFontSizeIndex(C,-2);
<a name="1447"></a>		PortraitString = PortraitPRI.PlayerName;
<a name="1448"></a>		C.StrLen(PortraitString,XL,YL);
<a name="1449"></a>		if ( XL &gt; PortraitWidth )
<a name="1450"></a>		{
<a name="1451"></a>			C.Font = GetFontSizeIndex(C,-4);
<a name="1452"></a>			C.StrLen(PortraitString,XL,YL);
<a name="1453"></a>			if ( XL &gt; PortraitWidth )
<a name="1454"></a>			{
<a name="1455"></a>				Abbrev = float(len(PortraitString)) * PortraitWidth/XL;
<a name="1456"></a>				PortraitString = left(PortraitString,Abbrev);
<a name="1457"></a>				C.StrLen(PortraitString,XL,YL);
<a name="1458"></a>			}
<a name="1459"></a>		}
<a name="1460"></a>
<a name="1461"></a>		// Merge - Don't think we need this
<a name="1462"></a>//		C.DrawColor = C.static.MakeColor(160,160,160);
<a name="1463"></a>//		C.SetPos(-PortraitWidth*PortraitX + 0.025*PortraitWidth,0.5*(C.ClipY-PortraitHeight) + 0.025*PortraitHeight);
<a name="1464"></a>//		C.DrawTile( Material'XGameShaders.ModuNoise', PortraitWidth, PortraitHeight, 0.0, 0.0, 512, 512 );
<a name="1465"></a>
<a name="1466"></a>		C.DrawColor = WhiteColor;
<a name="1467"></a>		C.SetPos(-PortraitWidth*PortraitX,0.5*(C.ClipY-PortraitHeight));
<a name="1468"></a>		//C.DrawTileStretched(texture 'InterfaceContent.Menu.BorderBoxA1', 1.05 * PortraitWidth, 1.05*PortraitHeight);
<a name="1469"></a>		C.DrawTileStretched(Texture'InterfaceArt_tex.Menu.RODisplay', 1.05 * PortraitWidth, 1.05*PortraitHeight);
<a name="1470"></a>
<a name="1471"></a>		C.DrawColor = WhiteColor;
<a name="1472"></a>
<a name="1473"></a>		X = C.ClipY/256-PortraitWidth*PortraitX;
<a name="1474"></a>		Y = 0.5*(C.ClipY+PortraitHeight) + 0.06*PortraitHeight;
<a name="1475"></a>		C.SetPos( X + 0.5 * (PortraitWidth - XL), Y );
<a name="1476"></a>
<a name="1477"></a>		if ( PortraitPRI != None )
<a name="1478"></a>		{
<a name="1479"></a>			if ( PortraitPRI.Team != None )
<a name="1480"></a>			{
<a name="1481"></a>				if ( PortraitPRI.Team.TeamIndex == 0 )
<a name="1482"></a>					C.DrawColor = RedColor;
<a name="1483"></a>				else
<a name="1484"></a>					C.DrawColor = TurqColor;
<a name="1485"></a>			}
<a name="1486"></a>
<a name="1487"></a>			C.DrawText(PortraitString,true);
<a name="1488"></a>
<a name="1489"></a>			if ( Level.TimeSeconds - LastPlayerIDTalkingTime &lt; 2.0
<a name="1490"></a>				&& PortraitPRI.ActiveChannel != -1
<a name="1491"></a>				&& PlayerOwner.VoiceReplicationInfo != None )
<a name="1492"></a>			{
<a name="1493"></a>				VCR = PlayerOwner.VoiceReplicationInfo.GetChannelAt(PortraitPRI.ActiveChannel);
<a name="1494"></a>				if ( VCR != None )
<a name="1495"></a>				{
<a name="1496"></a>					PortraitString = "(" @ VCR.GetTitle() @ ")";
<a name="1497"></a>					C.StrLen( PortraitString, XL, YL );
<a name="1498"></a>					if ( PortraitX == 0 )
<a name="1499"></a>						C.SetPos( Max(0, X + 0.5 * (PortraitWidth - XL)), Y + YL );
<a name="1500"></a>					else C.SetPos( X + 0.5 * (PortraitWidth - XL), Y + YL );
<a name="1501"></a>					C.DrawText( PortraitString );
<a name="1502"></a>				}
<a name="1503"></a>			}
<a name="1504"></a>		}*/</span>
<a name="1505"></a>	}
<a name="1506"></a>	if( bShowWeaponInfo && (PawnOwner != None) && (PawnOwner.<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span> != None) )
<a name="1507"></a>		PawnOwner.<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span>.NewDrawWeaponInfo(<span class="source_type">C</span>, <span class="source_int">0.86</span> * <span class="source_type">C</span>.ClipY);
<a name="1508"></a>
<a name="1509"></a>	<span class="source_comment">// Slow, for debugging only
</span><a name="1510"></a>	if( bDebugDriverCollision && <span class="source_type">class</span><span class="source_name">'ROEngine.ROLevelInfo'</span>.static.RODebugMode() )
<a name="1511"></a>	{
<a name="1512"></a>		DrawVehiclePointSphere();
<a name="1513"></a>	}
<a name="1514"></a>
<a name="1515"></a>	<span class="source_comment">// Slow, for debugging only
</span><a name="1516"></a>	if( bDebugPlayerCollision && <span class="source_type">class</span><span class="source_name">'ROEngine.ROLevelInfo'</span>.static.RODebugMode() )
<a name="1517"></a>	{
<a name="1518"></a>		DrawPointSphere();
<a name="1519"></a>	}
<a name="1520"></a>
<a name="1521"></a>}
<a name="1522"></a>
<a name="1523"></a>simulated function DrawPointSphere()
<a name="1524"></a>{
<a name="1525"></a>	local <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span> CO;
<a name="1526"></a>	local <span class="source_type"><a href="../roengine/ropawn.html" class="source">ROPawn</a></span> <span class="source_type">P</span>;
<a name="1527"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> HeadLoc;
<a name="1528"></a>	local <span class="source_type">int</span> <span class="source_type">i</span>;
<a name="1529"></a>
<a name="1530"></a>	foreach DynamicActors(<span class="source_type">class</span><span class="source_name">'ROPawn'</span>, <span class="source_type">P</span>)
<a name="1531"></a>	{
<a name="1532"></a>		if (<span class="source_type">P</span> != none <span class="source_comment">/*&& P != PawnOwner*/</span>)
<a name="1533"></a>		{
<a name="1534"></a>			for(<span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;<span class="source_type">P</span>.Hitpoints.Length; <span class="source_type">i</span>++)
<a name="1535"></a>			{
<a name="1536"></a>				if( <span class="source_type">P</span>.Hitpoints[<span class="source_type">i</span>].PointBone != <span class="source_name">''</span> )
<a name="1537"></a>				{
<a name="1538"></a>					CO = <span class="source_type">P</span>.GetBoneCoords(<span class="source_type">P</span>.Hitpoints[<span class="source_type">i</span>].PointBone);
<a name="1539"></a>					HeadLoc = CO.Origin;<span class="source_comment">// + (P.Hitpoints[i].PointHeight * P.Hitpoints[i].PointScale * CO.XAxis);
</span><a name="1540"></a>					HeadLoc = HeadLoc + (<span class="source_type">P</span>.Hitpoints[<span class="source_type">i</span>].PointOffset &gt;&gt; <span class="source_type">P</span>.GetBoneRotation(<span class="source_type">P</span>.Hitpoints[<span class="source_type">i</span>].PointBone)<span class="source_comment">/*P.Rotation*/</span>);
<a name="1541"></a>					<span class="source_comment">//P.DrawDebugSphere(HeadLoc, P.Hitpoints[i].PointHeight * P.Hitpoints[i].PointScale, 10, 0, 255, 0);
</span><a name="1542"></a>					if( <span class="source_type">i</span> == MAINCOLLISIONINDEX )
<a name="1543"></a>					{
<a name="1544"></a>						DrawDebugCylinder(HeadLoc,CO.XAxis,CO.YAxis,CO.<span class="source_type">ZAxis</span>,<span class="source_type">P</span>.Hitpoints[<span class="source_type">i</span>].PointRadius * <span class="source_type">P</span>.Hitpoints[<span class="source_type">i</span>].PointScale,<span class="source_type">P</span>.Hitpoints[<span class="source_type">i</span>].PointHeight * <span class="source_type">P</span>.Hitpoints[<span class="source_type">i</span>].PointScale,<span class="source_int">10</span>,<span class="source_int">0</span>, <span class="source_int">255</span>, <span class="source_int">0</span>);
<a name="1545"></a>					}
<a name="1546"></a>					else
<a name="1547"></a>					{
<a name="1548"></a>						DrawDebugCylinder(HeadLoc,CO.<span class="source_type">ZAxis</span>,CO.YAxis,CO.XAxis,<span class="source_type">P</span>.Hitpoints[<span class="source_type">i</span>].PointRadius * <span class="source_type">P</span>.Hitpoints[<span class="source_type">i</span>].PointScale,<span class="source_type">P</span>.Hitpoints[<span class="source_type">i</span>].PointHeight * <span class="source_type">P</span>.Hitpoints[<span class="source_type">i</span>].PointScale,<span class="source_int">10</span>,<span class="source_int">0</span>, <span class="source_int">255</span>, <span class="source_int">0</span>);
<a name="1549"></a>					}
<a name="1550"></a>				}
<a name="1551"></a>			}
<a name="1552"></a>		}
<a name="1553"></a>	}
<a name="1554"></a>}
<a name="1555"></a>
<a name="1556"></a>
<a name="1557"></a>simulated function DrawVehiclePointSphere()
<a name="1558"></a>{
<a name="1559"></a>
<a name="1560"></a>	local <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span> CO;
<a name="1561"></a>	local <span class="source_type"><a href="../roengine/rovehicle.html" class="source">ROVehicle</a></span> <span class="source_type">P</span>;
<a name="1562"></a>	local <span class="source_type"><a href="../roengine/rovehicleweapon.html" class="source">ROVehicleWeapon</a></span> <span class="source_type">V</span>;
<a name="1563"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> HeadLoc;
<a name="1564"></a>	local <span class="source_type">int</span> <span class="source_type">i</span>;
<a name="1565"></a>
<a name="1566"></a>	foreach DynamicActors(<span class="source_type">class</span><span class="source_name">'ROVehicle'</span>, <span class="source_type">P</span>)
<a name="1567"></a>	{
<a name="1568"></a>		if (<span class="source_type">P</span> != None)
<a name="1569"></a>		{
<a name="1570"></a>			for(<span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;<span class="source_type">P</span>.VehHitpoints.Length; <span class="source_type">i</span>++)
<a name="1571"></a>			{
<a name="1572"></a>				if( <span class="source_type">P</span>.VehHitpoints[<span class="source_type">i</span>].PointBone != <span class="source_name">''</span> )
<a name="1573"></a>				{
<a name="1574"></a>					CO = <span class="source_type">P</span>.GetBoneCoords(<span class="source_type">P</span>.VehHitpoints[<span class="source_type">i</span>].PointBone);
<a name="1575"></a>					HeadLoc = CO.Origin + (<span class="source_type">P</span>.VehHitpoints[<span class="source_type">i</span>].PointHeight * <span class="source_type">P</span>.VehHitpoints[<span class="source_type">i</span>].PointScale * CO.XAxis);
<a name="1576"></a>					HeadLoc = HeadLoc + (<span class="source_type">P</span>.VehHitpoints[<span class="source_type">i</span>].PointOffset &gt;&gt; <span class="source_type">P</span>.<span class="source_type">Rotation</span>);
<a name="1577"></a>					<span class="source_type">P</span>.DrawDebugSphere(HeadLoc, <span class="source_type">P</span>.VehHitpoints[<span class="source_type">i</span>].PointRadius * <span class="source_type">P</span>.VehHitpoints[<span class="source_type">i</span>].PointScale, <span class="source_int">10</span>, <span class="source_int">0</span>, <span class="source_int">255</span>, <span class="source_int">0</span>);
<a name="1578"></a>				}
<a name="1579"></a>			}
<a name="1580"></a>		}
<a name="1581"></a>	}
<a name="1582"></a>
<a name="1583"></a>
<a name="1584"></a>	foreach DynamicActors(<span class="source_type">class</span><span class="source_name">'ROVehicleWeapon'</span>, <span class="source_type">V</span>)
<a name="1585"></a>	{
<a name="1586"></a>		if (<span class="source_type">V</span> != None)
<a name="1587"></a>		{
<a name="1588"></a>			for(<span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;<span class="source_type">V</span>.VehHitpoints.Length; <span class="source_type">i</span>++)
<a name="1589"></a>			{
<a name="1590"></a>				if( <span class="source_type">V</span>.VehHitpoints[<span class="source_type">i</span>].PointBone != <span class="source_name">''</span> )
<a name="1591"></a>				{
<a name="1592"></a>					CO = <span class="source_type">V</span>.GetBoneCoords(<span class="source_type">V</span>.VehHitpoints[<span class="source_type">i</span>].PointBone);
<a name="1593"></a>					HeadLoc = CO.Origin + (<span class="source_type">V</span>.VehHitpoints[<span class="source_type">i</span>].PointHeight * <span class="source_type">V</span>.VehHitpoints[<span class="source_type">i</span>].PointScale * CO.XAxis);
<a name="1594"></a>					HeadLoc = HeadLoc + (<span class="source_type">V</span>.VehHitpoints[<span class="source_type">i</span>].PointOffset &gt;&gt; <span class="source_type"><a href="../core/object.html#Rotator" class="source">Rotator</a></span>(CO.Xaxis));
<a name="1595"></a>					<span class="source_type">V</span>.DrawDebugSphere(HeadLoc, <span class="source_type">V</span>.VehHitpoints[<span class="source_type">i</span>].PointRadius * <span class="source_type">V</span>.VehHitpoints[<span class="source_type">i</span>].PointScale, <span class="source_int">10</span>, <span class="source_int">0</span>, <span class="source_int">255</span>, <span class="source_int">0</span>);
<a name="1596"></a>				}
<a name="1597"></a>			}
<a name="1598"></a>		}
<a name="1599"></a>	}
<a name="1600"></a>}
<a name="1601"></a>
<a name="1602"></a>
<a name="1603"></a><span class="source_comment">// Draw a debugging cylinder
</span><a name="1604"></a>function DrawDebugCylinder(<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Base,<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">X</span>, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">Y</span>,<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">Z</span>, <span class="source_type">FLOAT</span> <span class="source_type">Radius</span>,<span class="source_type">float</span> HalfHeight,<span class="source_type">int</span> NumSides, <span class="source_type">byte</span> <span class="source_type">R</span>, <span class="source_type">byte</span> G, <span class="source_type">byte</span> <span class="source_type">B</span>)
<a name="1605"></a>{
<a name="1606"></a>	local <span class="source_type">float</span> AngleDelta;
<a name="1607"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> LastVertex, Vertex;
<a name="1608"></a>	local <span class="source_type">int</span> SideIndex;
<a name="1609"></a>	<span class="source_comment">//Color = Color.RenderColor();
</span><a name="1610"></a>
<a name="1611"></a>	AngleDelta = <span class="source_int">2.0f</span> * PI / NumSides;
<a name="1612"></a>	LastVertex = Base + <span class="source_type">X</span> * <span class="source_type">Radius</span>;
<a name="1613"></a>
<a name="1614"></a>	for(SideIndex = <span class="source_int">0</span>;SideIndex &lt; NumSides;SideIndex++)
<a name="1615"></a>	{
<a name="1616"></a>		Vertex = Base + (<span class="source_type">X</span> * Cos(AngleDelta * (SideIndex + <span class="source_int">1</span>)) + <span class="source_type">Y</span> * Sin(AngleDelta * (SideIndex + <span class="source_int">1</span>))) * <span class="source_type">Radius</span>;
<a name="1617"></a>
<a name="1618"></a>		DrawDebugLine(LastVertex - <span class="source_type">Z</span> * HalfHeight,Vertex - <span class="source_type">Z</span> * HalfHeight,<span class="source_type">R</span>,G,<span class="source_type">B</span>);
<a name="1619"></a>		DrawDebugLine(LastVertex + <span class="source_type">Z</span> * HalfHeight,Vertex + <span class="source_type">Z</span> * HalfHeight,<span class="source_type">R</span>,G,<span class="source_type">B</span>);
<a name="1620"></a>		DrawDebugLine(LastVertex - <span class="source_type">Z</span> * HalfHeight,LastVertex + <span class="source_type">Z</span> * HalfHeight,<span class="source_type">R</span>,G,<span class="source_type">B</span>);
<a name="1621"></a>
<a name="1622"></a>		LastVertex = Vertex;
<a name="1623"></a>	}
<a name="1624"></a>}
<a name="1625"></a>
<a name="1626"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="1627"></a><span class="source_comment">// DrawPlayerNames - Draws identify info for friendlies
</span><a name="1628"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="1629"></a>
<a name="1630"></a>function DrawPlayerNames(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>)
<a name="1631"></a>{
<a name="1632"></a>	local <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> <span class="source_type">HitActor</span>;
<a name="1633"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">HitLocation</span>, <span class="source_type">HitNormal</span>, ViewPos;
<a name="1634"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> ScreenPos, Loc, <span class="source_type">X</span>, <span class="source_type">Y</span>, <span class="source_type">Z</span>, <span class="source_type">Dir</span>;
<a name="1635"></a>	local <span class="source_type">float</span> strX, strY;
<a name="1636"></a>	local <span class="source_type">string</span> display;
<a name="1637"></a>	local <span class="source_type">float</span> <span class="source_type">distance</span>;
<a name="1638"></a>
<a name="1639"></a>	if (PawnOwner == none || PawnOwner.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> == None)
<a name="1640"></a>		return;
<a name="1641"></a>
<a name="1642"></a>	ViewPos = PawnOwner.Location + PawnOwner.BaseEyeHeight * vect(<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_int">1</span>);
<a name="1643"></a>	<span class="source_type">HitActor</span> = trace(<span class="source_type">HitLocation</span>,<span class="source_type">HitNormal</span>,ViewPos+<span class="source_comment">/*512*/</span><span class="source_int">1600</span>*<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>(PawnOwner.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.<span class="source_type">Rotation</span>),ViewPos,true);
<a name="1644"></a>
<a name="1645"></a>	if ( (<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>(<span class="source_type">HitActor</span>) != None) && (<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>(<span class="source_type">HitActor</span>).<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != None)
<a name="1646"></a>		&& ( (PawnOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span> == None) || (PawnOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span> == <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>(<span class="source_type">HitActor</span>).<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>)) )
<a name="1647"></a>	{
<a name="1648"></a>		if ( (NamedPlayer != <span class="source_type">HitActor</span>) || (<span class="source_type">Level</span>.TimeSeconds - NameTime &gt; <span class="source_int">0.5</span>) )
<a name="1649"></a>		{
<a name="1650"></a>			<span class="source_comment">//PlayerOwner.ReceiveLocalizedMessage(class'ROPlayerNameMessage',0,Pawn(HitActor).PlayerReplicationInfo);
</span><a name="1651"></a>			NameTime = <span class="source_type">Level</span>.TimeSeconds;
<a name="1652"></a>		}
<a name="1653"></a>
<a name="1654"></a>		NamedPlayer = <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>(<span class="source_type">HitActor</span>);
<a name="1655"></a>	}
<a name="1656"></a>
<a name="1657"></a>	if (NamedPlayer != None && NamedPlayer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != None && <span class="source_type">Level</span>.TimeSeconds - NameTime &lt; <span class="source_int">1.0</span>)
<a name="1658"></a>	{
<a name="1659"></a>		GetAxes(PlayerOwner.<span class="source_type">Rotation</span>, <span class="source_type">X</span>, <span class="source_type">Y</span>, <span class="source_type">Z</span>);
<a name="1660"></a>		<span class="source_type">Dir</span> = Normal(NamedPlayer.Location - PawnOwner.Location);
<a name="1661"></a>
<a name="1662"></a>		if (<span class="source_type">Dir</span> dot <span class="source_type">X</span> &gt; <span class="source_int">0.0</span>)
<a name="1663"></a>		{
<a name="1664"></a>			<span class="source_type">C</span>.DrawColor = GetTeamColor(NamedPlayer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.TeamIndex);
<a name="1665"></a>			<span class="source_type">C</span>.<span class="source_type">Font</span> = GetConsoleFont(<span class="source_type">C</span>);
<a name="1666"></a>
<a name="1667"></a>			if( <span class="source_type"><a href="../roengine/ropawn.html" class="source">ROPawn</a></span>(PawnOwner)!= none && !NamedPlayer.IsA(<span class="source_name">'Vehicle'</span>) && !<span class="source_type"><a href="../roengine/ropawn.html" class="source">ROPawn</a></span>(PawnOwner).bUsedCarriedMGAmmo
<a name="1668"></a>				&& <span class="source_type"><a href="../roengine/ropawn.html" class="source">ROPawn</a></span>(NamedPlayer).bWeaponCanBeResupplied && <span class="source_type"><a href="../roengine/ropawn.html" class="source">ROPawn</a></span>(NamedPlayer).bWeaponNeedsResupply)
<a name="1669"></a>			{
<a name="1670"></a>				<span class="source_comment">// Draw player name
</span><a name="1671"></a>				Loc = NamedPlayer.Location;
<a name="1672"></a>				Loc.<span class="source_type">Z</span> += NamedPlayer.CollisionHeight + <span class="source_int">8</span>;
<a name="1673"></a>				ScreenPos = <span class="source_type">C</span>.WorldToScreen(Loc);
<a name="1674"></a>				<span class="source_type">C</span>.TextSize(NamedPlayer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerName</span>, strX, strY);
<a name="1675"></a>			    <span class="source_type">C</span>.SetPos(ScreenPos.<span class="source_type">X</span> - strX * <span class="source_int">0.5</span>, ScreenPos.<span class="source_type">Y</span> - strY * <span class="source_int">2.0</span>);
<a name="1676"></a>				display = NamedPlayer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerName</span>;
<a name="1677"></a>				<span class="source_type">C</span>.DrawTextClipped(display);
<a name="1678"></a>
<a name="1679"></a>				<span class="source_type">distance</span> = VSizeSquared(Loc - PawnOwner.Location);
<a name="1680"></a>
<a name="1681"></a>				if( <span class="source_type">distance</span> &lt; <span class="source_int">14400.0</span> ) <span class="source_comment">// 2 Meters
</span><a name="1682"></a>				{
<a name="1683"></a>					<span class="source_type"><a href="../roengine/ropawn.html" class="source">ROPawn</a></span>(PawnOwner).bCanResupply = true;
<a name="1684"></a>					display = <span class="source_type">class</span><span class="source_name">'ROTeamGame'</span>.static.ParseLoadingHintNoColor(CanResupplyText, <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">Owner</span>));
<a name="1685"></a>				}
<a name="1686"></a>				else
<a name="1687"></a>				{
<a name="1688"></a>					if( <span class="source_type"><a href="../roengine/ropawn.html" class="source">ROPawn</a></span>(PawnOwner).bCanResupply )
<a name="1689"></a>						<span class="source_type"><a href="../roengine/ropawn.html" class="source">ROPawn</a></span>(PawnOwner).bCanResupply = false;
<a name="1690"></a>					display = NeedAmmoText;
<a name="1691"></a>				}
<a name="1692"></a>
<a name="1693"></a>				<span class="source_comment">// Draw text under player's name (need ammo or press x to resupply)
</span><a name="1694"></a>				<span class="source_type">C</span>.DrawColor = WhiteColor;
<a name="1695"></a>			    <span class="source_type">C</span>.SetPos(ScreenPos.<span class="source_type">X</span> - strX * <span class="source_int">0.5</span>, ScreenPos.<span class="source_type">Y</span> - strY * <span class="source_int">1.0</span>);
<a name="1696"></a>				<span class="source_type">C</span>.DrawTextClipped(display);
<a name="1697"></a>			}
<a name="1698"></a>			else
<a name="1699"></a>			{
<a name="1700"></a>				if( <span class="source_type"><a href="../roengine/ropawn.html" class="source">ROPawn</a></span>(PawnOwner)!= none && <span class="source_type"><a href="../roengine/ropawn.html" class="source">ROPawn</a></span>(PawnOwner).bCanResupply )
<a name="1701"></a>					<span class="source_type"><a href="../roengine/ropawn.html" class="source">ROPawn</a></span>(PawnOwner).bCanResupply = false;
<a name="1702"></a>
<a name="1703"></a>				<span class="source_type">C</span>.TextSize(NamedPlayer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerName</span>, strX, strY);
<a name="1704"></a>				Loc = NamedPlayer.Location;
<a name="1705"></a>				Loc.<span class="source_type">Z</span> += NamedPlayer.CollisionHeight + <span class="source_int">8</span>;
<a name="1706"></a>				ScreenPos = <span class="source_type">C</span>.WorldToScreen(Loc);
<a name="1707"></a>			    <span class="source_type">C</span>.SetPos(ScreenPos.<span class="source_type">X</span> - strX * <span class="source_int">0.5</span>, ScreenPos.<span class="source_type">Y</span> - strY * <span class="source_int">0.5</span>);
<a name="1708"></a>
<a name="1709"></a>				display = NamedPlayer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerName</span>;
<a name="1710"></a>				<span class="source_type">C</span>.DrawTextClipped(display);
<a name="1711"></a>			}
<a name="1712"></a>		}
<a name="1713"></a>	}
<a name="1714"></a>}
<a name="1715"></a>
<a name="1716"></a><span class="source_comment">// Draw actors on the hud to help debugging network relevancy in network games
</span><a name="1717"></a>function DrawNetworkActors(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>)
<a name="1718"></a>{
<a name="1719"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> ScreenPos, <span class="source_type">X</span>, <span class="source_type">Y</span>, <span class="source_type">Z</span>, <span class="source_type">Dir</span>;
<a name="1720"></a>	local <span class="source_type">float</span> strX, strY;
<a name="1721"></a>	local <span class="source_type">string</span> display;
<a name="1722"></a>	local <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> TestActor;
<a name="1723"></a>	local <span class="source_type">int</span> <span class="source_type">Pos</span>;
<a name="1724"></a>
<a name="1725"></a>	if (PawnOwner == none || PawnOwner.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> == none )
<a name="1726"></a>		return;
<a name="1727"></a>
<a name="1728"></a>    if( <span class="source_type">Level</span>.NetMode != NM_Standalone && !<span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span>(PlayerOwner.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).bAllowNetDebug)
<a name="1729"></a>        return;
<a name="1730"></a>
<a name="1731"></a>	foreach DynamicActors(<span class="source_type">class</span><span class="source_name">'Actor'</span>, TestActor)
<a name="1732"></a>	{
<a name="1733"></a>		if (TestActor != none && TestActor.IsA(<span class="source_name">'Pawn'</span>))
<a name="1734"></a>		{
<a name="1735"></a>		    GetAxes(PlayerOwner.<span class="source_type">Rotation</span>, <span class="source_type">X</span>, <span class="source_type">Y</span>, <span class="source_type">Z</span>);
<a name="1736"></a>            <span class="source_type">Dir</span> = Normal(TestActor.Location - PawnOwner.Location);
<a name="1737"></a>
<a name="1738"></a>    		if (<span class="source_type">Dir</span> dot <span class="source_type">X</span> &gt; <span class="source_int">0.0</span>)
<a name="1739"></a>    		{
<a name="1740"></a>    			<span class="source_type">C</span>.DrawColor = WhiteColor;
<a name="1741"></a>    			<span class="source_type">C</span>.<span class="source_type">Font</span> = GetConsoleFont(<span class="source_type">C</span>);
<a name="1742"></a>    			display = <span class="source_string">""</span>$TestActor;
<a name="1743"></a>
<a name="1744"></a>                <span class="source_comment">// Remove the package name, if it exists
</span><a name="1745"></a>            	<span class="source_type">Pos</span> = InStr(display, <span class="source_string">"."</span>);
<a name="1746"></a>            	if ( <span class="source_type">Pos</span> != -<span class="source_int">1</span> )
<a name="1747"></a>            		display = Mid(display, <span class="source_type">Pos</span> + <span class="source_int">1</span>);
<a name="1748"></a>
<a name="1749"></a>				<span class="source_type">C</span>.TextSize(display, strX, strY);
<a name="1750"></a>				<span class="source_comment">//Loc = NamedPlayer.Location;
</span><a name="1751"></a>				<span class="source_comment">//Loc.Z += NamedPlayer.CollisionHeight + 8;
</span><a name="1752"></a>				ScreenPos = <span class="source_type">C</span>.WorldToScreen(TestActor.Location);
<a name="1753"></a>			    <span class="source_type">C</span>.SetPos(ScreenPos.<span class="source_type">X</span> - strX * <span class="source_int">0.5</span>, ScreenPos.<span class="source_type">Y</span> - strY * <span class="source_int">0.5</span>);
<a name="1754"></a>
<a name="1755"></a>				<span class="source_comment">//display = NamedPlayer.PlayerReplicationInfo.PlayerName;
</span><a name="1756"></a>				<span class="source_type">C</span>.DrawTextClipped(display);
<a name="1757"></a>    		}
<a name="1758"></a>		}
<a name="1759"></a>	}
<a name="1760"></a>}
<a name="1761"></a>
<a name="1762"></a>
<a name="1763"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="1764"></a><span class="source_comment">// DrawObjectives - Renders the objectives on the HUD similar to the scoreboard
</span><a name="1765"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="1766"></a>
<a name="1767"></a>simulated function DrawObjectives(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>)
<a name="1768"></a>{
<a name="1769"></a>	local <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span> GRI;
<a name="1770"></a>	local <span class="source_type">int</span> <span class="source_type">i</span>, OwnerTeam, objCount, SecondaryObjCount;
<a name="1771"></a>	local <span class="source_type"><a href="../roengine/rohud.html#AbsoluteCoordsInfo" class="source">AbsoluteCoordsInfo</a></span> MapCoords, subCoords;
<a name="1772"></a>	local <span class="source_type">bool</span> bShowRally, bShowArtillery, bShowResupply, bShowArtyCoords,
<a name="1773"></a>		bShowNeutralObj, bShowMGResupplyRequest, bShowHelpRequest, bShowAttackDefendRequest,
<a name="1774"></a>        bShowArtyStrike, bShowDestroyableItems, bShowDestroyedItems, bShowVehicleResupply,
<a name="1775"></a>		bHasSecondaryObjectives;
<a name="1776"></a>	local <span class="source_type">float</span> myMapScale, XL, <span class="source_type">YL</span>, YL_one, <span class="source_type"><a href="../core/time.html" class="source">time</a></span>;
<a name="1777"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> temp, MapCenter;
<a name="1778"></a>	local <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span>  widget;
<a name="1779"></a>	local <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">A</span>;
<a name="1780"></a>	local <span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span> <span class="source_type"><a href="../engine/player.html" class="source">player</a></span>;
<a name="1781"></a>	local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">P</span>;
<a name="1782"></a>	<span class="source_comment">// PSYONIX: DEBUG
</span><a name="1783"></a>	local <span class="source_type"><a href="../engine/vehicle.html" class="source">Vehicle</a></span> <span class="source_type">V</span>;
<a name="1784"></a>	local <span class="source_type">float</span> pawnRotation;
<a name="1785"></a>	local <span class="source_type"><a href="../roengine/rovehicleweaponpawn.html" class="source">ROVehicleWeaponPawn</a></span> myVehicleWeaponPawn;
<a name="1786"></a>	local <span class="source_type">float</span> <span class="source_type">X</span>, <span class="source_type">Y</span>, strX, strY;
<a name="1787"></a>	local <span class="source_type">string</span> <span class="source_type">S</span>;
<a name="1788"></a>	<span class="source_comment">// Net debug
</span><a name="1789"></a>	local <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> NetActor;
<a name="1790"></a>	local <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> NetPawn;
<a name="1791"></a>	local <span class="source_type"><a href="../roengine/ropawn.html" class="source">ROPawn</a></span> ROP;
<a name="1792"></a>	local <span class="source_type">int</span> <span class="source_type">Pos</span>;
<a name="1793"></a>	<span class="source_comment">// AT Gun
</span><a name="1794"></a>	local <span class="source_type">bool</span> bShowATGun;
<a name="1795"></a>
<a name="1796"></a>	<span class="source_comment">// Get GRI
</span><a name="1797"></a>	GRI = <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span>(PlayerOwner.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>);
<a name="1798"></a>	if (GRI == none)
<a name="1799"></a>		return;
<a name="1800"></a>
<a name="1801"></a>    <span class="source_comment">// Update time
</span><a name="1802"></a>	if (GRI != None)
<a name="1803"></a>	{
<a name="1804"></a>		if (!GRI.bMatchHasBegun)
<a name="1805"></a>			CurrentTime = FMax(<span class="source_int">0.0</span>, GRI.RoundStartTime + GRI.PreStartTime - GRI.ElapsedTime);
<a name="1806"></a>		else
<a name="1807"></a>			CurrentTime = FMax(<span class="source_int">0.0</span>, GRI.RoundStartTime + GRI.RoundDuration - GRI.ElapsedTime);
<a name="1808"></a>	}
<a name="1809"></a>
<a name="1810"></a>	<span class="source_comment">// Get player
</span><a name="1811"></a>	<span class="source_type"><a href="../engine/player.html" class="source">player</a></span> = <span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(PlayerOwner);
<a name="1812"></a>
<a name="1813"></a>	<span class="source_comment">// Get player team -- if none, we won't draw team-specific information on the map
</span><a name="1814"></a>	if (PlayerOwner != none )
<a name="1815"></a>		OwnerTeam = PlayerOwner.GetTeamNum();
<a name="1816"></a>	else
<a name="1817"></a>		OwnerTeam = <span class="source_int">255</span>;
<a name="1818"></a>
<a name="1819"></a>	<span class="source_comment">// Set map coords based on resolution
</span><a name="1820"></a>	<span class="source_comment">// We want to keep a 4:3 aspect ratio for the map
</span><a name="1821"></a>	MapCoords.height = <span class="source_type">C</span>.ClipY * <span class="source_int">0.9</span>;
<a name="1822"></a>	MapCoords.PosY = <span class="source_type">C</span>.ClipY * <span class="source_int">0.05</span>;
<a name="1823"></a>	MapCoords.<span class="source_type">width</span> = MapCoords.height * <span class="source_int">4</span> / <span class="source_int">3</span>;
<a name="1824"></a>	MapCoords.PosX = (<span class="source_type">C</span>.ClipX - MapCoords.<span class="source_type">width</span>) / <span class="source_int">2</span>;
<a name="1825"></a>
<a name="1826"></a>	<span class="source_comment">// Calculate map offset (for animation)
</span><a name="1827"></a>	if (bAnimateMapIn)
<a name="1828"></a>	{
<a name="1829"></a>		AnimateMapCurrentPosition -= (<span class="source_type">Level</span>.TimeSeconds - hudLastRenderTime) / AnimateMapSpeed;
<a name="1830"></a>		if (AnimateMapCurrentPosition &lt;= <span class="source_int">0</span>)
<a name="1831"></a>		{
<a name="1832"></a>			AnimateMapCurrentPosition = <span class="source_int">0</span>;
<a name="1833"></a>			bAnimateMapIn = false;
<a name="1834"></a>		}
<a name="1835"></a>	}
<a name="1836"></a>	else if (bAnimateMapOut)
<a name="1837"></a>	{
<a name="1838"></a>		AnimateMapCurrentPosition += (<span class="source_type">Level</span>.TimeSeconds - hudLastRenderTime) / AnimateMapSpeed;
<a name="1839"></a>		if (AnimateMapCurrentPosition &gt;= default.AnimateMapCurrentPosition)
<a name="1840"></a>		{
<a name="1841"></a>			AnimateMapCurrentPosition = default.AnimateMapCurrentPosition;
<a name="1842"></a>			bAnimateMapOut = false;
<a name="1843"></a>		}
<a name="1844"></a>	}
<a name="1845"></a>	MapCoords.PosX += <span class="source_type">C</span>.ClipX * AnimateMapCurrentPosition;
<a name="1846"></a>
<a name="1847"></a>	<span class="source_comment">// Draw map background
</span><a name="1848"></a>	DrawSpriteWidgetClipped(<span class="source_type">C</span>, MapBackground, MapCoords, true);
<a name="1849"></a>
<a name="1850"></a>	<span class="source_comment">// Calculate absolute coordinates of level map
</span><a name="1851"></a>	GetAbsoluteCoordinatesAlt(MapCoords, MapLegendImageCoords, subCoords);
<a name="1852"></a>	<span class="source_comment">//subCoords.PosX = MapCoords.PosX + MapCoords.width * MapLevelBounds.PosX;
</span><a name="1853"></a>	<span class="source_comment">//subCoords.PosY = MapCoords.PosY + MapCoords.height * MapLevelBounds.PosY;
</span><a name="1854"></a>	<span class="source_comment">//subCoords.height = MapCoords.height * MapLevelBounds.TextureScale;
</span><a name="1855"></a>	<span class="source_comment">//subCoords.width = subCoords.height; // We want to show a square map, so force coords to be square
</span><a name="1856"></a>
<a name="1857"></a>	<span class="source_comment">// Save coordinates for use in menu page
</span><a name="1858"></a>	MapLevelImageCoordinates = subCoords;
<a name="1859"></a>
<a name="1860"></a>	<span class="source_comment">// Draw coordinates text on sides of the map
</span><a name="1861"></a>	for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; <span class="source_int">9</span>; <span class="source_type">i</span>++)
<a name="1862"></a>	{
<a name="1863"></a>		MapCoordTextXWidget.PosX = (<span class="source_type">float</span>(<span class="source_type">i</span>) + <span class="source_int">0.5</span>) / <span class="source_int">9</span>;
<a name="1864"></a>		MapCoordTextXWidget.<span class="source_type">text</span> = MapCoordTextX[<span class="source_type">i</span>];
<a name="1865"></a>		DrawTextWidgetClipped(<span class="source_type">C</span>, MapCoordTextXWidget, subCoords);
<a name="1866"></a>
<a name="1867"></a>		MapCoordTextYWidget.PosY = MapCoordTextXWidget.PosX;
<a name="1868"></a>		MapCoordTextYWidget.<span class="source_type">text</span> = MapCoordTextY[<span class="source_type">i</span>];
<a name="1869"></a>		DrawTextWidgetClipped(<span class="source_type">C</span>, MapCoordTextYWidget, subCoords);
<a name="1870"></a>	}
<a name="1871"></a>
<a name="1872"></a>	<span class="source_comment">// Draw level map
</span><a name="1873"></a>	MapLevelImage.WidgetTexture = GRI.MapImage;
<a name="1874"></a>	DrawSpriteWidgetClipped(<span class="source_type">C</span>, MapLevelImage, subCoords, true);
<a name="1875"></a>
<a name="1876"></a>	<span class="source_comment">// Calculate level map constants
</span><a name="1877"></a>	temp = GRI.SouthWestBounds - GRI.NorthEastBounds;
<a name="1878"></a>	MapCenter =  temp/<span class="source_int">2</span> + GRI.NorthEastBounds;
<a name="1879"></a>	myMapScale = abs(temp.<span class="source_type">x</span>);
<a name="1880"></a>	if (myMapScale ~= <span class="source_int">0</span>)
<a name="1881"></a>		myMapScale = <span class="source_int">1</span>; <span class="source_comment">// just so we never get divisions by 0
</span><a name="1882"></a>
<a name="1883"></a>	<span class="source_comment">// Set the font to be used to draw objective text
</span><a name="1884"></a>	<span class="source_type">C</span>.<span class="source_type">Font</span> = GetSmallMenuFont(<span class="source_type">C</span>);
<a name="1885"></a>
<a name="1886"></a>	<span class="source_comment">// Draw resupply areas
</span><a name="1887"></a>    for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(GRI.ResupplyAreas); <span class="source_type">i</span>++)
<a name="1888"></a>	{
<a name="1889"></a>		if (!GRI.ResupplyAreas[<span class="source_type">i</span>].bActive ||
<a name="1890"></a>            (GRI.ResupplyAreas[<span class="source_type">i</span>].<span class="source_type">Team</span> != OwnerTeam && GRI.ResupplyAreas[<span class="source_type">i</span>].<span class="source_type">Team</span> != NEUTRAL_TEAM_INDEX))
<a name="1891"></a>        {
<a name="1892"></a>			continue;
<a name="1893"></a>		}
<a name="1894"></a>
<a name="1895"></a>        if (GRI.ResupplyAreas[<span class="source_type">i</span>].ResupplyType == <span class="source_int">1</span>)
<a name="1896"></a>        {
<a name="1897"></a>            <span class="source_comment">// Tank resupply icon
</span><a name="1898"></a>    		bShowVehicleResupply = true;
<a name="1899"></a>    		DrawIconOnMap(<span class="source_type">C</span>, subCoords, MapIconVehicleResupply, myMapScale, GRI.ResupplyAreas[<span class="source_type">i</span>].ResupplyVolumeLocation, MapCenter);
<a name="1900"></a>        }
<a name="1901"></a>        else
<a name="1902"></a>        {
<a name="1903"></a>            <span class="source_comment">// Player resupply icon
</span><a name="1904"></a>    		bShowResupply = true;
<a name="1905"></a>    		DrawIconOnMap(<span class="source_type">C</span>, subCoords, MapIconResupply, myMapScale, GRI.ResupplyAreas[<span class="source_type">i</span>].ResupplyVolumeLocation, MapCenter);
<a name="1906"></a>		}
<a name="1907"></a>	}
<a name="1908"></a>
<a name="1909"></a>	<span class="source_comment">// Draw AT-Guns
</span><a name="1910"></a>    for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(GRI.ATCannons); <span class="source_type">i</span>++)
<a name="1911"></a>	{
<a name="1912"></a>		if ( GRI.ATCannons[<span class="source_type">i</span>].ATCannonLocation != vect(<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_int">0</span>) && GRI.ATCannons[<span class="source_type">i</span>].<span class="source_type">Team</span> == PlayerOwner.GetTeamNum())
<a name="1913"></a>        {
<a name="1914"></a>            if( GRI.ATCannons[<span class="source_type">i</span>].ATCannonLocation.<span class="source_type">Z</span> &gt; <span class="source_int">0</span> )  <span class="source_comment">// ATCannon is active is the Z location is greater than 0
</span><a name="1915"></a>            {
<a name="1916"></a>                bShowATGun = true;
<a name="1917"></a>
<a name="1918"></a>                <span class="source_comment">// AT-Gun icon
</span><a name="1919"></a>                MapIconATGun.Tints[<span class="source_int">0</span>] = WhiteColor;
<a name="1920"></a>                MapIconATGun.Tints[<span class="source_int">1</span>] = WhiteColor;
<a name="1921"></a>                DrawIconOnMap(<span class="source_type">C</span>, subCoords, MapIconATGun, myMapScale, GRI.ATCannons[<span class="source_type">i</span>].ATCannonLocation, MapCenter);
<a name="1922"></a>            }
<a name="1923"></a><span class="source_comment">//            else
</span><a name="1924"></a><span class="source_comment">//            {
</span><a name="1925"></a><span class="source_comment">//    			MapIconATGun.Tints[0] = GrayColor;
</span><a name="1926"></a><span class="source_comment">//                MapIconATGun.Tints[1] = GrayColor;
</span><a name="1927"></a><span class="source_comment">//    			MapIconATGun.Tints[0].A = 125;
</span><a name="1928"></a><span class="source_comment">//                MapIconATGun.Tints[1].A = 125;
</span><a name="1929"></a><span class="source_comment">//            }
</span><a name="1930"></a>        }
<a name="1931"></a>	}
<a name="1932"></a>
<a name="1933"></a>	if (<span class="source_type">Level</span>.NetMode == NM_Standalone && bShowDebugInfoOnMap)
<a name="1934"></a>	{
<a name="1935"></a>		<span class="source_comment">// PSYONIX: DEBUG - Show all vehicles on map who have no driver
</span><a name="1936"></a>		foreach DynamicActors(<span class="source_type">Class</span><span class="source_name">'Vehicle'</span>,<span class="source_type">V</span>)
<a name="1937"></a>		{
<a name="1938"></a>				widget = MapIconRally[<span class="source_type">V</span>.GetTeamNum()];
<a name="1939"></a>				widget.TextureScale = <span class="source_int">0.04f</span>;
<a name="1940"></a>				if (<span class="source_type">V</span>.health &lt;= <span class="source_int">0</span>)
<a name="1941"></a>					widget.RenderStyle = STY_Translucent;
<a name="1942"></a>				else
<a name="1943"></a>					widget.RenderStyle = STY_Normal;
<a name="1944"></a>				<span class="source_comment">// Empty Vehicle
</span><a name="1945"></a>				if (<span class="source_type"><a href="../unrealgame/bot.html" class="source">Bot</a></span>(<span class="source_type">V</span>.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>) == none && (<span class="source_type"><a href="../roengine/rowheeledvehicle.html" class="source">ROWheeledVehicle</a></span>(<span class="source_type">V</span>) != none && <span class="source_type">V</span>.NumPassengers() == <span class="source_int">0</span>) )
<a name="1946"></a>					DrawDebugIconOnMap(<span class="source_type">C</span>, subCoords, widget, myMapScale, <span class="source_type">V</span>.Location, MapCenter, <span class="source_string">""</span>);
<a name="1947"></a>				<span class="source_comment">// VehicleWeapon
</span><a name="1948"></a><span class="source_comment">//				else if (Bot(V.Controller) != none && VehicleWeaponPawn(V) != none)
</span><a name="1949"></a><span class="source_comment">//					DrawDebugIconOnMap(C, subCoords, widget, myMapScale, V.Location + Vect(0,25,0), MapCenter, Left(Bot(V.Controller).Squad.GetOrders(),1)$" P");
</span><a name="1950"></a>				<span class="source_comment">// Vehicle
</span><a name="1951"></a>				else if ( <span class="source_type"><a href="../roengine/vehicleweaponpawn.html" class="source">VehicleWeaponPawn</a></span>(<span class="source_type">V</span>) == none && <span class="source_type">V</span>.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None )
<a name="1952"></a>					DrawDebugIconOnMap(<span class="source_type">C</span>, subCoords, widget, myMapScale, <span class="source_type">V</span>.Location, MapCenter, Left(<span class="source_type"><a href="../unrealgame/bot.html" class="source">Bot</a></span>(<span class="source_type">V</span>.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>).Squad.GetOrders(),<span class="source_int">1</span>)$<span class="source_string">" "</span>$<span class="source_type">V</span>.NumPassengers());
<a name="1953"></a>		}
<a name="1954"></a>		<span class="source_comment">// PSYONIX: DEBUG - Show all players on map and indicate orders
</span><a name="1955"></a>		for (<span class="source_type">P</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">P</span> != None; <span class="source_type">P</span> = <span class="source_type">P</span>.NextController)
<a name="1956"></a>		{
<a name="1957"></a>			if (<span class="source_type"><a href="../unrealgame/bot.html" class="source">Bot</a></span>(<span class="source_type">P</span>) != None && <span class="source_type">P</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> != None && <span class="source_type"><a href="../roengine/rovehicle.html" class="source">ROVehicle</a></span>(<span class="source_type">P</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>) == None)
<a name="1958"></a>			{
<a name="1959"></a>				widget = MapIconTeam[<span class="source_type">P</span>.GetTeamNum()];
<a name="1960"></a>				widget.TextureScale = <span class="source_int">0.025f</span>;
<a name="1961"></a>
<a name="1962"></a>				DrawDebugIconOnMap(<span class="source_type">C</span>, subCoords, widget, myMapScale, <span class="source_type">P</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.Location, MapCenter, Left(<span class="source_type"><a href="../unrealgame/bot.html" class="source">Bot</a></span>(<span class="source_type">P</span>).Squad.GetOrders(),<span class="source_int">1</span>));
<a name="1963"></a>			}
<a name="1964"></a>		}
<a name="1965"></a>	}
<a name="1966"></a>
<a name="1967"></a>	if ((<span class="source_type">Level</span>.NetMode == NM_Standalone || GRI.bAllowNetDebug) && bShowRelevancyDebugOnMap)
<a name="1968"></a>	{
<a name="1969"></a>        if( NetDebugMode == ND_All )
<a name="1970"></a>        {
<a name="1971"></a>    		foreach DynamicActors(<span class="source_type">Class</span><span class="source_name">'Actor'</span>,NetActor)
<a name="1972"></a>    		{
<a name="1973"></a>
<a name="1974"></a>                if(!NetActor.bStatic && !NetActor.bNoDelete)
<a name="1975"></a>                {
<a name="1976"></a>            		widget = MapIconNeutral;
<a name="1977"></a>    				widget.TextureScale = <span class="source_int">0.04f</span>;
<a name="1978"></a>    				widget.RenderStyle = STY_Normal;
<a name="1979"></a>    				DrawDebugIconOnMap(<span class="source_type">C</span>, subCoords, widget, myMapScale, NetActor.Location, MapCenter, <span class="source_string">""</span>);
<a name="1980"></a>				}
<a name="1981"></a>    		}
<a name="1982"></a>        }
<a name="1983"></a>        else if( NetDebugMode == ND_VehiclesOnly )
<a name="1984"></a>        {
<a name="1985"></a>    		<span class="source_comment">// PSYONIX: DEBUG - Show all vehicles on map who have no driver
</span><a name="1986"></a>    		foreach DynamicActors(<span class="source_type">Class</span><span class="source_name">'Vehicle'</span>,<span class="source_type">V</span>)
<a name="1987"></a>    		{
<a name="1988"></a>				widget = MapIconRally[<span class="source_type">V</span>.GetTeamNum()];
<a name="1989"></a>				widget.TextureScale = <span class="source_int">0.04f</span>;
<a name="1990"></a>				widget.RenderStyle = STY_Normal;
<a name="1991"></a>				if (<span class="source_type"><a href="../roengine/rowheeledvehicle.html" class="source">ROWheeledVehicle</a></span>(<span class="source_type">V</span>) != none)
<a name="1992"></a>					DrawDebugIconOnMap(<span class="source_type">C</span>, subCoords, widget, myMapScale, <span class="source_type">V</span>.Location, MapCenter, <span class="source_string">""</span>);
<a name="1993"></a>    		}
<a name="1994"></a>        }
<a name="1995"></a>        else if( NetDebugMode == ND_PlayersOnly )
<a name="1996"></a>        {
<a name="1997"></a>    		foreach DynamicActors(<span class="source_type">Class</span><span class="source_name">'ROPawn'</span>,ROP)
<a name="1998"></a>    		{
<a name="1999"></a>				widget = MapIconTeam[ROP.GetTeamNum()];
<a name="2000"></a>				widget.TextureScale = <span class="source_int">0.04f</span>;
<a name="2001"></a>				widget.RenderStyle = STY_Normal;
<a name="2002"></a>				DrawDebugIconOnMap(<span class="source_type">C</span>, subCoords, widget, myMapScale, ROP.Location, MapCenter, <span class="source_string">""</span>);
<a name="2003"></a>    		}
<a name="2004"></a>        }
<a name="2005"></a>        else if( NetDebugMode == ND_PawnsOnly )
<a name="2006"></a>        {
<a name="2007"></a>    		foreach DynamicActors(<span class="source_type">Class</span><span class="source_name">'Pawn'</span>,NetPawn)
<a name="2008"></a>    		{
<a name="2009"></a>				if( <span class="source_type"><a href="../engine/vehicle.html" class="source">Vehicle</a></span>(NetPawn) != none)
<a name="2010"></a>				{
<a name="2011"></a>    				widget = MapIconRally[<span class="source_type">V</span>.GetTeamNum()];
<a name="2012"></a>				}
<a name="2013"></a>				else if( <span class="source_type"><a href="../roengine/ropawn.html" class="source">ROPawn</a></span>(NetPawn) != none )
<a name="2014"></a>				{
<a name="2015"></a>				    widget = MapIconTeam[NetPawn.GetTeamNum()];
<a name="2016"></a>				}
<a name="2017"></a>				else
<a name="2018"></a>				{
<a name="2019"></a>				    widget = MapIconNeutral;
<a name="2020"></a>				}
<a name="2021"></a>
<a name="2022"></a>				widget.TextureScale = <span class="source_int">0.04f</span>;
<a name="2023"></a>				widget.RenderStyle = STY_Normal;
<a name="2024"></a>				DrawDebugIconOnMap(<span class="source_type">C</span>, subCoords, widget, myMapScale, NetPawn.Location, MapCenter, <span class="source_string">""</span>);
<a name="2025"></a>    		}
<a name="2026"></a>        }
<a name="2027"></a>        if( NetDebugMode == ND_AllWithText )
<a name="2028"></a>        {
<a name="2029"></a>    		foreach DynamicActors(<span class="source_type">Class</span><span class="source_name">'Actor'</span>,NetActor)
<a name="2030"></a>    		{
<a name="2031"></a>
<a name="2032"></a>                if(!NetActor.bStatic && !NetActor.bNoDelete)
<a name="2033"></a>                {
<a name="2034"></a>            		widget = MapIconNeutral;
<a name="2035"></a>    				widget.TextureScale = <span class="source_int">0.04f</span>;
<a name="2036"></a>    				widget.RenderStyle = STY_Normal;
<a name="2037"></a>
<a name="2038"></a>        			<span class="source_type">S</span> = <span class="source_string">""</span>$NetActor;
<a name="2039"></a>
<a name="2040"></a>                    <span class="source_comment">// Remove the package name, if it exists
</span><a name="2041"></a>                	<span class="source_type">Pos</span> = InStr(<span class="source_type">S</span>, <span class="source_string">"."</span>);
<a name="2042"></a>                	if ( <span class="source_type">Pos</span> != -<span class="source_int">1</span> )
<a name="2043"></a>                		<span class="source_type">S</span> = Mid(<span class="source_type">S</span>, <span class="source_type">Pos</span> + <span class="source_int">1</span>);
<a name="2044"></a>
<a name="2045"></a>    				DrawDebugIconOnMap(<span class="source_type">C</span>, subCoords, widget, myMapScale, NetActor.Location, MapCenter, <span class="source_type">S</span>);
<a name="2046"></a>				}
<a name="2047"></a>    		}
<a name="2048"></a>        }
<a name="2049"></a>	}
<a name="2050"></a>
<a name="2051"></a>	if (<span class="source_type"><a href="../engine/player.html" class="source">player</a></span> != none)
<a name="2052"></a>	{
<a name="2053"></a>		<span class="source_comment">// Draw the marked arty strike
</span><a name="2054"></a>		temp = <span class="source_type"><a href="../engine/player.html" class="source">player</a></span>.SavedArtilleryCoords;
<a name="2055"></a>		if (temp != vect(<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_int">0</span>))
<a name="2056"></a>		{
<a name="2057"></a>		    bShowArtyCoords = true;
<a name="2058"></a>		    widget = MapIconArtyStrike;
<a name="2059"></a>		    widget.Tints[<span class="source_int">0</span>].<span class="source_type">A</span> = <span class="source_int">125</span>; widget.Tints[<span class="source_int">1</span>].<span class="source_type">A</span> = <span class="source_int">125</span>;
<a name="2060"></a>			DrawIconOnMap(<span class="source_type">C</span>, subCoords, widget, myMapScale, temp, MapCenter);
<a name="2061"></a>		}
<a name="2062"></a>
<a name="2063"></a>		<span class="source_comment">// Draw the destroyable/destroyed targets
</span><a name="2064"></a>	    if (<span class="source_type"><a href="../engine/player.html" class="source">player</a></span>.Destroyables.length != <span class="source_int">0</span>)
<a name="2065"></a>	    {
<a name="2066"></a>			for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; <span class="source_type"><a href="../engine/player.html" class="source">player</a></span>.Destroyables.length; <span class="source_type">i</span>++)
<a name="2067"></a>			{
<a name="2068"></a>				<span class="source_comment">//if (player.Destroyables[i].GetStateName() == 'Broken')
</span><a name="2069"></a>				if (<span class="source_type"><a href="../engine/player.html" class="source">player</a></span>.Destroyables[<span class="source_type">i</span>].bHidden || <span class="source_type"><a href="../engine/player.html" class="source">player</a></span>.Destroyables[<span class="source_type">i</span>].bDamaged)
<a name="2070"></a>				{
<a name="2071"></a>					DrawIconOnMap(<span class="source_type">C</span>, subCoords, MapIconDestroyedItem, myMapScale,
<a name="2072"></a>						<span class="source_type"><a href="../engine/player.html" class="source">player</a></span>.Destroyables[<span class="source_type">i</span>].Location, MapCenter);
<a name="2073"></a>					bShowDestroyedItems = true;
<a name="2074"></a>				}
<a name="2075"></a>				else
<a name="2076"></a>				{
<a name="2077"></a>					DrawIconOnMap(<span class="source_type">C</span>, subCoords, MapIconDestroyableItem, myMapScale,
<a name="2078"></a>						<span class="source_type"><a href="../engine/player.html" class="source">player</a></span>.Destroyables[<span class="source_type">i</span>].Location, MapCenter);
<a name="2079"></a>					bShowDestroyableItems = true;
<a name="2080"></a>				}
<a name="2081"></a>			}
<a name="2082"></a>	    }
<a name="2083"></a>	}
<a name="2084"></a>
<a name="2085"></a>	if ( OwnerTeam != <span class="source_int">255</span> )
<a name="2086"></a>	{
<a name="2087"></a>	    <span class="source_comment">// Draw the in-progress arty strikes
</span><a name="2088"></a>	    if (OwnerTeam == AXIS_TEAM_INDEX || OwnerTeam == ALLIES_TEAM_INDEX)
<a name="2089"></a>	       if (GRI.ArtyStrikeLocation[OwnerTeam] != vect(<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_int">0</span>))
<a name="2090"></a>	       {
<a name="2091"></a>	           DrawIconOnMap(<span class="source_type">C</span>, subCoords, MapIconArtyStrike, myMapScale, GRI.ArtyStrikeLocation[OwnerTeam], MapCenter);
<a name="2092"></a>	           bShowArtyStrike = true;
<a name="2093"></a>	       }
<a name="2094"></a>
<a name="2095"></a>		<span class="source_comment">// Draw the rally points
</span><a name="2096"></a>	 	for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(GRI.AxisRallyPoints); <span class="source_type">i</span>++)
<a name="2097"></a>		{
<a name="2098"></a>			if ( OwnerTeam == AXIS_TEAM_INDEX )
<a name="2099"></a>				temp = GRI.AxisRallyPoints[<span class="source_type">i</span>].RallyPointLocation;
<a name="2100"></a>			else if ( OwnerTeam == ALLIES_TEAM_INDEX )
<a name="2101"></a>				temp = GRI.AlliedRallyPoints[<span class="source_type">i</span>].RallyPointLocation;
<a name="2102"></a>
<a name="2103"></a>			<span class="source_comment">// Draw the marked rally point
</span><a name="2104"></a>			if (temp != vect(<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_int">0</span>))
<a name="2105"></a>			{
<a name="2106"></a>			    bShowRally = true;
<a name="2107"></a>			    DrawIconOnMap(<span class="source_type">C</span>, subCoords, MapIconRally[OwnerTeam], myMapScale, temp, MapCenter);
<a name="2108"></a>		    }
<a name="2109"></a>		}
<a name="2110"></a>
<a name="2111"></a>		<span class="source_comment">// Draw Artillery Radio Icons
</span><a name="2112"></a>		if ( OwnerTeam == AXIS_TEAM_INDEX )
<a name="2113"></a>		{
<a name="2114"></a>		    for ( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(GRI.AxisRadios); <span class="source_type">i</span>++)
<a name="2115"></a>			{
<a name="2116"></a>				if(GRI.AxisRadios[<span class="source_type">i</span>] == none)
<a name="2117"></a>					continue;
<a name="2118"></a>
<a name="2119"></a>			    bShowArtillery = true;
<a name="2120"></a>		        DrawIconOnMap(<span class="source_type">C</span>, subCoords, MapIconRadio, myMapScale, GRI.AxisRadios[<span class="source_type">i</span>].Location, MapCenter);
<a name="2121"></a>			}
<a name="2122"></a>		}
<a name="2123"></a>		else if ( OwnerTeam == ALLIES_TEAM_INDEX )
<a name="2124"></a>		{
<a name="2125"></a>			for ( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(GRI.AlliedRadios); <span class="source_type">i</span>++)
<a name="2126"></a>			{
<a name="2127"></a>				if(GRI.AlliedRadios[<span class="source_type">i</span>] == none)
<a name="2128"></a>					continue;
<a name="2129"></a>
<a name="2130"></a>			    bShowArtillery = true;
<a name="2131"></a>		        DrawIconOnMap(<span class="source_type">C</span>, subCoords, MapIconRadio, myMapScale, GRI.AlliedRadios[<span class="source_type">i</span>].Location, MapCenter);
<a name="2132"></a>			}
<a name="2133"></a>		}
<a name="2134"></a>
<a name="2135"></a>		<span class="source_comment">// Draw help requests
</span><a name="2136"></a>		if ( OwnerTeam == AXIS_TEAM_INDEX )
<a name="2137"></a>		{
<a name="2138"></a>		    for ( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(GRI.AxisHelpRequests); <span class="source_type">i</span>++)
<a name="2139"></a>			{
<a name="2140"></a>				if (GRI.AxisHelpRequests[<span class="source_type">i</span>].requestType == <span class="source_int">255</span>)
<a name="2141"></a>					continue;
<a name="2142"></a>
<a name="2143"></a>				<span class="source_type">switch</span> (GRI.AxisHelpRequests[<span class="source_type">i</span>].requestType)
<a name="2144"></a>				{
<a name="2145"></a>					case <span class="source_int">0</span>: <span class="source_comment">// help request at objective
</span><a name="2146"></a>						bShowHelpRequest = true;
<a name="2147"></a>						widget = MapIconHelpRequest;
<a name="2148"></a>						widget.Tints[<span class="source_int">0</span>].<span class="source_type">A</span> = <span class="source_int">125</span>; widget.Tints[<span class="source_int">1</span>].<span class="source_type">A</span> = <span class="source_int">125</span>;
<a name="2149"></a>						DrawIconOnMap(<span class="source_type">C</span>, subCoords, widget, myMapScale,
<a name="2150"></a>							GRI.Objectives[GRI.AxisHelpRequests[<span class="source_type">i</span>].objectiveID].Location, MapCenter);
<a name="2151"></a>						break;
<a name="2152"></a>
<a name="2153"></a>					case <span class="source_int">1</span>: <span class="source_comment">// attack request
</span><a name="2154"></a>					case <span class="source_int">2</span>: <span class="source_comment">// defend request
</span><a name="2155"></a>						bShowAttackDefendRequest = true;
<a name="2156"></a>						DrawIconOnMap(<span class="source_type">C</span>, subCoords, MapIconAttackDefendRequest, myMapScale,
<a name="2157"></a>							GRI.Objectives[GRI.AxisHelpRequests[<span class="source_type">i</span>].objectiveID].Location, MapCenter);
<a name="2158"></a>						break;
<a name="2159"></a>
<a name="2160"></a>					case <span class="source_int">3</span>: <span class="source_comment">// mg resupply requests
</span><a name="2161"></a>						bShowMGResupplyRequest = true;
<a name="2162"></a>						DrawIconOnMap(<span class="source_type">C</span>, subCoords, MapIconMGResupplyRequest[AXIS_TEAM_INDEX], myMapScale, GRI.AxisHelpRequestsLocs[<span class="source_type">i</span>], MapCenter);
<a name="2163"></a>						break;
<a name="2164"></a>
<a name="2165"></a>					case <span class="source_int">4</span>: <span class="source_comment">// help request at coords
</span><a name="2166"></a>						bShowHelpRequest = true;
<a name="2167"></a>						DrawIconOnMap(<span class="source_type">C</span>, subCoords, MapIconHelpRequest, myMapScale, GRI.AxisHelpRequestsLocs[<span class="source_type">i</span>], MapCenter);
<a name="2168"></a>						break;
<a name="2169"></a>
<a name="2170"></a>					default:
<a name="2171"></a>						log(<span class="source_string">"Unknown requestType found in AxisHelpRequests[i]: "</span> $ GRI.AxisHelpRequests[<span class="source_type">i</span>].requestType);
<a name="2172"></a>				}
<a name="2173"></a>			}
<a name="2174"></a>		}
<a name="2175"></a>		else if ( OwnerTeam == ALLIES_TEAM_INDEX )
<a name="2176"></a>		{
<a name="2177"></a>		    for ( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(GRI.AlliedHelpRequests); <span class="source_type">i</span>++)
<a name="2178"></a>			{
<a name="2179"></a>				if(GRI.AlliedHelpRequests[<span class="source_type">i</span>].requestType == <span class="source_int">255</span>)
<a name="2180"></a>					continue;
<a name="2181"></a>
<a name="2182"></a>				<span class="source_type">switch</span> (GRI.AlliedHelpRequests[<span class="source_type">i</span>].requestType)
<a name="2183"></a>				{
<a name="2184"></a>					case <span class="source_int">0</span>: <span class="source_comment">// help request at objective
</span><a name="2185"></a>						bShowHelpRequest = true;
<a name="2186"></a>						widget = MapIconHelpRequest;
<a name="2187"></a>						widget.Tints[<span class="source_int">0</span>].<span class="source_type">A</span> = <span class="source_int">125</span>; widget.Tints[<span class="source_int">1</span>].<span class="source_type">A</span> = <span class="source_int">125</span>;
<a name="2188"></a>						DrawIconOnMap(<span class="source_type">C</span>, subCoords, widget, myMapScale,
<a name="2189"></a>							GRI.Objectives[GRI.AlliedHelpRequests[<span class="source_type">i</span>].objectiveID].Location, MapCenter);
<a name="2190"></a>						break;
<a name="2191"></a>
<a name="2192"></a>					case <span class="source_int">1</span>: <span class="source_comment">// attack request
</span><a name="2193"></a>					case <span class="source_int">2</span>: <span class="source_comment">// defend request
</span><a name="2194"></a>						bShowAttackDefendRequest = true;
<a name="2195"></a>						DrawIconOnMap(<span class="source_type">C</span>, subCoords, MapIconAttackDefendRequest, myMapScale,
<a name="2196"></a>							GRI.Objectives[GRI.AlliedHelpRequests[<span class="source_type">i</span>].objectiveID].Location, MapCenter);
<a name="2197"></a>						break;
<a name="2198"></a>
<a name="2199"></a>					case <span class="source_int">3</span>: <span class="source_comment">// mg resupply requests
</span><a name="2200"></a>						bShowMGResupplyRequest = true;
<a name="2201"></a>						DrawIconOnMap(<span class="source_type">C</span>, subCoords, MapIconMGResupplyRequest[ALLIES_TEAM_INDEX], myMapScale, GRI.AlliedHelpRequestsLocs[<span class="source_type">i</span>], MapCenter);
<a name="2202"></a>						break;
<a name="2203"></a>
<a name="2204"></a>					case <span class="source_int">4</span>: <span class="source_comment">// help request at coords
</span><a name="2205"></a>						bShowHelpRequest = true;
<a name="2206"></a>						DrawIconOnMap(<span class="source_type">C</span>, subCoords, MapIconHelpRequest, myMapScale, GRI.AlliedHelpRequestsLocs[<span class="source_type">i</span>], MapCenter);
<a name="2207"></a>						break;
<a name="2208"></a>
<a name="2209"></a>					default:
<a name="2210"></a>						log(<span class="source_string">"Unknown requestType found in AlliedHelpRequests[i]: "</span> $ GRI.AlliedHelpRequests[<span class="source_type">i</span>].requestType);
<a name="2211"></a>				}
<a name="2212"></a>			}
<a name="2213"></a>		}
<a name="2214"></a>	}
<a name="2215"></a>
<a name="2216"></a>	<span class="source_comment">// Draw objectives
</span><a name="2217"></a>  	for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(GRI.Objectives); <span class="source_type">i</span>++)
<a name="2218"></a>	{
<a name="2219"></a>		if (GRI.Objectives[<span class="source_type">i</span>] == None)
<a name="2220"></a>			continue;
<a name="2221"></a>
<a name="2222"></a>		<span class="source_comment">// Setup icon info
</span><a name="2223"></a>		if (GRI.Objectives[<span class="source_type">i</span>].ObjState == OBJ_Axis)
<a name="2224"></a>			widget = MapIconTeam[AXIS_TEAM_INDEX];
<a name="2225"></a>		else if (GRI.Objectives[<span class="source_type">i</span>].ObjState == OBJ_Allies)
<a name="2226"></a>			widget = MapIconTeam[ALLIES_TEAM_INDEX];
<a name="2227"></a>		else
<a name="2228"></a>		{
<a name="2229"></a>		    bShowNeutralObj = true;
<a name="2230"></a>			widget = MapIconNeutral;
<a name="2231"></a>		}
<a name="2232"></a>		if (!GRI.Objectives[<span class="source_type">i</span>].bActive)
<a name="2233"></a>		{
<a name="2234"></a>			widget.Tints[<span class="source_int">0</span>] = GrayColor; widget.Tints[<span class="source_int">1</span>] = GrayColor;
<a name="2235"></a>			widget.Tints[<span class="source_int">0</span>].<span class="source_type">A</span> = <span class="source_int">125</span>; widget.Tints[<span class="source_int">1</span>].<span class="source_type">A</span> = <span class="source_int">125</span>;
<a name="2236"></a>		}
<a name="2237"></a>		else
<a name="2238"></a>		{
<a name="2239"></a>			widget.Tints[<span class="source_int">0</span>] = WhiteColor; widget.Tints[<span class="source_int">1</span>] = WhiteColor;
<a name="2240"></a>		}
<a name="2241"></a>
<a name="2242"></a>		<span class="source_comment">// Draw flashing icon if objective is disputed
</span><a name="2243"></a>		if (GRI.Objectives[<span class="source_type">i</span>].CompressedCapProgress != <span class="source_int">0</span> && GRI.Objectives[<span class="source_type">i</span>].CurrentCapTeam != NEUTRAL_TEAM_INDEX)
<a name="2244"></a>		{
<a name="2245"></a>			if (GRI.Objectives[<span class="source_type">i</span>].CompressedCapProgress == <span class="source_int">1</span> || GRI.Objectives[<span class="source_type">i</span>].CompressedCapProgress == <span class="source_int">2</span>)
<a name="2246"></a>                DrawIconOnMap(<span class="source_type">C</span>, subCoords, widget, myMapScale, GRI.Objectives[<span class="source_type">i</span>].Location, MapCenter, <span class="source_int">2</span>, GRI.Objectives[<span class="source_type">i</span>].ObjName, GRI, <span class="source_type">i</span>);
<a name="2247"></a>			else if (GRI.Objectives[<span class="source_type">i</span>].CompressedCapProgress == <span class="source_int">3</span> || GRI.Objectives[<span class="source_type">i</span>].CompressedCapProgress == <span class="source_int">4</span>)
<a name="2248"></a>                DrawIconOnMap(<span class="source_type">C</span>, subCoords, widget, myMapScale, GRI.Objectives[<span class="source_type">i</span>].Location, MapCenter, <span class="source_int">3</span>, GRI.Objectives[<span class="source_type">i</span>].ObjName, GRI, <span class="source_type">i</span>);
<a name="2249"></a>			else
<a name="2250"></a>                DrawIconOnMap(<span class="source_type">C</span>, subCoords, widget, myMapScale, GRI.Objectives[<span class="source_type">i</span>].Location, MapCenter, <span class="source_int">1</span>, GRI.Objectives[<span class="source_type">i</span>].ObjName, GRI, <span class="source_type">i</span>);
<a name="2251"></a>		}
<a name="2252"></a>		else
<a name="2253"></a>            DrawIconOnMap(<span class="source_type">C</span>, subCoords, widget, myMapScale, GRI.Objectives[<span class="source_type">i</span>].Location, MapCenter, <span class="source_int">1</span>, GRI.Objectives[<span class="source_type">i</span>].ObjName, GRI, <span class="source_type">i</span>);
<a name="2254"></a>
<a name="2255"></a>
<a name="2256"></a>		<span class="source_comment">// If the objective isn't completely captured, overlay a flashing icon from other team
</span><a name="2257"></a>		if (GRI.Objectives[<span class="source_type">i</span>].CompressedCapProgress != <span class="source_int">0</span> && GRI.Objectives[<span class="source_type">i</span>].CurrentCapTeam != NEUTRAL_TEAM_INDEX)
<a name="2258"></a>		{
<a name="2259"></a>			if (GRI.Objectives[<span class="source_type">i</span>].CurrentCapTeam == ALLIES_TEAM_INDEX)
<a name="2260"></a>				widget = MapIconDispute[ALLIES_TEAM_INDEX];
<a name="2261"></a>			else
<a name="2262"></a>				widget = MapIconDispute[AXIS_TEAM_INDEX];
<a name="2263"></a>			if (GRI.Objectives[<span class="source_type">i</span>].CompressedCapProgress == <span class="source_int">1</span> || GRI.Objectives[<span class="source_type">i</span>].CompressedCapProgress == <span class="source_int">2</span>)
<a name="2264"></a>				DrawIconOnMap(<span class="source_type">C</span>, subCoords, widget, myMapScale, GRI.Objectives[<span class="source_type">i</span>].Location, MapCenter, <span class="source_int">4</span>);
<a name="2265"></a>			else if (GRI.Objectives[<span class="source_type">i</span>].CompressedCapProgress == <span class="source_int">3</span> || GRI.Objectives[<span class="source_type">i</span>].CompressedCapProgress == <span class="source_int">4</span>)
<a name="2266"></a>				DrawIconOnMap(<span class="source_type">C</span>, subCoords, widget, myMapScale, GRI.Objectives[<span class="source_type">i</span>].Location, MapCenter, <span class="source_int">5</span>);
<a name="2267"></a>		}
<a name="2268"></a>	}
<a name="2269"></a>
<a name="2270"></a>	<span class="source_comment">// Get player actor
</span><a name="2271"></a>	if (PawnOwner != None)
<a name="2272"></a>		<span class="source_type">A</span> = PawnOwner;
<a name="2273"></a>	else if (PlayerOwner.IsInState(<span class="source_name">'Spectating'</span>))
<a name="2274"></a>		<span class="source_type">A</span> = PlayerOwner;
<a name="2275"></a>	else if (PlayerOwner.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> != None)
<a name="2276"></a>		<span class="source_type">A</span> = PlayerOwner.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>;
<a name="2277"></a>
<a name="2278"></a>	<span class="source_comment">// Fix for frelled rotation on weapon pawns
</span><a name="2279"></a>	myVehicleWeaponPawn = <span class="source_type"><a href="../roengine/rovehicleweaponpawn.html" class="source">ROVehicleWeaponPawn</a></span>(<span class="source_type">A</span>);
<a name="2280"></a>	if (myVehicleWeaponPawn != none)
<a name="2281"></a>	{
<a name="2282"></a>	   <span class="source_type"><a href="../engine/player.html" class="source">player</a></span> = <span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(myVehicleWeaponPawn.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>);
<a name="2283"></a>	   if (<span class="source_type"><a href="../engine/player.html" class="source">player</a></span> != none && myVehicleWeaponPawn.VehicleBase != none)
<a name="2284"></a>	       pawnRotation = -<span class="source_type"><a href="../engine/player.html" class="source">player</a></span>.CalcViewRotation.Yaw;
<a name="2285"></a>	   else if (myVehicleWeaponPawn.VehicleBase != none)
<a name="2286"></a>	       pawnRotation = -myVehicleWeaponPawn.VehicleBase.<span class="source_type">Rotation</span>.Yaw;
<a name="2287"></a>	   else
<a name="2288"></a>	       pawnRotation = -<span class="source_type">A</span>.<span class="source_type">Rotation</span>.Yaw;
<a name="2289"></a>	}
<a name="2290"></a>	else if (<span class="source_type">A</span> != none)
<a name="2291"></a>	   pawnRotation = -<span class="source_type">A</span>.<span class="source_type">Rotation</span>.Yaw;
<a name="2292"></a>
<a name="2293"></a>	<span class="source_comment">// Draw player icon
</span><a name="2294"></a>	if (<span class="source_type">A</span> != none)
<a name="2295"></a>	{
<a name="2296"></a>		<span class="source_comment">// Set proper icon rotation
</span><a name="2297"></a>		if ( GRI.OverheadOffset == <span class="source_int">90</span> )
<a name="2298"></a>		 	<span class="source_type"><a href="../engine/texrotator.html" class="source">TexRotator</a></span>(<span class="source_type"><a href="../engine/finalblend.html" class="source">FinalBlend</a></span>(MapPlayerIcon.WidgetTexture).<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>).<span class="source_type">Rotation</span>.Yaw = pawnRotation - <span class="source_int">32768</span>;
<a name="2299"></a>		else if( GRI.OverheadOffset == <span class="source_int">180</span> )
<a name="2300"></a>		 	<span class="source_type"><a href="../engine/texrotator.html" class="source">TexRotator</a></span>(<span class="source_type"><a href="../engine/finalblend.html" class="source">FinalBlend</a></span>(MapPlayerIcon.WidgetTexture).<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>).<span class="source_type">Rotation</span>.Yaw = pawnRotation - <span class="source_int">49152</span>;
<a name="2301"></a>		else if( GRI.OverheadOffset == <span class="source_int">270</span> )
<a name="2302"></a>		 	<span class="source_type"><a href="../engine/texrotator.html" class="source">TexRotator</a></span>(<span class="source_type"><a href="../engine/finalblend.html" class="source">FinalBlend</a></span>(MapPlayerIcon.WidgetTexture).<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>).<span class="source_type">Rotation</span>.Yaw = pawnRotation;
<a name="2303"></a>		else
<a name="2304"></a>		 	<span class="source_type"><a href="../engine/texrotator.html" class="source">TexRotator</a></span>(<span class="source_type"><a href="../engine/finalblend.html" class="source">FinalBlend</a></span>(MapPlayerIcon.WidgetTexture).<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>).<span class="source_type">Rotation</span>.Yaw = pawnRotation - <span class="source_int">16384</span>;
<a name="2305"></a>
<a name="2306"></a>		<span class="source_comment">// Draw the player icon
</span><a name="2307"></a>		DrawIconOnMap(<span class="source_type">C</span>, subCoords, MapPlayerIcon, myMapScale, <span class="source_type">A</span>.Location, MapCenter);
<a name="2308"></a>	}
<a name="2309"></a>
<a name="2310"></a>	<span class="source_comment">// Overhead map debugging
</span><a name="2311"></a>	if (<span class="source_type">Level</span>.NetMode == NM_Standalone && <span class="source_type"><a href="../roengine/roteamgame.html" class="source">ROTeamGame</a></span>(<span class="source_type">Level</span>.Game).<span class="source_type"><a href="../engine/levelinfo.html" class="source">LevelInfo</a></span>.bDebugOverhead)
<a name="2312"></a>	{
<a name="2313"></a>		DrawIconOnMap(<span class="source_type">C</span>, subCoords, MapIconTeam[ALLIES_TEAM_INDEX], myMapScale, GRI.NorthEastBounds, MapCenter);
<a name="2314"></a>		DrawIconOnMap(<span class="source_type">C</span>, subCoords, MapIconTeam[AXIS_TEAM_INDEX], myMapScale, GRI.SouthWestBounds, MapCenter);
<a name="2315"></a>	}
<a name="2316"></a>
<a name="2317"></a>	<span class="source_comment">// Draw timer
</span><a name="2318"></a>	DrawTextWidgetClipped(<span class="source_type">C</span>, MapTimerTitle, MapCoords, XL, <span class="source_type">YL</span>, YL_one);
<a name="2319"></a>
<a name="2320"></a>	<span class="source_comment">// Calculate seconds & minutes
</span><a name="2321"></a>	<span class="source_type"><a href="../core/time.html" class="source">time</a></span> = CurrentTime;
<a name="2322"></a>	MapTimerTexts[<span class="source_int">3</span>].<span class="source_type">text</span> = <span class="source_type">string</span>(<span class="source_type">int</span>(<span class="source_type"><a href="../core/time.html" class="source">time</a></span> % <span class="source_int">10</span>));
<a name="2323"></a>	<span class="source_type"><a href="../core/time.html" class="source">time</a></span> /= <span class="source_int">10</span>;
<a name="2324"></a>	MapTimerTexts[<span class="source_int">2</span>].<span class="source_type">text</span> = <span class="source_type">string</span>(<span class="source_type">int</span>(<span class="source_type"><a href="../core/time.html" class="source">time</a></span> % <span class="source_int">6</span>));
<a name="2325"></a>	<span class="source_type"><a href="../core/time.html" class="source">time</a></span> /= <span class="source_int">6</span>;
<a name="2326"></a>	MapTimerTexts[<span class="source_int">1</span>].<span class="source_type">text</span> = <span class="source_type">string</span>(<span class="source_type">int</span>(<span class="source_type"><a href="../core/time.html" class="source">time</a></span> % <span class="source_int">10</span>));
<a name="2327"></a>	<span class="source_type"><a href="../core/time.html" class="source">time</a></span> /= <span class="source_int">10</span>;
<a name="2328"></a>	MapTimerTexts[<span class="source_int">0</span>].<span class="source_type">text</span> = <span class="source_type">string</span>(<span class="source_type">int</span>(<span class="source_type"><a href="../core/time.html" class="source">time</a></span>));
<a name="2329"></a>
<a name="2330"></a>	<span class="source_comment">// Draw timer values
</span><a name="2331"></a>	<span class="source_type">C</span>.<span class="source_type">Font</span> = GetFontSizeIndex(<span class="source_type">C</span>, -<span class="source_int">2</span>);
<a name="2332"></a>	for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; <span class="source_int">4</span>; <span class="source_type">i</span>++)
<a name="2333"></a>	   DrawTextWidgetClipped(<span class="source_type">C</span>, MapTimerTexts[<span class="source_type">i</span>], MapCoords, XL, <span class="source_type">YL</span>, YL_one);
<a name="2334"></a>	<span class="source_type">C</span>.<span class="source_type">Font</span> = GetSmallMenuFont(<span class="source_type">C</span>);
<a name="2335"></a>
<a name="2336"></a>	<span class="source_comment">// Calc legend coords
</span><a name="2337"></a>	GetAbsoluteCoordinatesAlt(MapCoords, MapLegendCoords, subCoords);
<a name="2338"></a>
<a name="2339"></a>	<span class="source_comment">// Draw legend background
</span><a name="2340"></a>	<span class="source_comment">//DrawSpriteWidgetClipped(C, MapLegend, subCoords, true);
</span><a name="2341"></a>
<a name="2342"></a>	<span class="source_comment">// Draw legend title
</span><a name="2343"></a>	DrawTextWidgetClipped(<span class="source_type">C</span>, MapLegendTitle, subCoords, XL, <span class="source_type">YL</span>, YL_one);
<a name="2344"></a>
<a name="2345"></a>	<span class="source_comment">// Set initial icon + text values
</span><a name="2346"></a>	<span class="source_comment">//MapLegendIcons.OffsetY = 0;
</span><a name="2347"></a>	<span class="source_comment">//MapLegendTexts.OffsetY = 0;
</span><a name="2348"></a>
<a name="2349"></a>	<span class="source_comment">// Draw legend elements
</span><a name="2350"></a>	LegendItemsIndex = <span class="source_int">2</span>; <span class="source_comment">// no item at position #0 and #1 (reserved for title)
</span><a name="2351"></a>	DrawLegendElement(<span class="source_type">C</span>, subCoords, MapIconTeam[AXIS_TEAM_INDEX], LegendAxisObjectiveText);
<a name="2352"></a>	DrawLegendElement(<span class="source_type">C</span>, subCoords, MapIconTeam[ALLIES_TEAM_INDEX], LegendAlliesObjectiveText);
<a name="2353"></a>	if (bShowNeutralObj || bShowAllItemsInMapLegend)
<a name="2354"></a>		DrawLegendElement(<span class="source_type">C</span>, subCoords, MapIconNeutral, LegendNeutralObjectiveText);
<a name="2355"></a>	if (bShowArtillery || bShowAllItemsInMapLegend)
<a name="2356"></a>		DrawLegendElement(<span class="source_type">C</span>, subCoords, MapIconRadio, LegendArtilleryRadioText);
<a name="2357"></a>	if (bShowResupply || bShowAllItemsInMapLegend)
<a name="2358"></a>		DrawLegendElement(<span class="source_type">C</span>, subCoords, MapIconResupply, LegendResupplyAreaText);
<a name="2359"></a>    if (bShowVehicleResupply)
<a name="2360"></a>        DrawLegendElement(<span class="source_type">C</span>, subCoords, MapIconVehicleResupply, LegendResupplyAreaText);
<a name="2361"></a>	if (bShowRally || bShowAllItemsInMapLegend)
<a name="2362"></a>		if (OwnerTeam != <span class="source_int">255</span>)
<a name="2363"></a>			DrawLegendElement(<span class="source_type">C</span>, subCoords, MapIconRally[OwnerTeam], LegendRallyPointText);
<a name="2364"></a>	if (bShowArtyCoords || bShowAllItemsInMapLegend)
<a name="2365"></a>	{
<a name="2366"></a>		widget = MapIconArtyStrike;
<a name="2367"></a>		widget.Tints[TeamIndex].<span class="source_type">A</span> = <span class="source_int">64</span>;
<a name="2368"></a>		DrawLegendElement(<span class="source_type">C</span>, subCoords, widget, LegendSavedArtilleryText);
<a name="2369"></a>		widget.Tints[TeamIndex].<span class="source_type">A</span> = <span class="source_int">255</span>;
<a name="2370"></a>	}
<a name="2371"></a>	if (bShowArtyStrike || bShowAllItemsInMapLegend)
<a name="2372"></a>		DrawLegendElement(<span class="source_type">C</span>, subCoords, MapIconArtyStrike, LegendArtyStrikeText);
<a name="2373"></a>	if (bShowMGResupplyRequest || bShowAllItemsInMapLegend)
<a name="2374"></a>		if (OwnerTeam != <span class="source_int">255</span>)
<a name="2375"></a>			DrawLegendElement(<span class="source_type">C</span>, subCoords, MapIconMGResupplyRequest[OwnerTeam], LegendMGResupplyText);
<a name="2376"></a>	if (bShowHelpRequest || bShowAllItemsInMapLegend)
<a name="2377"></a>		DrawLegendElement(<span class="source_type">C</span>, subCoords, MapIconHelpRequest, LegendHelpRequestText);
<a name="2378"></a>	if (bShowAttackDefendRequest || bShowAllItemsInMapLegend)
<a name="2379"></a>		DrawLegendElement(<span class="source_type">C</span>, subCoords, MapIconAttackDefendRequest, LegendOrderTargetText);
<a name="2380"></a>	if (bShowDestroyableItems || bShowAllItemsInMapLegend)
<a name="2381"></a>		DrawLegendElement(<span class="source_type">C</span>, subCoords, MapIconDestroyableItem, LegendDestroyableItemText);
<a name="2382"></a>	if (bShowDestroyedItems || bShowAllItemsInMapLegend)
<a name="2383"></a>		DrawLegendElement(<span class="source_type">C</span>, subCoords, MapIconDestroyedItem, LegendDestroyedItemText);
<a name="2384"></a>	if (bShowATGun)
<a name="2385"></a>		DrawLegendElement(<span class="source_type">C</span>, subCoords, MapIconATGun, LegendATGunText);
<a name="2386"></a>
<a name="2387"></a>	<span class="source_comment">// Calc objective text box coords
</span><a name="2388"></a>	GetAbsoluteCoordinatesAlt(MapCoords, MapObjectivesCoords, subCoords);
<a name="2389"></a>
<a name="2390"></a>	<span class="source_comment">// See if there are any secondary objectives
</span><a name="2391"></a>	for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(GRI.Objectives); <span class="source_type">i</span>++)
<a name="2392"></a>	{
<a name="2393"></a>		if (GRI.Objectives[<span class="source_type">i</span>] == none || !GRI.Objectives[<span class="source_type">i</span>].bActive )
<a name="2394"></a>			continue;
<a name="2395"></a>
<a name="2396"></a>		if( !GRI.Objectives[<span class="source_type">i</span>].bRequired )
<a name="2397"></a>		{
<a name="2398"></a>			bHasSecondaryObjectives=true;
<a name="2399"></a>			break;
<a name="2400"></a>		}
<a name="2401"></a>	}
<a name="2402"></a>
<a name="2403"></a>	<span class="source_comment">// Draw objective text box header
</span><a name="2404"></a>	if( bHasSecondaryObjectives )
<a name="2405"></a>	{
<a name="2406"></a>		DrawTextWidgetClipped(<span class="source_type">C</span>, MapRequiredObjectivesTitle, subCoords, XL, <span class="source_type">YL</span>, YL_one);
<a name="2407"></a>	}
<a name="2408"></a>	else
<a name="2409"></a>	{
<a name="2410"></a>		DrawTextWidgetClipped(<span class="source_type">C</span>, MapObjectivesTitle, subCoords, XL, <span class="source_type">YL</span>, YL_one);
<a name="2411"></a>	}
<a name="2412"></a>	MapObjectivesTexts.OffsetY = <span class="source_int">0</span>;
<a name="2413"></a>
<a name="2414"></a>	<span class="source_comment">// Draw objective texts
</span><a name="2415"></a>	objCount = <span class="source_int">1</span>;
<a name="2416"></a>	<span class="source_type">C</span>.<span class="source_type">Font</span> = GetSmallMenuFont(<span class="source_type">C</span>);
<a name="2417"></a>	for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(GRI.Objectives); <span class="source_type">i</span>++)
<a name="2418"></a>	{
<a name="2419"></a>		if (GRI.Objectives[<span class="source_type">i</span>] == none || !GRI.Objectives[<span class="source_type">i</span>].bActive || !GRI.Objectives[<span class="source_type">i</span>].bRequired)
<a name="2420"></a>			continue;
<a name="2421"></a>
<a name="2422"></a>		if (GRI.Objectives[<span class="source_type">i</span>].ObjState != OwnerTeam)
<a name="2423"></a>			MapObjectivesTexts.<span class="source_type">text</span> = objCount $ <span class="source_string">". "</span> $ GRI.Objectives[<span class="source_type">i</span>].AttackerDescription;
<a name="2424"></a>		else
<a name="2425"></a>			MapObjectivesTexts.<span class="source_type">text</span> = objCount $ <span class="source_string">". "</span> $ GRI.Objectives[<span class="source_type">i</span>].DefenderDescription;
<a name="2426"></a>
<a name="2427"></a>		DrawTextWidgetClipped(<span class="source_type">C</span>, MapObjectivesTexts, subCoords, XL, <span class="source_type">YL</span>, YL_one);
<a name="2428"></a>		MapObjectivesTexts.OffsetY += <span class="source_type">YL</span> + YL_one * <span class="source_int">0.5</span>;
<a name="2429"></a>		objCount++;
<a name="2430"></a>	}
<a name="2431"></a>
<a name="2432"></a>	if( bHasSecondaryObjectives )
<a name="2433"></a>	{
<a name="2434"></a>		MapObjectivesTexts.OffsetY += <span class="source_type">YL</span> + YL_one * <span class="source_int">0.5</span>;
<a name="2435"></a>		MapObjectivesTexts.OffsetY += <span class="source_type">YL</span> + YL_one * <span class="source_int">0.5</span>;
<a name="2436"></a>		MapSecondaryObjectivesTitle.OffsetY = MapObjectivesTexts.OffsetY;
<a name="2437"></a>		DrawTextWidgetClipped(<span class="source_type">C</span>, MapSecondaryObjectivesTitle, subCoords, XL, <span class="source_type">YL</span>, YL_one);
<a name="2438"></a>
<a name="2439"></a>		for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(GRI.Objectives); <span class="source_type">i</span>++)
<a name="2440"></a>		{
<a name="2441"></a>			if (GRI.Objectives[<span class="source_type">i</span>] == none || !GRI.Objectives[<span class="source_type">i</span>].bActive|| GRI.Objectives[<span class="source_type">i</span>].bRequired)
<a name="2442"></a>				continue;
<a name="2443"></a>
<a name="2444"></a>			if (GRI.Objectives[<span class="source_type">i</span>].ObjState != OwnerTeam)
<a name="2445"></a>				MapObjectivesTexts.<span class="source_type">text</span> = (SecondaryObjCount + <span class="source_int">1</span>) $ <span class="source_string">". "</span> $ GRI.Objectives[<span class="source_type">i</span>].AttackerDescription;
<a name="2446"></a>			else
<a name="2447"></a>				MapObjectivesTexts.<span class="source_type">text</span> = (SecondaryObjCount + <span class="source_int">1</span>) $ <span class="source_string">". "</span> $ GRI.Objectives[<span class="source_type">i</span>].DefenderDescription;
<a name="2448"></a>
<a name="2449"></a>			DrawTextWidgetClipped(<span class="source_type">C</span>, MapObjectivesTexts, subCoords, XL, <span class="source_type">YL</span>, YL_one);
<a name="2450"></a>			MapObjectivesTexts.OffsetY += <span class="source_type">YL</span> + YL_one * <span class="source_int">0.5</span>;
<a name="2451"></a>			SecondaryObjCount++;
<a name="2452"></a>		}
<a name="2453"></a>	}
<a name="2454"></a>
<a name="2455"></a>	<span class="source_comment">// Draw 'objectives missing' if no objectives found -- for debug only
</span><a name="2456"></a>	if (objCount == <span class="source_int">1</span>)
<a name="2457"></a>	{
<a name="2458"></a>		MapObjectivesTexts.<span class="source_type">text</span> = <span class="source_string">"(OBJECTIVES MISSING)"</span>;
<a name="2459"></a>		DrawTextWidgetClipped(<span class="source_type">C</span>, MapObjectivesTexts, subCoords, XL, <span class="source_type">YL</span>, YL_one);
<a name="2460"></a>	}
<a name="2461"></a>
<a name="2462"></a>	<span class="source_comment">// Draw timer
</span><a name="2463"></a>	<span class="source_comment">//DrawSpriteWidgetClipped(C, ClockBase, MapCoords, true, XL, YL, false, true);
</span><a name="2464"></a>	<span class="source_comment">//DrawSpriteWidgetClipped(C, ClockHand, MapCoords, true, XL, YL, false, true);
</span><a name="2465"></a>
<a name="2466"></a>	<span class="source_comment">// Draw the instruction header
</span><a name="2467"></a>	<span class="source_type">S</span> = <span class="source_type">class</span><span class="source_name">'ROTeamGame'</span>.static.ParseLoadingHintNoColor(SituationMapInstructionsText, <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">Owner</span>));
<a name="2468"></a>	<span class="source_type">C</span>.DrawColor = WhiteColor;
<a name="2469"></a>	<span class="source_type">C</span>.<span class="source_type">Font</span> = GetLargeMenuFont(<span class="source_type">C</span>);
<a name="2470"></a>
<a name="2471"></a>	<span class="source_type">X</span> = <span class="source_type">C</span>.ClipX * <span class="source_int">0.5</span>;
<a name="2472"></a>	<span class="source_type">Y</span> = <span class="source_type">C</span>.ClipY * <span class="source_int">0.01</span>;
<a name="2473"></a>
<a name="2474"></a>	<span class="source_type">C</span>.TextSize(<span class="source_type">S</span>, strX, strY);
<a name="2475"></a>	<span class="source_type">C</span>.SetPos(<span class="source_type">X</span> - strX / <span class="source_int">2</span>, <span class="source_type">Y</span>);
<a name="2476"></a>	<span class="source_type">C</span>.DrawTextClipped(<span class="source_type">S</span>);
<a name="2477"></a>}
<a name="2478"></a>
<a name="2479"></a><span class="source_comment">// Draw debugging info on the overhead map
</span><a name="2480"></a>function DrawDebugIconOnMap(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>, <span class="source_type"><a href="../roengine/rohud.html#AbsoluteCoordsInfo" class="source">AbsoluteCoordsInfo</a></span> levelCoords, <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span> icon, <span class="source_type">float</span> myMapScale, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> location, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> MapCenter, optional <span class="source_type">string</span> title)
<a name="2481"></a>{
<a name="2482"></a>    local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> HUDLocation;
<a name="2483"></a>    local <span class="source_type">float</span> XL, <span class="source_type">YL</span>;
<a name="2484"></a>    local <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span> myIcon;
<a name="2485"></a>
<a name="2486"></a>    <span class="source_comment">// Calculate proper position
</span><a name="2487"></a>    HUDLocation = location - MapCenter;
<a name="2488"></a>    HUDLocation.<span class="source_type">Z</span> = <span class="source_int">0</span>;
<a name="2489"></a>    HUDLocation = GetAdjustedHudLocation(HUDLocation);
<a name="2490"></a>
<a name="2491"></a>    myIcon = icon;
<a name="2492"></a>
<a name="2493"></a>    myIcon.PosX = HUDLocation.<span class="source_type">X</span> / myMapScale + <span class="source_int">0.5</span>;
<a name="2494"></a>    myIcon.PosY = HUDLocation.<span class="source_type">Y</span> / myMapScale + <span class="source_int">0.5</span>;
<a name="2495"></a>
<a name="2496"></a>    <span class="source_comment">// Bound the values between 0 and 1
</span><a name="2497"></a>    myIcon.PosX = fmax(<span class="source_int">0.0</span>, fmin(<span class="source_int">1.0</span>, myIcon.PosX));
<a name="2498"></a>    myIcon.PosY = fmax(<span class="source_int">0.0</span>, fmin(<span class="source_int">1.0</span>, myIcon.PosY));
<a name="2499"></a>
<a name="2500"></a>    <span class="source_comment">// Draw icon!
</span><a name="2501"></a>    DrawSpriteWidgetClipped(<span class="source_type">C</span>, myIcon, levelCoords, true, XL, <span class="source_type">YL</span>, true);
<a name="2502"></a>
<a name="2503"></a>    if (title != <span class="source_string">""</span>)
<a name="2504"></a>    {
<a name="2505"></a>        <span class="source_comment">// Setup text info
</span><a name="2506"></a>        MapTexts.<span class="source_type">text</span> = title;
<a name="2507"></a>        MapTexts.PosX = myIcon.PosX;
<a name="2508"></a>        MapTexts.PosY = myIcon.PosY;
<a name="2509"></a>        MapTexts.OffsetY = <span class="source_type">YL</span> * <span class="source_int">0.6</span>;
<a name="2510"></a>
<a name="2511"></a>        <span class="source_comment">// Draw text
</span><a name="2512"></a>        DrawTextWidgetClipped(<span class="source_type">C</span>, MapTexts, levelCoords);
<a name="2513"></a>    }
<a name="2514"></a>}
<a name="2515"></a>
<a name="2516"></a>simulated function DrawRoute()
<a name="2517"></a>{
<a name="2518"></a>    local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="2519"></a>    local <span class="source_type"><a href="../unrealgame/bot.html" class="source">Bot</a></span> <span class="source_type">B</span>, <span class="source_type">M</span>;
<a name="2520"></a>    local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> End;
<a name="2521"></a>
<a name="2522"></a>	Super.DrawRoute();
<a name="2523"></a>
<a name="2524"></a>	<span class="source_comment">// PSYONIX: draw the squads
</span><a name="2525"></a>	<span class="source_type">C</span> = <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>(PlayerOwner.<span class="source_type">ViewTarget</span>).<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>;
<a name="2526"></a>    if ( <span class="source_type">C</span> == None )
<a name="2527"></a>        return;
<a name="2528"></a>    <span class="source_type">B</span> = <span class="source_type"><a href="../unrealgame/bot.html" class="source">Bot</a></span>(<span class="source_type">C</span>);
<a name="2529"></a>
<a name="2530"></a>    if ( <span class="source_type">B</span> == None )
<a name="2531"></a>        return;
<a name="2532"></a>
<a name="2533"></a>    if (<span class="source_type">B</span>.Squad.SquadLeader.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> == None)
<a name="2534"></a>    	return;
<a name="2535"></a>
<a name="2536"></a>    End = <span class="source_type">B</span>.Squad.SquadLeader.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.Location;
<a name="2537"></a>
<a name="2538"></a>    for (<span class="source_type">M</span>=<span class="source_type">B</span>.Squad.SquadMembers; <span class="source_type">M</span>!=None; <span class="source_type">M</span>=<span class="source_type">M</span>.NextSquadMember)
<a name="2539"></a>    {
<a name="2540"></a>    	if (<span class="source_type">M</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> != None && <span class="source_type">M</span> != <span class="source_type">M</span>.Squad.SquadLeader)
<a name="2541"></a>			Draw3DLine(<span class="source_type">M</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.Location + (<span class="source_type">M</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.BaseEyeHeight * vect(<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_int">1</span>)),End,<span class="source_type">Class</span><span class="source_name">'Canvas'</span>.Static.MakeColor(<span class="source_int">70</span>,<span class="source_int">131</span>,<span class="source_int">244</span>));
<a name="2542"></a>	}
<a name="2543"></a>}
<a name="2544"></a>
<a name="2545"></a><span class="source_comment">// valid flash modes:
</span><a name="2546"></a><span class="source_comment">// 0 - just draw using assigned texture
</span><a name="2547"></a><span class="source_comment">// 1 - draw using normal map icon texture
</span><a name="2548"></a><span class="source_comment">// 2 - draw using flashing map icon texture
</span><a name="2549"></a><span class="source_comment">// 3 - draw using fast-flashing map icon texture
</span><a name="2550"></a><span class="source_comment">// 4 - draw using flashing map icon texture (out of phase)
</span><a name="2551"></a><span class="source_comment">// 5 - draw using fast-flashing map icon texture (out of phase)
</span><a name="2552"></a>function DrawIconOnMap(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>, <span class="source_type"><a href="../roengine/rohud.html#AbsoluteCoordsInfo" class="source">AbsoluteCoordsInfo</a></span> levelCoords, <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span> icon, <span class="source_type">float</span> myMapScale, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> location, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> MapCenter, optional <span class="source_type">int</span> flashMode, optional <span class="source_type">string</span> title, optional <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span> GRI, optional <span class="source_type">int</span> objective_index)
<a name="2553"></a>{
<a name="2554"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> HUDLocation;
<a name="2555"></a>    local <span class="source_type">float</span> XL, <span class="source_type">YL</span>, YL_one;
<a name="2556"></a>	local <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span> myIcon;
<a name="2557"></a>    local <span class="source_type"><a href="../core/object.html#FloatBox" class="source">FloatBox</a></span> label_coords;
<a name="2558"></a>
<a name="2559"></a>	<span class="source_comment">// Calculate proper position
</span><a name="2560"></a>	HUDLocation = location - MapCenter;
<a name="2561"></a>	HUDLocation.<span class="source_type">Z</span> = <span class="source_int">0</span>;
<a name="2562"></a>	HUDLocation = GetAdjustedHudLocation(HUDLocation);
<a name="2563"></a>
<a name="2564"></a>	myIcon = icon;
<a name="2565"></a>
<a name="2566"></a>	myIcon.PosX = HUDLocation.<span class="source_type">X</span> / myMapScale + <span class="source_int">0.5</span>;
<a name="2567"></a>	myIcon.PosY = HUDLocation.<span class="source_type">Y</span> / myMapScale + <span class="source_int">0.5</span>;
<a name="2568"></a>
<a name="2569"></a>	<span class="source_comment">// Bound the values between 0 and 1
</span><a name="2570"></a>	myIcon.PosX = fmax(<span class="source_int">0.0</span>, fmin(<span class="source_int">1.0</span>, myIcon.PosX));
<a name="2571"></a>	myIcon.PosY = fmax(<span class="source_int">0.0</span>, fmin(<span class="source_int">1.0</span>, myIcon.PosY));
<a name="2572"></a>
<a name="2573"></a>	<span class="source_comment">// Set flashing texture if needed
</span><a name="2574"></a>
<a name="2575"></a>	if (flashMode != <span class="source_int">0</span>)
<a name="2576"></a>	{
<a name="2577"></a>		if (flashMode == <span class="source_int">2</span>)
<a name="2578"></a>			myIcon.WidgetTexture = MapIconsFlash;
<a name="2579"></a>		else if (flashMode == <span class="source_int">3</span>)
<a name="2580"></a>			myIcon.WidgetTexture = MapIconsFastFlash;
<a name="2581"></a>		else if (flashMode == <span class="source_int">4</span>)
<a name="2582"></a>			myIcon.WidgetTexture = MapIconsAltFlash;
<a name="2583"></a>		else if (flashMode == <span class="source_int">5</span>)
<a name="2584"></a>			myIcon.WidgetTexture = MapIconsAltFastFlash;
<a name="2585"></a>
<a name="2586"></a>		<span class="source_comment">//else if (flashMode == 1)
</span><a name="2587"></a>		<span class="source_comment">//  myIcon.WidgetTexture = icon.WidgetTexture; // not needed
</span><a name="2588"></a>	}
<a name="2589"></a>
<a name="2590"></a>	<span class="source_comment">// Draw icon!
</span><a name="2591"></a>	DrawSpriteWidgetClipped(<span class="source_type">C</span>, myIcon, levelCoords, true, XL, <span class="source_type">YL</span>, true);
<a name="2592"></a>
<a name="2593"></a>    if (title != <span class="source_string">""</span> && !GRI.Objectives[objective_index].bDoNotDisplayTitleOnSituationMap)
<a name="2594"></a>	{
<a name="2595"></a>		<span class="source_comment">// Setup text info
</span><a name="2596"></a>		MapTexts.<span class="source_type">text</span> = title;
<a name="2597"></a>		MapTexts.PosX = myIcon.PosX;
<a name="2598"></a>		MapTexts.PosY = myIcon.PosY;
<a name="2599"></a>		MapTexts.Tints[TeamIndex].<span class="source_type">A</span> = myIcon.Tints[TeamIndex].<span class="source_type">A</span>;
<a name="2600"></a>        MapTexts.OffsetY = <span class="source_type">YL</span> * <span class="source_int">0.3</span>;
<a name="2601"></a>
<a name="2602"></a>        <span class="source_comment">// Fake render to get desired label pos
</span><a name="2603"></a>        DrawTextWidgetClipped(<span class="source_type">C</span>, MapTexts, levelCoords, XL, <span class="source_type">YL</span>, YL_one, true);
<a name="2604"></a>
<a name="2605"></a>        <span class="source_comment">// Update objective floatbox info with desired coords
</span><a name="2606"></a>        label_coords.X1 = levelCoords.<span class="source_type">width</span> * MapTexts.PosX - XL/<span class="source_int">2</span>;
<a name="2607"></a>        label_coords.Y1 = levelCoords.height * MapTexts.PosY;
<a name="2608"></a>        label_coords.X2 = label_coords.X1 + XL;
<a name="2609"></a>        label_coords.Y2 = label_coords.Y1 + <span class="source_type">YL</span>;
<a name="2610"></a>
<a name="2611"></a>        <span class="source_comment">// Iterate through objectives list and check if we should offset label
</span><a name="2612"></a>        UpdateMapIconLabelCoords(label_coords, GRI, objective_index);
<a name="2613"></a>
<a name="2614"></a>        <span class="source_comment">// Update Y offset
</span><a name="2615"></a>        MapTexts.OffsetY += GRI.Objectives[objective_index].LabelCoords.Y1 - label_coords.Y1;
<a name="2616"></a>
<a name="2617"></a>		<span class="source_comment">// Draw text
</span><a name="2618"></a>		DrawTextWidgetClipped(<span class="source_type">C</span>, MapTexts, levelCoords);
<a name="2619"></a>	}
<a name="2620"></a>}
<a name="2621"></a>
<a name="2622"></a>simulated function UpdateMapIconLabelCoords(<span class="source_type"><a href="../core/object.html#FloatBox" class="source">FloatBox</a></span> label_coords, <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span> GRI, <span class="source_type">int</span> current_obj)
<a name="2623"></a>{
<a name="2624"></a>    local <span class="source_type">int</span> <span class="source_type">i</span>, count;
<a name="2625"></a>    local <span class="source_type">float</span> new_y;
<a name="2626"></a>
<a name="2627"></a>    <span class="source_comment">// Do not update label coords if it's disabled in the objective
</span><a name="2628"></a>    if (GRI.Objectives[current_obj].bDoNotUseLabelShiftingOnSituationMap)
<a name="2629"></a>    {
<a name="2630"></a>        GRI.Objectives[current_obj].LabelCoords = label_coords;
<a name="2631"></a>        return;
<a name="2632"></a>    }
<a name="2633"></a>
<a name="2634"></a>    if (current_obj == <span class="source_int">0</span>)
<a name="2635"></a>    {
<a name="2636"></a>        <span class="source_comment">// Set label position to be same as tested position
</span><a name="2637"></a>        GRI.Objectives[<span class="source_int">0</span>].LabelCoords = label_coords;
<a name="2638"></a>
<a name="2639"></a>        return;
<a name="2640"></a>    }
<a name="2641"></a>
<a name="2642"></a>    for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; current_obj; <span class="source_type">i</span>++)
<a name="2643"></a>    {
<a name="2644"></a>        <span class="source_comment">// Check if there's overlap in the X axis
</span><a name="2645"></a>        if (!(label_coords.X2 &lt;= GRI.Objectives[<span class="source_type">i</span>].LabelCoords.X1 ||
<a name="2646"></a>              label_coords.X1 &gt;= GRI.Objectives[<span class="source_type">i</span>].LabelCoords.X2))
<a name="2647"></a>        {
<a name="2648"></a>            <span class="source_comment">// There's overlap! Check if there's overlap in the Y axis
</span><a name="2649"></a>            if (!(label_coords.Y2 &lt;= GRI.Objectives[<span class="source_type">i</span>].LabelCoords.Y1 ||
<a name="2650"></a>                  label_coords.Y1 &gt;= GRI.Objectives[<span class="source_type">i</span>].LabelCoords.Y2))
<a name="2651"></a>            {
<a name="2652"></a>                <span class="source_comment">// There's overlap on both axis: the label overlaps.
</span><a name="2653"></a>                <span class="source_comment">// Update the position of the label
</span><a name="2654"></a>                new_y = GRI.Objectives[<span class="source_type">i</span>].LabelCoords.Y2 - (label_coords.Y2 - label_coords.Y1) * <span class="source_int">0.00</span>;
<a name="2655"></a>                label_coords.Y2 = new_y + label_coords.Y2 - label_coords.Y1;
<a name="2656"></a>                label_coords.Y1 = new_y;
<a name="2657"></a>
<a name="2658"></a>                <span class="source_comment">//if (i != 0)
</span><a name="2659"></a>                    <span class="source_type">i</span> = -<span class="source_int">1</span>; <span class="source_comment">// This is to force rechecking of all possible overlaps
</span><a name="2660"></a>                            <span class="source_comment">// to ensure that no other label overlaps with this
</span><a name="2661"></a>
<a name="2662"></a>                <span class="source_comment">// Safety
</span><a name="2663"></a>                count++;
<a name="2664"></a>                if (count &gt; current_obj * <span class="source_int">5</span>)
<a name="2665"></a>                    break;
<a name="2666"></a>            }
<a name="2667"></a>        }
<a name="2668"></a>
<a name="2669"></a>    }
<a name="2670"></a>
<a name="2671"></a>    <span class="source_comment">// Set new label position
</span><a name="2672"></a>    GRI.Objectives[current_obj].LabelCoords = label_coords;
<a name="2673"></a>}
<a name="2674"></a>
<a name="2675"></a>simulated function DrawLegendElement(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>, <span class="source_type"><a href="../roengine/rohud.html#AbsoluteCoordsInfo" class="source">AbsoluteCoordsInfo</a></span> <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span> icon, <span class="source_type">string</span> <span class="source_type">text</span>)
<a name="2676"></a>{
<a name="2677"></a>	local <span class="source_type">float</span> <span class="source_type">X</span>, <span class="source_type">Y</span>, XL, <span class="source_type">YL</span>, YL2;
<a name="2678"></a>
<a name="2679"></a>	<span class="source_comment">// We'll have four columns of 4 items
</span><a name="2680"></a>	MapLegendIcons.PosX = (<span class="source_type">float</span>(LegendItemsIndex / <span class="source_int">4</span>) + <span class="source_int">0.05</span>) / <span class="source_int">4</span>;
<a name="2681"></a>	MapLegendIcons.PosY = (LegendItemsIndex % <span class="source_int">4</span> + <span class="source_int">0.5</span>) / <span class="source_int">4</span>;
<a name="2682"></a>
<a name="2683"></a>	MapLegendIcons.WidgetTexture = icon.WidgetTexture;
<a name="2684"></a>	MapLegendIcons.Tints[TeamIndex] = icon.Tints[TeamIndex];
<a name="2685"></a>	MapLegendIcons.TextureCoords = icon.TextureCoords;
<a name="2686"></a>	DrawSpriteWidgetClipped(<span class="source_type">C</span>, MapLegendIcons, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, true, XL, <span class="source_type">YL</span>, true, true);
<a name="2687"></a>
<a name="2688"></a>	<span class="source_comment">// Same data for text
</span><a name="2689"></a>	MapLegendTexts.<span class="source_type">text</span> = <span class="source_type">text</span>;
<a name="2690"></a>	MapLegendTexts.PosX = MapLegendIcons.PosX;
<a name="2691"></a>	MapLegendTexts.PosY = MapLegendIcons.PosY;
<a name="2692"></a>	MapLegendTexts.offsetX = XL * <span class="source_int">1.05</span>;
<a name="2693"></a>
<a name="2694"></a>	DrawTextWidgetClipped(<span class="source_type">C</span>, MapLegendTexts, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, <span class="source_type">X</span>, <span class="source_type">Y</span>, YL2);
<a name="2695"></a>	<span class="source_comment">//MapLegendIcons.OffsetY += max(YL, Y) + YL2 * 0.5;
</span><a name="2696"></a>	<span class="source_comment">//MapLegendTexts.OffsetY = MapLegendIcons.OffsetY;
</span><a name="2697"></a>
<a name="2698"></a>	LegendItemsIndex++;
<a name="2699"></a>}
<a name="2700"></a>
<a name="2701"></a><span class="source_comment">// returns true if click was out of level image bounds, meaning
</span><a name="2702"></a><span class="source_comment">// that menu should close
</span><a name="2703"></a>simulated function <span class="source_type">bool</span> HandleLevelMapClick(<span class="source_type">float</span> <span class="source_type">X</span>, <span class="source_type">float</span> <span class="source_type">Y</span>)
<a name="2704"></a>{
<a name="2705"></a>	local <span class="source_type">float</span> mapX, mapY, myMapScale;
<a name="2706"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> temp, MapCenter, real;
<a name="2707"></a>	local <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span> GRI;
<a name="2708"></a>	local <span class="source_type"><a href="../roengine/rolevelinfo.html" class="source">ROLevelInfo</a></span> <span class="source_type"><a href="../engine/levelinfo.html" class="source">levelinfo</a></span>;
<a name="2709"></a>	local <span class="source_type">float</span> minTimeBetweenRallyAssign;
<a name="2710"></a>
<a name="2711"></a>	<span class="source_comment">// Calculate 0-1 value
</span><a name="2712"></a>	mapX = (<span class="source_type">X</span> - MapLevelImageCoordinates.PosX) / MapLevelImageCoordinates.<span class="source_type">width</span>;
<a name="2713"></a>	mapY = (<span class="source_type">Y</span> - MapLevelImageCoordinates.PosY) / MapLevelImageCoordinates.height;
<a name="2714"></a>
<a name="2715"></a>	if (mapX &lt; <span class="source_int">0</span> || mapX &gt; <span class="source_int">1</span> || mapY &lt; <span class="source_int">0</span> || mapY &gt; <span class="source_int">1</span>)
<a name="2716"></a>		return true;
<a name="2717"></a>
<a name="2718"></a>	<span class="source_comment">// Get GRI
</span><a name="2719"></a>	GRI = <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span>(PlayerOwner.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>);
<a name="2720"></a>	if (GRI == none)
<a name="2721"></a>		return false;
<a name="2722"></a>
<a name="2723"></a>	<span class="source_comment">// Calculate map image constants
</span><a name="2724"></a>	temp = GRI.SouthWestBounds - GRI.NorthEastBounds;
<a name="2725"></a>	MapCenter =  temp/<span class="source_int">2</span> + GRI.NorthEastBounds;
<a name="2726"></a>	myMapScale = abs(temp.<span class="source_type">x</span>);
<a name="2727"></a>
<a name="2728"></a>	<span class="source_comment">// Modify MapX and MapY to compensate for map rotation
</span><a name="2729"></a>	real.<span class="source_type">X</span> = MapX - <span class="source_int">0.5</span>;
<a name="2730"></a>	real.<span class="source_type">Y</span> = MapY - <span class="source_int">0.5</span>;
<a name="2731"></a>	real = GetAdjustedHudLocation(real, true);
<a name="2732"></a>	MapX = real.<span class="source_type">X</span> + <span class="source_int">0.5</span>;
<a name="2733"></a>	MapY = real.<span class="source_type">Y</span> + <span class="source_int">0.5</span>;
<a name="2734"></a>
<a name="2735"></a>	<span class="source_comment">// Do inverse transform to find out coordinates to put rally point at
</span><a name="2736"></a>	real = MapCenter;
<a name="2737"></a>	real.<span class="source_type">X</span> += (mapX - <span class="source_int">0.5</span>) * myMapScale;
<a name="2738"></a>	real.<span class="source_type">Y</span> += (mapY - <span class="source_int">0.5</span>) * myMapScale;
<a name="2739"></a>
<a name="2740"></a>	<span class="source_comment">// Find levelinfo & assign minimum time between rally set
</span><a name="2741"></a>   	foreach AllActors(<span class="source_type">class</span><span class="source_name">'ROLevelInfo'</span>, <span class="source_type"><a href="../engine/levelinfo.html" class="source">levelinfo</a></span>)
<a name="2742"></a>	   break;
<a name="2743"></a>	minTimeBetweenRallyAssign = <span class="source_int">0.5</span>;
<a name="2744"></a>	if (<span class="source_type"><a href="../engine/levelinfo.html" class="source">levelinfo</a></span> != none)
<a name="2745"></a>	    minTimeBetweenRallyAssign = <span class="source_type"><a href="../engine/levelinfo.html" class="source">levelinfo</a></span>.RallyPointInterval;
<a name="2746"></a>
<a name="2747"></a>	<span class="source_comment">// Check if we're allowed to set a rally point
</span><a name="2748"></a>	if (MapLastRallyPointAssignTime + minTimeBetweenRallyAssign * <span class="source_int">1.05</span> &lt; <span class="source_type">Level</span>.TimeSeconds)
<a name="2749"></a>	{
<a name="2750"></a>		MapLastRallyPointAssignTime = <span class="source_type">Level</span>.TimeSeconds;
<a name="2751"></a>		<span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(PlayerOwner).ServerSaveRallyPointFromHud(real);
<a name="2752"></a>		PlayAssignSound(true);
<a name="2753"></a>	}
<a name="2754"></a>	else
<a name="2755"></a>		PlayAssignSound(false);
<a name="2756"></a>
<a name="2757"></a>	return false;
<a name="2758"></a>}
<a name="2759"></a>
<a name="2760"></a>function PlayAssignSound(<span class="source_type">bool</span> bSuccessfull)
<a name="2761"></a>{
<a name="2762"></a>	if (PlayerOwner != none && PlayerOwner.<span class="source_type">ViewTarget</span> != None )
<a name="2763"></a>	{
<a name="2764"></a>		if (bSuccessfull)
<a name="2765"></a>		    PlayerOwner.<span class="source_type">ViewTarget</span>.PlaySound(AssignOKSound, SLOT_None,,,,,false);
<a name="2766"></a>		else
<a name="2767"></a>		    PlayerOwner.<span class="source_type">ViewTarget</span>.PlaySound(AssignFailedSound, SLOT_None,,,,,false);
<a name="2768"></a>	}
<a name="2769"></a>}
<a name="2770"></a>
<a name="2771"></a><span class="source_comment">/*simulated function OldDrawObjectives(Canvas C)
<a name="2772"></a>{
<a name="2773"></a>	local float X, Y, XL, YL, MapX, MapY, Scale;
<a name="2774"></a>	local ROGameReplicationInfo GRI;
<a name="2775"></a>	local int i, OwnerTeam;
<a name="2776"></a>	local string S;   // Ramm map stuff
<a name="2777"></a>	local vector HUDLocation, MapCenter;
<a name="2778"></a>		local float	CenterPosX, CenterPosY, Radarwidth, RadarHeight;
<a name="2779"></a>   	local float PlayerIconSize;
<a name="2780"></a>	local FinalBlend PlayerIcon;
<a name="2781"></a>	local Actor A;
<a name="2782"></a>	local vector Temp, MyArtyCoords, RallyPointCoords;
<a name="2783"></a>	local Material OverheadMap;
<a name="2784"></a>	local float	SavedOpacity;
<a name="2785"></a>	local Color OldDrawColor;
<a name="2786"></a>
<a name="2787"></a>	GRI = ROGameReplicationInfo(PlayerOwner.GameReplicationInfo);
<a name="2788"></a>
<a name="2789"></a>	if (GRI == None)
<a name="2790"></a>		return;
<a name="2791"></a>
<a name="2792"></a>	// Avoid multiple checks for this
<a name="2793"></a>	if( PlayerOwner != none )
<a name="2794"></a>	{
<a name="2795"></a>		OwnerTeam = PlayerOwner.GetTeamNum();
<a name="2796"></a>	}
<a name="2797"></a>
<a name="2798"></a>	// store old opacity and set to 1.0 for map overlay rendering
<a name="2799"></a>	SavedOpacity = C.ColorModulate.W;
<a name="2800"></a>	C.ColorModulate.W = 1.0;
<a name="2801"></a>
<a name="2802"></a>	scale = C.SizeX / 1600.0;
<a name="2803"></a>
<a name="2804"></a>	C.Style = ERenderStyle.STY_Alpha;
<a name="2805"></a>	C.SetDrawColor(0,0,0,128);
<a name="2806"></a>	C.SetPos(0,0);
<a name="2807"></a>	C.DrawRect(Material'Engine.WhiteSquareTexture', C.ClipX, C.ClipY);
<a name="2808"></a>
<a name="2809"></a>	C.SetPos(0, 0.025 * C.ClipY);
<a name="2810"></a>	C.SetDrawColor(255,255,255,255);
<a name="2811"></a>	C.DrawTile(HeaderImage, C.ClipX, 0.05 * C.ClipY, 0, 0, 2048, 64);
<a name="2812"></a>
<a name="2813"></a>	C.SetDrawColor(0,0,0,255);
<a name="2814"></a>	C.Font = GetLargeMenuFont(C);
<a name="2815"></a>	C.DrawTextJustified(ObjectivesText, 1, 0, 0, C.ClipX, 0.10 * C.ClipY);
<a name="2816"></a>
<a name="2817"></a>	C.Font = GetSmallMenuFont(C);
<a name="2818"></a>	C.DrawColor = WhiteColor;
<a name="2819"></a>
<a name="2820"></a>	MapX = 0.45 * C.ClipX;
<a name="2821"></a>	MapY = 0.15 * C.ClipY;
<a name="2822"></a>
<a name="2823"></a>	// Ramm map code
<a name="2824"></a>
<a name="2825"></a>	Temp = GRI.SouthWestBounds - GRI.NorthEastBounds;
<a name="2826"></a>	MapScale = (GRI.MapImage.MaterialUSize() * Scale)/abs(Temp.X);
<a name="2827"></a>	MapCenter =  Temp/2 + GRI.NorthEastBounds;
<a name="2828"></a>
<a name="2829"></a>	MapScale *= 1.5;
<a name="2830"></a>
<a name="2831"></a>	RadarWidth = 0.5 * GRI.MapImage.MaterialUSize() * scale * 1.5;
<a name="2832"></a>	RadarHeight = 0.5 * GRI.MapImage.MaterialVSize() * scale * 1.5;
<a name="2833"></a>	CenterPosX = MapX + RadarWidth;
<a name="2834"></a>	CenterPosY = MapY + RadarHeight;
<a name="2835"></a>
<a name="2836"></a>	// Draw the overhead map
<a name="2837"></a>	C.SetPos(MapX, MapY);
<a name="2838"></a>	if (GRI.MapImage != None)
<a name="2839"></a>	{
<a name="2840"></a>		OverheadMap = GRI.MapImage;
<a name="2841"></a>		C.DrawTileScaled(OverheadMap, scale * 1.5 , scale * 1.5 );
<a name="2842"></a>	}
<a name="2843"></a>
<a name="2844"></a>	X = 0.05 * C.ClipX;
<a name="2845"></a>	Y = 0.15 * C.ClipY;
<a name="2846"></a>
<a name="2847"></a>	// Draw resupply zones
<a name="2848"></a>	for (i = 0; i &lt; ArrayCount(GRI.ResupplyAreas); i++)
<a name="2849"></a>	{
<a name="2850"></a>		if (!GRI.ResupplyAreas[i].bActive)
<a name="2851"></a>			continue;
<a name="2852"></a>
<a name="2853"></a>		OldDrawColor = C.DrawColor;
<a name="2854"></a>
<a name="2855"></a>		C.DrawColor.r=0; C.DrawColor.g=0; C.DrawColor.b=0; C.DrawColor.a=200;
<a name="2856"></a>
<a name="2857"></a>		//TODO: REPLACE THIS CRAP WITH TEAM AMMO ICONS   (justinh)
<a name="2858"></a>		// Questionable whether we should allow players to see where the other teams ammo supply is
<a name="2859"></a>		if (GRI.ResupplyAreas[i].Team == AXIS_TEAM_INDEX)
<a name="2860"></a>			C.DrawColor.b=200;
<a name="2861"></a>		else if (GRI.ResupplyAreas[i].Team == ALLIES_TEAM_INDEX)
<a name="2862"></a>			C.DrawColor.r=200;
<a name="2863"></a>		else
<a name="2864"></a>		{
<a name="2865"></a>			C.DrawColor.r=200;
<a name="2866"></a>			C.DrawColor.g=200;
<a name="2867"></a>			C.DrawColor.b=200;
<a name="2868"></a>		}
<a name="2869"></a>
<a name="2870"></a>		HUDLocation = GRI.ResupplyAreas[i].ResupplyVolumeLocation - MapCenter;
<a name="2871"></a>		HUDLocation.Z = 0;
<a name="2872"></a>		HUDLocation = GetAdjustedHudLocation(HUDLocation);
<a name="2873"></a>
<a name="2874"></a>	   	C.SetPos( CenterPosX + HUDLocation.X * MapScale - 16 * 0.5,
<a name="2875"></a>				  CenterPosY + HUDLocation.Y * MapScale - 16 * 0.5 );
<a name="2876"></a>
<a name="2877"></a>		C.DrawTileScaled(Texture'ROInterfaceArt.HUD.hud_mg42', Scale/4, Scale/4);
<a name="2878"></a>
<a name="2879"></a>		C.DrawColor = OldDrawColor;
<a name="2880"></a>	}
<a name="2881"></a>
<a name="2882"></a>	// Draw the objectives
<a name="2883"></a>	for (i = 0; i &lt; ArrayCount(GRI.Objectives); i++)
<a name="2884"></a>	{
<a name="2885"></a>		if (GRI.Objectives[i] == None)
<a name="2886"></a>			continue;
<a name="2887"></a>
<a name="2888"></a>		//S = "OBJ" $ (i + 1) $ ": ObjState ="@GRI.Objectives[i].ObjState@"bActive ="@GRI.Objectives[i].bObjActive@"CurNum[AXIS_TEAM_INDEX] ="@GRI.Objectives[i].CurNum[AXIS_TEAM_INDEX]@"CurNum[ALLIES_TEAM_INDEX] ="@GRI.Objectives[i].CurNum[ALLIES_TEAM_INDEX]@"CapturePercentage ="@GRI.Objectives[i].CapturePercentage@"DisputedCapturePercentage ="@GRI.Objectives[i].DisputedCapturePercentage;;
<a name="2889"></a>
<a name="2890"></a>		if (GRI.Objectives[i].bActive) //bObjActive
<a name="2891"></a>		{
<a name="2892"></a>			S = "OBJ" $ (i + 1) $ ": ";
<a name="2893"></a>
<a name="2894"></a>			if (GRI.Objectives[i].ObjState != PlayerOwner.PlayerReplicationInfo.Team.TeamIndex)
<a name="2895"></a>				S = S $ GRI.Objectives[i].AttackerDescription;
<a name="2896"></a>			else
<a name="2897"></a>			S = S $ GRI.Objectives[i].DefenderDescription;
<a name="2898"></a>
<a name="2899"></a>			C.SetPos(X, Y);
<a name="2900"></a>			C.StrLen(S, XL, YL);
<a name="2901"></a>			//C.DrawTextClipped(S);
<a name="2902"></a>			C.DrawTextJustified(S, 2, X, Y, 0.4 * C.ClipX, Y + YL);
<a name="2903"></a>
<a name="2904"></a>		/*if (!GRI.Objectives[i].bActive)   //bObjActive
<a name="2905"></a>		{
<a name="2906"></a>			if (GRI.Objectives[i].ObjState != PlayerOwner.PlayerReplicationInfo.Team.TeamIndex)
<a name="2907"></a>			{
<a name="2908"></a>				C.DrawColor = RedColor;
<a name="2909"></a>				C.DrawText("  " $ ObjFailedText);
<a name="2910"></a>			}
<a name="2911"></a>			else
<a name="2912"></a>			{
<a name="2913"></a>				C.DrawColor = GreenColor;
<a name="2914"></a>				C.DrawText("  " $ ObjCompleteText);
<a name="2915"></a>			}
<a name="2916"></a>		}*/
<a name="2917"></a>
<a name="2918"></a>			Y += YL * 2;
<a name="2919"></a>		}
<a name="2920"></a>
<a name="2921"></a>		HUDLocation = GRI.Objectives[i].Location - MapCenter;
<a name="2922"></a>		HUDLocation.Z = 0;
<a name="2923"></a>
<a name="2924"></a>		HUDLocation = GetAdjustedHudLocation(HUDLocation);
<a name="2925"></a>
<a name="2926"></a>		C.StrLen(GRI.Objectives[i].ObjName, XL, YL);
<a name="2927"></a>	    C.SetPos((CenterPosX + HUDLocation.X * MapScale) - XL / 2, (CenterPosY + HUDLocation.Y * MapScale) - YL - 16 * Scale);
<a name="2928"></a>
<a name="2929"></a>		/*if (GRI.Objectives[i].ObjState == OBJ_German)
<a name="2930"></a>			C.DrawColor = GermanColor;
<a name="2931"></a>		else if (GRI.Objectives[i].ObjState == OBJ_Russian)
<a name="2932"></a>			C.DrawColor = RussianColor;
<a name="2933"></a>		else*/
<a name="2934"></a>
<a name="2935"></a>
<a name="2936"></a>		if (!GRI.Objectives[i].bActive) //bObjActive
<a name="2937"></a>		{
<a name="2938"></a>			C.DrawColor = GrayColor;
<a name="2939"></a>			C.DrawColor.A = 125;
<a name="2940"></a>		}
<a name="2941"></a>		else
<a name="2942"></a>		{
<a name="2943"></a>			C.DrawColor = WhiteColor;
<a name="2944"></a>		}
<a name="2945"></a>		C.DrawTextClipped(GRI.Objectives[i].ObjName);
<a name="2946"></a>
<a name="2947"></a>
<a name="2948"></a>	   	C.SetPos( CenterPosX + HUDLocation.X * MapScale - 16 * 0.5,
<a name="2949"></a>				  CenterPosY + HUDLocation.Y * MapScale - 16 * 0.5 );
<a name="2950"></a>
<a name="2951"></a>		if (GRI.Objectives[i].ObjState == OBJ_Axis)
<a name="2952"></a>			C.DrawTileScaled(NationIcons[GRI.NationIndex[AXIS_TEAM_INDEX]], Scale, Scale);
<a name="2953"></a>		else if (GRI.Objectives[i].ObjState == OBJ_Allies)
<a name="2954"></a>			C.DrawTileScaled(NationIcons[GRI.NationIndex[ALLIES_TEAM_INDEX]], Scale, Scale);
<a name="2955"></a>		else
<a name="2956"></a>			C.DrawTileScaled(NeutralIcon, Scale, Scale);
<a name="2957"></a>
<a name="2958"></a>		C.DrawColor = WhiteColor;
<a name="2959"></a>	}
<a name="2960"></a>
<a name="2961"></a>	// Draw the legend - Raw but functional - Ramm
<a name="2962"></a>		X = 0.45 * C.ClipX;
<a name="2963"></a>	Y = 0.81 * C.ClipY;
<a name="2964"></a>
<a name="2965"></a>  	C.SetPos(X,Y);
<a name="2966"></a>		C.DrawTileScaled(ArtilleryIcon, Scale, Scale);
<a name="2967"></a>
<a name="2968"></a>	X = 0.48 * C.ClipX;
<a name="2969"></a>	Y = 0.81 * C.ClipY;
<a name="2970"></a>	C.SetPos(X , Y );
<a name="2971"></a>	C.DrawTextClipped("Artillery Coordinates");
<a name="2972"></a>
<a name="2973"></a>		X = 0.45 * C.ClipX;
<a name="2974"></a>	Y = 0.86 * C.ClipY;
<a name="2975"></a>  	C.SetPos(X,Y);
<a name="2976"></a>		C.DrawTileScaled(RadioIcon, Scale, Scale);
<a name="2977"></a>
<a name="2978"></a>	X = 0.48 * C.ClipX;
<a name="2979"></a>	Y = 0.86 * C.ClipY;
<a name="2980"></a>	C.SetPos(X , Y );
<a name="2981"></a>	C.DrawTextClipped("Artillery Radios");
<a name="2982"></a>
<a name="2983"></a>		X = 0.45 * C.ClipX;
<a name="2984"></a>	Y = 0.91 * C.ClipY;
<a name="2985"></a>  	C.SetPos(X,Y);
<a name="2986"></a>		C.DrawTileScaled(RallyPointIcon, Scale, Scale);
<a name="2987"></a>
<a name="2988"></a>	X = 0.48 * C.ClipX;
<a name="2989"></a>	Y = 0.91 * C.ClipY;
<a name="2990"></a>	C.SetPos(X , Y );
<a name="2991"></a>	C.DrawTextClipped("Rally Points");
<a name="2992"></a>
<a name="2993"></a>
<a name="2994"></a>		MyArtyCoords = ROPlayer(PlayerOwner).SavedArtilleryCoords;
<a name="2995"></a>
<a name="2996"></a>	// Draw the marked arty strike
<a name="2997"></a>	if (MyArtyCoords != vect(0,0,0))
<a name="2998"></a>	{
<a name="2999"></a>
<a name="3000"></a>		HUDLocation = MyArtyCoords - MapCenter;
<a name="3001"></a>		HUDLocation.Z = 0;
<a name="3002"></a>
<a name="3003"></a>		HUDLocation = GetAdjustedHudLocation(HUDLocation);
<a name="3004"></a>
<a name="3005"></a>		C.DrawColor = WhiteColor;
<a name="3006"></a>
<a name="3007"></a>	   	C.SetPos( CenterPosX + HUDLocation.X * MapScale - 16 * 0.5,
<a name="3008"></a>				  CenterPosY + HUDLocation.Y * MapScale - 16 * 0.5 );
<a name="3009"></a>
<a name="3010"></a>	    	C.DrawTileScaled(ArtilleryIcon, Scale, Scale);
<a name="3011"></a>	}
<a name="3012"></a>
<a name="3013"></a>	// The coordinates for the rally point
<a name="3014"></a>
<a name="3015"></a>	if ( OwnerTeam != 255 )
<a name="3016"></a>	{
<a name="3017"></a>	 	for (i = 0; i &lt; ArrayCount(GRI.AxisRallyPoints); i++)
<a name="3018"></a>		{
<a name="3019"></a>			if ( OwnerTeam == AXIS_TEAM_INDEX )
<a name="3020"></a>			{
<a name="3021"></a>				RallyPointCoords = GRI.AxisRallyPoints[i].RallyPointLocation;
<a name="3022"></a>			}
<a name="3023"></a>			else if ( OwnerTeam == ALLIES_TEAM_INDEX )
<a name="3024"></a>			{
<a name="3025"></a>				RallyPointCoords = GRI.AlliedRallyPoints[i].RallyPointLocation;
<a name="3026"></a>			}
<a name="3027"></a>
<a name="3028"></a>			// Draw the marked rally point
<a name="3029"></a>			if (RallyPointCoords != vect(0,0,0))
<a name="3030"></a>			{
<a name="3031"></a>
<a name="3032"></a>				HUDLocation = RallyPointCoords - MapCenter;
<a name="3033"></a>				HUDLocation.Z = 0;
<a name="3034"></a>
<a name="3035"></a>		          HUDLocation = GetAdjustedHudLocation(HUDLocation);
<a name="3036"></a>
<a name="3037"></a>				// Don't let rally point be drawn off the map
<a name="3038"></a>				if (abs(HUDLocation.X * MapScale) &lt; (RadarWidth) && abs(HUDLocation.Y  * MapScale) &lt; (RadarHeight))
<a name="3039"></a>				{
<a name="3040"></a>					C.SetPos( CenterPosX + HUDLocation.X * MapScale - 16 * 0.5,
<a name="3041"></a>					        CenterPosY + HUDLocation.Y * MapScale - 16 * 0.5 );
<a name="3042"></a>
<a name="3043"></a>					C.DrawColor = WhiteColor;
<a name="3044"></a>					C.DrawTileScaled(RallyPointIcon, Scale, Scale);
<a name="3045"></a>			    }
<a name="3046"></a>			}
<a name="3047"></a>		}
<a name="3048"></a>
<a name="3049"></a>		// Draw Artillery Radio Icons
<a name="3050"></a>		if ( OwnerTeam == AXIS_TEAM_INDEX )
<a name="3051"></a>		{
<a name="3052"></a>			for ( i = 0; i &lt; ArrayCount(GRI.AxisRadios); i++)
<a name="3053"></a>			{
<a name="3054"></a>				if(GRI.AxisRadios[i] == none)
<a name="3055"></a>					continue;
<a name="3056"></a>
<a name="3057"></a>				HUDLocation = GRI.AxisRadios[i].Location - MapCenter;
<a name="3058"></a>				HUDLocation.Z = 0;
<a name="3059"></a>
<a name="3060"></a>				HUDLocation = GetAdjustedHudLocation(HUDLocation);
<a name="3061"></a>
<a name="3062"></a>				C.DrawColor = WhiteColor;
<a name="3063"></a>
<a name="3064"></a>				C.SetPos( CenterPosX + HUDLocation.X * MapScale - 16 * 0.5,
<a name="3065"></a>				CenterPosY + HUDLocation.Y * MapScale - 16 * 0.5 );
<a name="3066"></a>
<a name="3067"></a>				C.DrawTileScaled(RadioIcon, Scale, Scale);
<a name="3068"></a>			}
<a name="3069"></a>		}
<a name="3070"></a>		else if ( OwnerTeam == ALLIES_TEAM_INDEX )
<a name="3071"></a>		{
<a name="3072"></a>			for ( i = 0; i &lt; ArrayCount(GRI.AlliedRadios); i++)
<a name="3073"></a>			{
<a name="3074"></a>				if(GRI.AlliedRadios[i] == none)
<a name="3075"></a>					continue;
<a name="3076"></a>
<a name="3077"></a>				HUDLocation = GRI.AlliedRadios[i].Location - MapCenter;
<a name="3078"></a>				HUDLocation.Z = 0;
<a name="3079"></a>
<a name="3080"></a>				HUDLocation = GetAdjustedHudLocation(HUDLocation);
<a name="3081"></a>
<a name="3082"></a>				C.DrawColor = WhiteColor;
<a name="3083"></a>
<a name="3084"></a>				C.SetPos( CenterPosX + HUDLocation.X * MapScale - 16 * 0.5,
<a name="3085"></a>				CenterPosY + HUDLocation.Y * MapScale - 16 * 0.5 );
<a name="3086"></a>
<a name="3087"></a>				C.DrawTileScaled(RadioIcon, Scale, Scale);
<a name="3088"></a>			}
<a name="3089"></a>		}
<a name="3090"></a>	}
<a name="3091"></a>
<a name="3092"></a>
<a name="3093"></a>	// Draw PlayerIcon
<a name="3094"></a>	// I'm not sure relying on a state is necessary or appropriate in this instance - Erik
<a name="3095"></a>	// Well Epic sure thought it was appropriate when they used it for thier onslaught overheads - Ramm
<a name="3096"></a>	// See ONSHUDOnslaught.uc for more details.
<a name="3097"></a>	// Move this down here so the player location is rendered on top of everything
<a name="3098"></a>	if (PawnOwner != None)
<a name="3099"></a>			A = PawnOwner;
<a name="3100"></a>		else if (PlayerOwner.IsInState('Spectating'))
<a name="3101"></a>			A = PlayerOwner;
<a name="3102"></a>		else if (PlayerOwner.Pawn != None)
<a name="3103"></a>			A = PlayerOwner.Pawn;
<a name="3104"></a>
<a name="3105"></a>	 PlayerIconSize = 32* Scale;
<a name="3106"></a>
<a name="3107"></a>	if (A != None)
<a name="3108"></a>	{
<a name="3109"></a>// MergeTODO: Add this back in
<a name="3110"></a>		PlayerIcon = PlayerArrowTexture;
<a name="3111"></a>	   	HUDLocation = A.Location - MapCenter;
<a name="3112"></a>	   	HUDLocation.Z = 0;
<a name="3113"></a>
<a name="3114"></a>		HUDLocation = GetAdjustedHudLocation(HUDLocation);
<a name="3115"></a>
<a name="3116"></a>		//modding
<a name="3117"></a>		if ( GRI.OverheadOffset == 90 )
<a name="3118"></a>		{
<a name="3119"></a>		 	TexRotator(PlayerIcon.Material).Rotation.Yaw = -A.Rotation.Yaw - 32768;
<a name="3120"></a>		}
<a name="3121"></a>		else if( GRI.OverheadOffset == 180 )
<a name="3122"></a>		{
<a name="3123"></a>		 	TexRotator(PlayerIcon.Material).Rotation.Yaw = -A.Rotation.Yaw - 49152;
<a name="3124"></a>		}
<a name="3125"></a>		else if( GRI.OverheadOffset == 270 )
<a name="3126"></a>		{
<a name="3127"></a>		 	TexRotator(PlayerIcon.Material).Rotation.Yaw = -A.Rotation.Yaw;
<a name="3128"></a>		}
<a name="3129"></a>		else
<a name="3130"></a>		{
<a name="3131"></a>		 	TexRotator(PlayerIcon.Material).Rotation.Yaw = -A.Rotation.Yaw - 16384;
<a name="3132"></a>		}
<a name="3133"></a>
<a name="3134"></a>		// Uncomment this if you don't want the player drawn off the map - Ramm
<a name="3135"></a>		//if (abs(HUDLocation.X * MapScale) &lt; (RadarWidth) && abs(HUDLocation.Y  * MapScale) &lt; (RadarHeight))
<a name="3136"></a>		//{
<a name="3137"></a>		C.SetPos( CenterPosX + HUDLocation.X * MapScale - PlayerIconSize * 0.5,
<a name="3138"></a>		               CenterPosY + HUDLocation.Y * MapScale - PlayerIconSize * 0.5 );
<a name="3139"></a>
<a name="3140"></a>		  C.DrawColor = C.MakeColor(255,0,0);
<a name="3141"></a>		  C.DrawTile(PlayerIcon/*PlayerIcon*/, PlayerIconSize, PlayerIconSize, 0, 0, 64, 64);
<a name="3142"></a>		  C.DrawColor = WhiteColor;
<a name="3143"></a>		//}
<a name="3144"></a>		//else
<a name="3145"></a>		//{
<a name="3146"></a>		//log("We are drawing off the map");
<a name="3147"></a>		//}
<a name="3148"></a>	}
<a name="3149"></a>
<a name="3150"></a>		// Overhead map debugging
<a name="3151"></a>	if (Level.NetMode == NM_Standalone && ROTeamGame(Level.Game).LevelInfo.bDebugOverhead)
<a name="3152"></a>	{
<a name="3153"></a>		// Corner debugging
<a name="3154"></a>		HUDLocation = GRI.NorthEastBounds - MapCenter;
<a name="3155"></a>		HUDLocation.Z = 0;
<a name="3156"></a>
<a name="3157"></a>		HUDLocation = GetAdjustedHudLocation(HUDLocation);
<a name="3158"></a>
<a name="3159"></a>		C.SetPos( CenterPosX + HUDLocation.X * MapScale - 16 * 0.5,
<a name="3160"></a>		         CenterPosY + HUDLocation.Y * MapScale - 16 * 0.5 );
<a name="3161"></a>		C.DrawTileScaled(NationIcons[GRI.NationIndex[ALLIES_TEAM_INDEX]], Scale, Scale);
<a name="3162"></a>
<a name="3163"></a>		HUDLocation = GRI.SouthWestBounds - MapCenter;
<a name="3164"></a>		HUDLocation.Z = 0;
<a name="3165"></a>
<a name="3166"></a>		HUDLocation = GetAdjustedHudLocation(HUDLocation);
<a name="3167"></a>
<a name="3168"></a>		C.SetPos( CenterPosX + HUDLocation.X * MapScale - 16 * 0.5,
<a name="3169"></a>		   CenterPosY + HUDLocation.Y * MapScale - 16 * 0.5 );
<a name="3170"></a>		C.DrawTileScaled(NationIcons[GRI.NationIndex[AXIS_TEAM_INDEX]], Scale, Scale);
<a name="3171"></a>	}
<a name="3172"></a>	// reset hud opacity back to original value
<a name="3173"></a>	C.ColorModulate.W = SavedOpacity;
<a name="3174"></a>}*/</span>
<a name="3175"></a>
<a name="3176"></a><span class="source_comment">// This function will adjust a hud map location based on the rotation offset of the overhead map
</span><a name="3177"></a>simulated function <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> GetAdjustedHudLocation(<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> HudLoc, optional <span class="source_type">bool</span> bInvert)
<a name="3178"></a>{
<a name="3179"></a>	local <span class="source_type">float</span> SwapX, SwapY;
<a name="3180"></a>	local <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span> GRI;
<a name="3181"></a>	local <span class="source_type">int</span> OverheadOffset;
<a name="3182"></a>
<a name="3183"></a>	GRI = <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span>(PlayerOwner.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>);
<a name="3184"></a>	OverheadOffset = GRI.OverheadOffset;
<a name="3185"></a>
<a name="3186"></a>	if (bInvert)
<a name="3187"></a>	{
<a name="3188"></a>	    if (OverheadOffset == <span class="source_int">90</span>)
<a name="3189"></a>	       OverheadOffset = <span class="source_int">270</span>;
<a name="3190"></a>	    else if (OverheadOffset == <span class="source_int">270</span>)
<a name="3191"></a>	       OverheadOffset = <span class="source_int">90</span>;
<a name="3192"></a>	}
<a name="3193"></a>
<a name="3194"></a>	<span class="source_comment">//modding
</span><a name="3195"></a>	if (OverheadOffset  == <span class="source_int">90</span> )
<a name="3196"></a>	{
<a name="3197"></a>		SwapX = HudLoc.<span class="source_type">Y</span> * -<span class="source_int">1</span>;
<a name="3198"></a>		SwapY = HudLoc.<span class="source_type">X</span> ;
<a name="3199"></a>		HudLoc.<span class="source_type">X</span> = SwapX;
<a name="3200"></a>		HudLoc.<span class="source_type">Y</span> = SwapY;
<a name="3201"></a>	}
<a name="3202"></a>	else if( OverheadOffset == <span class="source_int">180</span> )
<a name="3203"></a>	{
<a name="3204"></a>		SwapX = HudLoc.<span class="source_type">X</span> * -<span class="source_int">1</span>;
<a name="3205"></a>		SwapY = HudLoc.<span class="source_type">Y</span> * -<span class="source_int">1</span>;
<a name="3206"></a>		HudLoc.<span class="source_type">X</span> = SwapX;
<a name="3207"></a>		HudLoc.<span class="source_type">Y</span> = SwapY;
<a name="3208"></a>	}
<a name="3209"></a>	else if( OverheadOffset == <span class="source_int">270</span> )
<a name="3210"></a>	{
<a name="3211"></a>		SwapX = HudLoc.<span class="source_type">Y</span>;
<a name="3212"></a>		SwapY = HudLoc.<span class="source_type">X</span> * -<span class="source_int">1</span>;
<a name="3213"></a>		HudLoc.<span class="source_type">X</span> = SwapX;
<a name="3214"></a>		HudLoc.<span class="source_type">Y</span> = SwapY;
<a name="3215"></a>	}
<a name="3216"></a>
<a name="3217"></a>	return HudLoc;
<a name="3218"></a>}
<a name="3219"></a>
<a name="3220"></a>simulated function DrawCompass(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>)
<a name="3221"></a>{
<a name="3222"></a>	local <span class="source_type">float</span> XL, <span class="source_type">YL</span>, playerRot, compensation;
<a name="3223"></a>	local <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> <span class="source_type">A</span>;
<a name="3224"></a>	local <span class="source_type"><a href="../roengine/rohud.html#AbsoluteCoordsInfo" class="source">AbsoluteCoordsInfo</a></span> GlobalCoors;
<a name="3225"></a>	local <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span> GRI;
<a name="3226"></a>	local <span class="source_type">int</span> OverheadOffset;
<a name="3227"></a>	local <span class="source_type">float</span> pawnRotation;
<a name="3228"></a>	local <span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span> <span class="source_type"><a href="../engine/player.html" class="source">player</a></span>;
<a name="3229"></a>	local <span class="source_type"><a href="../roengine/rovehicleweaponpawn.html" class="source">ROVehicleWeaponPawn</a></span> myVehicleWeaponPawn;
<a name="3230"></a>
<a name="3231"></a>	<span class="source_comment">// Setup constants
</span><a name="3232"></a>	GlobalCoors.<span class="source_type">width</span> = <span class="source_type">C</span>.ClipX;
<a name="3233"></a>	GlobalCoors.height = <span class="source_type">C</span>.ClipY;
<a name="3234"></a>	GRI = <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span>(PlayerOwner.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>);
<a name="3235"></a>	OverheadOffset = GRI.OverheadOffset;
<a name="3236"></a>
<a name="3237"></a>	<span class="source_comment">// Get player actor
</span><a name="3238"></a>	if (PawnOwner != None)
<a name="3239"></a>		<span class="source_type">A</span> = PawnOwner;
<a name="3240"></a>	else if (PlayerOwner.IsInState(<span class="source_name">'Spectating'</span>))
<a name="3241"></a>		<span class="source_type">A</span> = PlayerOwner;
<a name="3242"></a>	else if (PlayerOwner.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> != None)
<a name="3243"></a>		<span class="source_type">A</span> = PlayerOwner.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>;
<a name="3244"></a>
<a name="3245"></a>	<span class="source_comment">// Fix for frelled rotation on weapon pawns
</span><a name="3246"></a>	myVehicleWeaponPawn = <span class="source_type"><a href="../roengine/rovehicleweaponpawn.html" class="source">ROVehicleWeaponPawn</a></span>(<span class="source_type">A</span>);
<a name="3247"></a>	if (myVehicleWeaponPawn != none)
<a name="3248"></a>	{
<a name="3249"></a>	   <span class="source_type"><a href="../engine/player.html" class="source">player</a></span> = <span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(myVehicleWeaponPawn.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>);
<a name="3250"></a>	   if (<span class="source_type"><a href="../engine/player.html" class="source">player</a></span> != none && myVehicleWeaponPawn.VehicleBase != none)
<a name="3251"></a>	       pawnRotation = <span class="source_type"><a href="../engine/player.html" class="source">player</a></span>.CalcViewRotation.Yaw;
<a name="3252"></a>	   else if (myVehicleWeaponPawn.VehicleBase != none)
<a name="3253"></a>	       pawnRotation = myVehicleWeaponPawn.VehicleBase.<span class="source_type">Rotation</span>.Yaw;
<a name="3254"></a>	   else
<a name="3255"></a>	       pawnRotation = <span class="source_type">A</span>.<span class="source_type">Rotation</span>.Yaw;
<a name="3256"></a>	}
<a name="3257"></a>	else if (<span class="source_type">A</span> != none)
<a name="3258"></a>	   pawnRotation = <span class="source_type">A</span>.<span class="source_type">Rotation</span>.Yaw;
<a name="3259"></a>
<a name="3260"></a>	<span class="source_comment">// Compensate for map rotation
</span><a name="3261"></a>	compensation = <span class="source_type">float</span>(OverheadOffset) / <span class="source_int">90</span> * <span class="source_int">16384</span> + <span class="source_int">16384</span>;
<a name="3262"></a>
<a name="3263"></a>	<span class="source_comment">// Figure which direction we're pointing
</span><a name="3264"></a>	if (<span class="source_type">A</span> != none)
<a name="3265"></a>	   playerRot = pawnRotation + compensation;
<a name="3266"></a>	else <span class="source_comment">// shouldn't ever happen but better safe than log-spammy
</span><a name="3267"></a>	   playerRot = compassCurrentRotation;
<a name="3268"></a>
<a name="3269"></a>	<span class="source_comment">// Pre-bind compass rotation to a -32000 to 32000 range relative to playerRot
</span><a name="3270"></a>	while (compassCurrentRotation - playerRot &gt; <span class="source_int">32768</span>)
<a name="3271"></a>		compassCurrentRotation -= <span class="source_int">65536</span>;
<a name="3272"></a>	while (compassCurrentRotation - playerRot &lt; -<span class="source_int">32768</span>)
<a name="3273"></a>		compassCurrentRotation += <span class="source_int">65536</span>;
<a name="3274"></a>
<a name="3275"></a>	<span class="source_comment">// Update compass rotation
</span><a name="3276"></a>	compassCurrentRotation = compassCurrentRotation + compassStabilizationConstant * (playerRot - compassCurrentRotation) * (<span class="source_type">Level</span>.TimeSeconds - hudLastRenderTime);
<a name="3277"></a>
<a name="3278"></a>	<span class="source_comment">// Update needle rotation
</span><a name="3279"></a>	<span class="source_type"><a href="../engine/texrotator.html" class="source">TexRotator</a></span>(CompassNeedle.WidgetTexture).<span class="source_type">Rotation</span>.Yaw = compassCurrentRotation;
<a name="3280"></a>
<a name="3281"></a>	<span class="source_comment">// Draw compass base (fake, only to get sizes)
</span><a name="3282"></a>	DrawSpriteWidgetClipped(<span class="source_type">C</span>, CompassBase, GlobalCoors, true, XL, <span class="source_type">YL</span>, true, true, true);
<a name="3283"></a>
<a name="3284"></a>	<span class="source_comment">// Calculate needle screen offset
</span><a name="3285"></a>	CompassNeedle.OffsetX = (GlobalCoors.<span class="source_type">Width</span> * -<span class="source_int">0.005</span>) + default.CompassNeedle.OffsetX +<span class="source_comment">//default.CompassNeedle.OffsetX * CompassBase.TextureScale +
</span><a name="3286"></a>		CompassBase.OffsetX - XL / HudScale / <span class="source_int">2</span>;
<a name="3287"></a>	CompassNeedle.OffsetY = default.CompassNeedle.OffsetY +<span class="source_comment">//default.CompassNeedle.OffsetY * CompassBase.TextureScale +
</span><a name="3288"></a>		CompassBase.OffsetY - <span class="source_type">YL</span> / HudScale  / <span class="source_int">2</span>;
<a name="3289"></a>	<span class="source_comment">//CompassXL = abs(CompassNeedle.OffsetX - XL / 2);
</span><a name="3290"></a>	<span class="source_comment">//CompassYL = abs(CompassNeedle.OffsetY - YL / 2);
</span><a name="3291"></a>
<a name="3292"></a>	<span class="source_comment">// Draw the compass needle
</span><a name="3293"></a>	DrawSpriteWidgetClipped(<span class="source_type">C</span>, CompassNeedle, GlobalCoors, true, XL, <span class="source_type">YL</span>, true, true, true);
<a name="3294"></a>
<a name="3295"></a>	<span class="source_comment">// Draw compass base
</span><a name="3296"></a>	DrawSpriteWidgetClipped(<span class="source_type">C</span>, CompassBase, GlobalCoors, true, XL, <span class="source_type">YL</span>, true, true, true);
<a name="3297"></a>
<a name="3298"></a>	<span class="source_comment">// Draw icons
</span><a name="3299"></a>	if (CompassIconsOpacity &gt; <span class="source_int">0</span> || bShowObjectives)
<a name="3300"></a>		DrawCompassIcons(<span class="source_type">C</span>, CompassNeedle.OffsetX, CompassNeedle.OffsetY,
<a name="3301"></a>						XL / HudScale / <span class="source_int">2</span> * compassIconsPositionRadius, -(<span class="source_type">A</span>.<span class="source_type">Rotation</span>.Yaw + <span class="source_int">16384</span>), <span class="source_type">A</span>, GlobalCoors);
<a name="3302"></a>}
<a name="3303"></a>
<a name="3304"></a><span class="source_comment">// Draw the required icons on the compass
</span><a name="3305"></a>simulated function DrawCompassIcons(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>, <span class="source_type">float</span> CenterX, <span class="source_type">float</span> CenterY, <span class="source_type">float</span> <span class="source_type">Radius</span>,
<a name="3306"></a>									<span class="source_type">float</span> rotationCompensation, <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> viewer, <span class="source_type"><a href="../roengine/rohud.html#AbsoluteCoordsInfo" class="source">AbsoluteCoordsInfo</a></span> GlobalCoords)
<a name="3307"></a>{
<a name="3308"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">target</span>, current;
<a name="3309"></a>	local <span class="source_type">int</span> <span class="source_type">i</span>, <span class="source_type">team</span>, id, count, temp_team;
<a name="3310"></a>	local <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span> GRI;
<a name="3311"></a>	local <span class="source_type">float</span> angle, XL, <span class="source_type">YL</span>;
<a name="3312"></a>	local <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span> rotAngle;
<a name="3313"></a>
<a name="3314"></a>	<span class="source_comment">// Decrement opacity if needed, increment if needed
</span><a name="3315"></a>	if (bShowObjectives)
<a name="3316"></a>		compassIconsOpacity = fmin(<span class="source_int">1.0</span>, compassIconsOpacity + compassIconsRefreshSpeed * (<span class="source_type">Level</span>.TimeSeconds - hudLastRenderTime));
<a name="3317"></a>	else
<a name="3318"></a>		compassIconsOpacity -= compassIconsFadeSpeed * (<span class="source_type">Level</span>.TimeSeconds - hudLastRenderTime);
<a name="3319"></a>
<a name="3320"></a>	<span class="source_comment">// Get user's team & position
</span><a name="3321"></a>	if (<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>(viewer) != none)
<a name="3322"></a>	{
<a name="3323"></a>		if (<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>(viewer).<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != none)
<a name="3324"></a>			<span class="source_type">team</span> = <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>(viewer).<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.TeamIndex;
<a name="3325"></a>		else
<a name="3326"></a>			<span class="source_type">team</span> = <span class="source_int">255</span>;
<a name="3327"></a>	}
<a name="3328"></a>	else
<a name="3329"></a>	{
<a name="3330"></a>		if (<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>(viewer) != none)
<a name="3331"></a>			<span class="source_type">team</span> = <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>(viewer).<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.TeamIndex;
<a name="3332"></a>		else
<a name="3333"></a>			<span class="source_type">team</span> = <span class="source_int">255</span>;
<a name="3334"></a>	}
<a name="3335"></a>	current = viewer.location;
<a name="3336"></a>
<a name="3337"></a>	<span class="source_comment">// Get GRI
</span><a name="3338"></a>	GRI = <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span>(PlayerOwner.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>);
<a name="3339"></a>	if (GRI == none)
<a name="3340"></a>		return;
<a name="3341"></a>
<a name="3342"></a>	<span class="source_comment">// Update waypoints array if needed
</span><a name="3343"></a>	if (bShowObjectives)
<a name="3344"></a>	{
<a name="3345"></a>		temp_team = <span class="source_type">max</span>(<span class="source_int">0</span>, min(<span class="source_int">1</span>, <span class="source_type">team</span>));
<a name="3346"></a>
<a name="3347"></a>		count = <span class="source_int">0</span>;
<a name="3348"></a>		<span class="source_comment">// Clear old array
</span><a name="3349"></a>		for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; arraycount(compassIconsTargetsActive); <span class="source_type">i</span>++)
<a name="3350"></a>			compassIconsTargetsActive[<span class="source_type">i</span>] = <span class="source_int">0</span>;
<a name="3351"></a>
<a name="3352"></a>		if (<span class="source_type">team</span> == AXIS_TEAM_INDEX || <span class="source_type">team</span> == ALLIES_TEAM_INDEX)
<a name="3353"></a>		{
<a name="3354"></a>			<span class="source_comment">// Add under-attack objectives (territory objs only)
</span><a name="3355"></a>			<span class="source_comment">/*for (i = 0; i &lt; ArrayCount(GRI.Objectives); i++)
<a name="3356"></a>			{
<a name="3357"></a>				if (GRI.Objectives[i] == none || GRI.Objectives[i].CompressedCapProgress == 0
<a name="3358"></a>					|| GRI.Objectives[i].CurrentCapTeam == NEUTRAL_TEAM_INDEX)
<a name="3359"></a>				{
<a name="3360"></a>				    continue;
<a name="3361"></a>				}
<a name="3362"></a>
<a name="3363"></a>				// if array is full, stop adding waypoints
<a name="3364"></a>				if (count &gt;= arraycount(compassIconsTargetsActive))
<a name="3365"></a>				    break;
<a name="3366"></a>				compassIconsTargetsActive[count] = 1;
<a name="3367"></a>
<a name="3368"></a>				if (GRI.Objectives[i].ObjState == OBJ_Axis)
<a name="3369"></a>				    compassIconsTargetsColor[count] = compassIconsColorsAxis;
<a name="3370"></a>				else if (GRI.Objectives[i].ObjState == OBJ_Allies)
<a name="3371"></a>					compassIconsTargetsColor[count] = compassIconsColorsAllies;
<a name="3372"></a>				else
<a name="3373"></a>				    compassIconsTargetsColor[count] = compassIconsColorsNeutral;
<a name="3374"></a>
<a name="3375"></a>				compassIconsTargets[count] = GRI.Objectives[i].location;
<a name="3376"></a>
<a name="3377"></a>				count++;
<a name="3378"></a>			}*/</span>
<a name="3379"></a>
<a name="3380"></a>			<span class="source_comment">// Add all rally points
</span><a name="3381"></a>			for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(GRI.AxisRallyPoints); <span class="source_type">i</span>++)
<a name="3382"></a>			{
<a name="3383"></a>				<span class="source_comment">// if array is full, stop adding waypoints
</span><a name="3384"></a>				if (count &gt;= arraycount(compassIconsTargetsActive))
<a name="3385"></a>				    break;
<a name="3386"></a>				<span class="source_comment">//compassIconsTargetsColor[count] = compassIconsColorsRally;
</span><a name="3387"></a>
<a name="3388"></a>				if (<span class="source_type">team</span> == AXIS_TEAM_INDEX)
<a name="3389"></a>					<span class="source_type">target</span> = GRI.AxisRallyPoints[<span class="source_type">i</span>].RallyPointLocation;
<a name="3390"></a>				else
<a name="3391"></a>					<span class="source_type">target</span> = GRI.AlliedRallyPoints[<span class="source_type">i</span>].RallyPointLocation;
<a name="3392"></a>				compassIconsTargetsWidgetCoords[count] = MapIconRally[temp_team].TextureCoords;
<a name="3393"></a>
<a name="3394"></a>				if (<span class="source_type">target</span> != vect(<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_int">0</span>))
<a name="3395"></a>				{
<a name="3396"></a>					compassIconsTargets[count] =  <span class="source_type">target</span>;
<a name="3397"></a>		   			compassIconsTargetsActive[count] = <span class="source_int">1</span>;
<a name="3398"></a>					count++;
<a name="3399"></a>				}
<a name="3400"></a>
<a name="3401"></a>			}
<a name="3402"></a>
<a name="3403"></a>			<span class="source_comment">// Add all help requests
</span><a name="3404"></a>			for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(GRI.AxisHelpRequests); <span class="source_type">i</span>++)
<a name="3405"></a>			{
<a name="3406"></a>				<span class="source_comment">// if array is full, stop adding waypoints
</span><a name="3407"></a>				if (count &gt;= arraycount(compassIconsTargetsActive))
<a name="3408"></a>				    break;
<a name="3409"></a>
<a name="3410"></a>				if (<span class="source_type">team</span> == AXIS_TEAM_INDEX)
<a name="3411"></a>				{
<a name="3412"></a>					<span class="source_type">target</span> = GRI.AxisHelpRequestsLocs[<span class="source_type">i</span>];
<a name="3413"></a>					id = GRI.AxisHelpRequests[<span class="source_type">i</span>].requestType;
<a name="3414"></a>				}
<a name="3415"></a>				else
<a name="3416"></a>				{
<a name="3417"></a>					<span class="source_type">target</span> = GRI.AlliedHelpRequestsLocs[<span class="source_type">i</span>];
<a name="3418"></a>					id = GRI.AlliedHelpRequests[<span class="source_type">i</span>].requestType;
<a name="3419"></a>				}
<a name="3420"></a>
<a name="3421"></a>				if (id != <span class="source_int">255</span>)
<a name="3422"></a>				{
<a name="3423"></a>					if (id == <span class="source_int">3</span>) <span class="source_comment">// MG resupply
</span><a name="3424"></a>						compassIconsTargetsWidgetCoords[count] = MapIconMGResupplyRequest[temp_team].TextureCoords;
<a name="3425"></a>						<span class="source_comment">//compassIconsTargetsColor[count] = compassIconsColorsMGResupply;
</span><a name="3426"></a>					else if (id == <span class="source_int">0</span> || id == <span class="source_int">4</span>) <span class="source_comment">// Help request at coords or at obj
</span><a name="3427"></a>						compassIconsTargetsWidgetCoords[count] = MapIconHelpRequest.TextureCoords;
<a name="3428"></a>						<span class="source_comment">//compassIconsTargetsColor[count] = compassIconsColorsHelpRequests;
</span><a name="3429"></a>					else if (id == <span class="source_int">1</span> || id == <span class="source_int">2</span>) <span class="source_comment">// Attack/defend obj
</span><a name="3430"></a>						compassIconsTargetsWidgetCoords[count] = MapIconAttackDefendRequest.TextureCoords;
<a name="3431"></a>						<span class="source_comment">//compassIconsTargetsColor[count] = compassIconsColorsHelpRequests;
</span><a name="3432"></a>					else
<a name="3433"></a>						continue;
<a name="3434"></a>
<a name="3435"></a>					compassIconsTargets[count] =  <span class="source_type">target</span>;
<a name="3436"></a>		   			compassIconsTargetsActive[count] = <span class="source_int">1</span>;
<a name="3437"></a>					count++;
<a name="3438"></a>				}
<a name="3439"></a>			}
<a name="3440"></a>
<a name="3441"></a>		}
<a name="3442"></a>	}
<a name="3443"></a>
<a name="3444"></a>	<span class="source_comment">// Go through waypoint array and draw the icons
</span><a name="3445"></a>	for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(compassIconsTargetsActive); <span class="source_type">i</span>++)
<a name="3446"></a>	{
<a name="3447"></a>		if (compassIconsTargetsActive[<span class="source_type">i</span>] == <span class="source_int">1</span>)
<a name="3448"></a>		{
<a name="3449"></a>			<span class="source_comment">// Update widget color & texture
</span><a name="3450"></a>			<span class="source_comment">//CompassIcons.Tints[TeamIndex] = compassIconsTargetsColor[i];
</span><a name="3451"></a>			<span class="source_comment">//CompassIcons.Tints[TeamIndex].A = float(compassIconsTargetsColor[i].A) * compassIconsOpacity;
</span><a name="3452"></a>			<span class="source_comment">//CompassIcons.WidgetTexture = compassIconsRotators[i];
</span><a name="3453"></a>			CompassIcons.TextureCoords = compassIconsTargetsWidgetCoords[<span class="source_type">i</span>];
<a name="3454"></a>			CompassIcons.Tints[TeamIndex].<span class="source_type">A</span> = <span class="source_type">float</span>(default.CompassIcons.Tints[TeamIndex].<span class="source_type">A</span>) * compassIconsOpacity;
<a name="3455"></a>
<a name="3456"></a>			<span class="source_comment">// Calculate rotation
</span><a name="3457"></a>			rotAngle = <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span>(compassIconsTargets[<span class="source_type">i</span>] - current);
<a name="3458"></a>			angle = (rotAngle.Yaw + rotationCompensation) * PI / <span class="source_int">32768</span>;
<a name="3459"></a>
<a name="3460"></a>			<span class="source_comment">// Update texrotator rotation
</span><a name="3461"></a>			<span class="source_comment">//compassIconsRotators[i].Rotation.yaw = -rotAngle.Yaw - rotationCompensation - 8192;
</span><a name="3462"></a>
<a name="3463"></a>			<span class="source_comment">// Update widget offset
</span><a name="3464"></a>			CompassIcons.OffsetX = CenterX + <span class="source_type">Radius</span> * cos(angle);
<a name="3465"></a>			CompassIcons.OffsetY = CenterY + <span class="source_type">Radius</span> * sin(angle);
<a name="3466"></a>
<a name="3467"></a>			<span class="source_comment">// Draw waypoint image
</span><a name="3468"></a>			DrawSpriteWidgetClipped(<span class="source_type">C</span>, CompassIcons, GlobalCoords, true, XL, <span class="source_type">YL</span>, true, true, true);
<a name="3469"></a>		}
<a name="3470"></a>	}
<a name="3471"></a>
<a name="3472"></a>}
<a name="3473"></a>
<a name="3474"></a><span class="source_comment">// Draw a single icon on the compass
</span><a name="3475"></a>simulated function DrawCompassIcon(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>, <span class="source_type"><a href="../roengine/rohud.html#AbsoluteCoordsInfo" class="source">AbsoluteCoordsInfo</a></span> G, <span class="source_type">float</span> <span class="source_type">radius</span>, <span class="source_type">float</span> rotComp, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> diff, <span class="source_type">float</span> <span class="source_type">X</span>, <span class="source_type">float</span> <span class="source_type">Y</span>)
<a name="3476"></a>{
<a name="3477"></a>	local <span class="source_type">float</span> angle, XL, <span class="source_type">YL</span>;
<a name="3478"></a>	local <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span> rotAngle;
<a name="3479"></a>
<a name="3480"></a>	rotAngle = <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span>(diff);
<a name="3481"></a>	<span class="source_comment">//angle = (rotAngle.Yaw + rotComp - 16384) * PI / 32768; // non-rotating icons
</span><a name="3482"></a>	angle = (rotAngle.Yaw + rotComp) * PI / <span class="source_int">32768</span>; <span class="source_comment">// icons rotating with player
</span><a name="3483"></a>
<a name="3484"></a>	diff.<span class="source_type">Z</span> = <span class="source_int">0</span>;
<a name="3485"></a>	XL = <span class="source_type">radius</span>; <span class="source_comment">//* fmin(1, VSize(diff)/compassIconsUUDistance);
</span><a name="3486"></a>
<a name="3487"></a>	CompassIcons.OffsetX = <span class="source_type">X</span> + XL * cos(angle);
<a name="3488"></a>	CompassIcons.OffsetY = <span class="source_type">Y</span> + XL * sin(angle);
<a name="3489"></a>	DrawSpriteWidgetClipped(<span class="source_type">C</span>, CompassIcons, G, true, XL, <span class="source_type">YL</span>, true, true, true);
<a name="3490"></a>}
<a name="3491"></a>
<a name="3492"></a>simulated function DrawLocationHits(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>, <span class="source_type"><a href="../roengine/ropawn.html" class="source">ROPawn</a></span> <span class="source_type">P</span>)
<a name="3493"></a>{
<a name="3494"></a>	local <span class="source_type">int</span> <span class="source_type">i</span>;
<a name="3495"></a>	local <span class="source_type">bool</span> bNewDrawHits;
<a name="3496"></a>	local <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span> widget;
<a name="3497"></a>
<a name="3498"></a>	for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; arraycount(<span class="source_type">P</span>.DamageList); <span class="source_type">i</span>++)
<a name="3499"></a>	{
<a name="3500"></a>		if (<span class="source_type">P</span>.DamageList[<span class="source_type">i</span>] &gt; <span class="source_int">0</span>)
<a name="3501"></a>		{
<a name="3502"></a>			<span class="source_comment">// Draw hit
</span><a name="3503"></a>			widget = HealthFigure;
<a name="3504"></a>			if (TeamIndex == AXIS_TEAM_INDEX)
<a name="3505"></a>				widget.WidgetTexture = locationHitAxisImages[<span class="source_type">i</span>];
<a name="3506"></a>			else if (TeamIndex == AXIS_TEAM_INDEX)
<a name="3507"></a>				widget.WidgetTexture = locationHitAlliesImages[<span class="source_type">i</span>];
<a name="3508"></a>			else
<a name="3509"></a>				continue;
<a name="3510"></a>
<a name="3511"></a>			DrawSpriteWidget(<span class="source_type">C</span>, widget);
<a name="3512"></a>
<a name="3513"></a>			if (locationHitAlphas[<span class="source_type">i</span>] &gt; <span class="source_int">0</span>)
<a name="3514"></a>				bNewDrawHits = true;
<a name="3515"></a>		}
<a name="3516"></a>	}
<a name="3517"></a>
<a name="3518"></a>	bDrawHits = bNewDrawHits;
<a name="3519"></a>}
<a name="3520"></a>
<a name="3521"></a>simulated function DrawCaptureBar(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>)
<a name="3522"></a>{
<a name="3523"></a>	local <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span> GRI;
<a name="3524"></a>	local <span class="source_type"><a href="../roengine/ropawn.html" class="source">ROPawn</a></span> <span class="source_type">p</span>;
<a name="3525"></a>	local <span class="source_type"><a href="../roengine/rovehicle.html" class="source">ROVehicle</a></span> veh;
<a name="3526"></a>	local <span class="source_type"><a href="../roengine/rovehicleweaponpawn.html" class="source">ROVehicleWeaponPawn</a></span> pveh;
<a name="3527"></a>	local <span class="source_type">int</span> <span class="source_type">team</span>;
<a name="3528"></a>	local <span class="source_type">byte</span> CurrentCapArea, CurrentCapProgress, CurrentCapAxisCappers, CurrentCapAlliesCappers;
<a name="3529"></a>	local <span class="source_type">float</span> axis_progress, allies_progress;
<a name="3530"></a>	local <span class="source_type">float</span> attackers_progress, attackers_ratio, defenders_progress, defenders_ratio;
<a name="3531"></a>	local <span class="source_type">float</span> XL, <span class="source_type">YL</span>, Y_pos;
<a name="3532"></a>	local <span class="source_type">string</span> <span class="source_type">s</span>;
<a name="3533"></a>
<a name="3534"></a>	bDrawingCaptureBar = false;
<a name="3535"></a>
<a name="3536"></a>	<span class="source_comment">// Don't draw if we have no associated pawn!
</span><a name="3537"></a>	if (PawnOwner == none)
<a name="3538"></a>		return;
<a name="3539"></a>
<a name="3540"></a>	<span class="source_comment">// Get capture info from associated pawn
</span><a name="3541"></a>	<span class="source_type">p</span> = <span class="source_type"><a href="../roengine/ropawn.html" class="source">ROPawn</a></span>(PawnOwner);
<a name="3542"></a>	if (<span class="source_type">p</span> != none)
<a name="3543"></a>	{
<a name="3544"></a>		CurrentCapArea = <span class="source_type">p</span>.CurrentCapArea;
<a name="3545"></a>		CurrentCapProgress = <span class="source_type">p</span>.CurrentCapProgress;
<a name="3546"></a>		CurrentCapAxisCappers = <span class="source_type">p</span>.CurrentCapAxisCappers;
<a name="3547"></a>		CurrentCapAlliesCappers = <span class="source_type">p</span>.CurrentCapAlliesCappers;
<a name="3548"></a>	}
<a name="3549"></a>	else
<a name="3550"></a>	{
<a name="3551"></a>		<span class="source_comment">// Not a ROPawn, check if current pawn is a vehicle
</span><a name="3552"></a>		veh = <span class="source_type"><a href="../roengine/rovehicle.html" class="source">ROVehicle</a></span>(PawnOwner);
<a name="3553"></a>		if (veh != none)
<a name="3554"></a>		{
<a name="3555"></a>			CurrentCapArea = veh.CurrentCapArea;
<a name="3556"></a>			CurrentCapProgress = veh.CurrentCapProgress;
<a name="3557"></a>			CurrentCapAxisCappers = veh.CurrentCapAxisCappers;
<a name="3558"></a>			CurrentCapAlliesCappers = veh.CurrentCapAlliesCappers;
<a name="3559"></a>		}
<a name="3560"></a>		else
<a name="3561"></a>		{
<a name="3562"></a>			<span class="source_comment">// Not a ROVehicle, check if current pawn is a ROVehicleWeaponPawn
</span><a name="3563"></a>			pveh = <span class="source_type"><a href="../roengine/rovehicleweaponpawn.html" class="source">ROVehicleWeaponPawn</a></span>(PawnOwner);
<a name="3564"></a>			if (pveh != none)
<a name="3565"></a>			{
<a name="3566"></a>				CurrentCapArea = pveh.CurrentCapArea;
<a name="3567"></a>				CurrentCapProgress = pveh.CurrentCapProgress;
<a name="3568"></a>				CurrentCapAxisCappers = pveh.CurrentCapAxisCappers;
<a name="3569"></a>				CurrentCapAlliesCappers = pveh.CurrentCapAlliesCappers;
<a name="3570"></a>			}
<a name="3571"></a>			else
<a name="3572"></a>			{
<a name="3573"></a>				<span class="source_comment">// Unsupported pawn type, return.
</span><a name="3574"></a>				return;
<a name="3575"></a>			}
<a name="3576"></a>		}
<a name="3577"></a>	}
<a name="3578"></a>
<a name="3579"></a>	<span class="source_comment">// Don't render if we're not in a capture zone
</span><a name="3580"></a>	if (CurrentCapArea == <span class="source_int">255</span>)
<a name="3581"></a>		return;
<a name="3582"></a>
<a name="3583"></a>	<span class="source_comment">// Get GRI
</span><a name="3584"></a>	GRI = <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span>(PlayerOwner.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>);
<a name="3585"></a>	if (GRI == none)
<a name="3586"></a>		return; <span class="source_comment">// Can't draw without a gri!
</span><a name="3587"></a>
<a name="3588"></a>	<span class="source_comment">// Get current team
</span><a name="3589"></a>	if (PawnOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != none && PawnOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span> != none)
<a name="3590"></a>		<span class="source_type">team</span> = PawnOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.TeamIndex;
<a name="3591"></a>	else
<a name="3592"></a>		<span class="source_type">team</span> = <span class="source_int">0</span>;
<a name="3593"></a>
<a name="3594"></a>	<span class="source_comment">// Get current cap progress on a 0-1 scale for each team
</span><a name="3595"></a>	if (CurrentCapProgress == <span class="source_int">0</span>)
<a name="3596"></a>	{
<a name="3597"></a>		if (GRI.Objectives[CurrentCapArea].ObjState == NEUTRAL_TEAM_INDEX)
<a name="3598"></a>		{
<a name="3599"></a>			allies_progress = <span class="source_int">0</span>;
<a name="3600"></a>			axis_progress = <span class="source_int">0</span>;
<a name="3601"></a>		}
<a name="3602"></a>		else if (GRI.Objectives[CurrentCapArea].ObjState == AXIS_TEAM_INDEX)
<a name="3603"></a>		{
<a name="3604"></a>			allies_progress = <span class="source_int">0</span>;
<a name="3605"></a>			axis_progress = <span class="source_int">1</span>;
<a name="3606"></a>		}
<a name="3607"></a>		else
<a name="3608"></a>		{
<a name="3609"></a>			allies_progress = <span class="source_int">1</span>;
<a name="3610"></a>			axis_progress = <span class="source_int">0</span>;
<a name="3611"></a>		}
<a name="3612"></a>	}
<a name="3613"></a>	else if (CurrentCapProgress &gt; <span class="source_int">100</span>)
<a name="3614"></a>	{
<a name="3615"></a>		allies_progress = <span class="source_type">float</span>(CurrentCapProgress - <span class="source_int">100</span>) / <span class="source_int">100.0</span>;
<a name="3616"></a>		if (GRI.Objectives[CurrentCapArea].ObjState != NEUTRAL_TEAM_INDEX)
<a name="3617"></a>			axis_progress = <span class="source_int">1</span> - allies_progress;
<a name="3618"></a>	}
<a name="3619"></a>	else
<a name="3620"></a>	{
<a name="3621"></a>		axis_progress = <span class="source_type">float</span>(CurrentCapProgress) / <span class="source_int">100.0</span>;
<a name="3622"></a>		if (GRI.Objectives[CurrentCapArea].ObjState != NEUTRAL_TEAM_INDEX)
<a name="3623"></a>			allies_progress = <span class="source_int">1</span> - axis_progress;
<a name="3624"></a>	}
<a name="3625"></a>
<a name="3626"></a>	<span class="source_comment">// Assign those progress to defender or attacker, depending on current team
</span><a name="3627"></a>	if (<span class="source_type">team</span> == AXIS_TEAM_INDEX)
<a name="3628"></a>	{
<a name="3629"></a>		attackers_progress = axis_progress;
<a name="3630"></a>		defenders_progress = allies_progress;
<a name="3631"></a>		CaptureBarAttacker.Tints[TeamIndex] = CaptureBarTeamColors[AXIS_TEAM_INDEX];
<a name="3632"></a>		CaptureBarAttackerRatio.Tints[TeamIndex] = CaptureBarTeamColors[AXIS_TEAM_INDEX];
<a name="3633"></a>		CaptureBarDefender.Tints[TeamIndex] = CaptureBarTeamColors[ALLIES_TEAM_INDEX];
<a name="3634"></a>		CaptureBarDefenderRatio.Tints[TeamIndex] = CaptureBarTeamColors[ALLIES_TEAM_INDEX];
<a name="3635"></a>		CaptureBarIcons[<span class="source_int">0</span>].WidgetTexture = CaptureBarTeamIcons[AXIS_TEAM_INDEX];
<a name="3636"></a>		CaptureBarIcons[<span class="source_int">1</span>].WidgetTexture = CaptureBarTeamIcons[ALLIES_TEAM_INDEX];
<a name="3637"></a>
<a name="3638"></a>		<span class="source_comment">// Figure ratios
</span><a name="3639"></a>		if (CurrentCapAlliesCappers == <span class="source_int">0</span>)
<a name="3640"></a>			attackers_ratio = <span class="source_int">1</span>;
<a name="3641"></a>		else if (CurrentCapAxisCappers == <span class="source_int">0</span>)
<a name="3642"></a>			attackers_ratio = <span class="source_int">0</span>;
<a name="3643"></a>		else
<a name="3644"></a>			attackers_ratio = <span class="source_type">float</span>(CurrentCapAxisCappers) / (CurrentCapAxisCappers + CurrentCapAlliesCappers);
<a name="3645"></a>		defenders_ratio = <span class="source_int">1</span> - attackers_ratio;
<a name="3646"></a>	}
<a name="3647"></a>	else
<a name="3648"></a>	{
<a name="3649"></a>		attackers_progress = allies_progress;
<a name="3650"></a>		defenders_progress = axis_progress;
<a name="3651"></a>		CaptureBarAttacker.Tints[TeamIndex] = CaptureBarTeamColors[ALLIES_TEAM_INDEX];
<a name="3652"></a>		CaptureBarAttackerRatio.Tints[TeamIndex] = CaptureBarTeamColors[ALLIES_TEAM_INDEX];
<a name="3653"></a>		CaptureBarDefender.Tints[TeamIndex] = CaptureBarTeamColors[AXIS_TEAM_INDEX];
<a name="3654"></a>		CaptureBarDefenderRatio.Tints[TeamIndex] = CaptureBarTeamColors[AXIS_TEAM_INDEX];
<a name="3655"></a>		CaptureBarIcons[<span class="source_int">0</span>].WidgetTexture = CaptureBarTeamIcons[ALLIES_TEAM_INDEX];
<a name="3656"></a>		CaptureBarIcons[<span class="source_int">1</span>].WidgetTexture = CaptureBarTeamIcons[AXIS_TEAM_INDEX];
<a name="3657"></a>
<a name="3658"></a>		<span class="source_comment">// Figure ratios
</span><a name="3659"></a>		if (CurrentCapAxisCappers == <span class="source_int">0</span>)
<a name="3660"></a>			attackers_ratio = <span class="source_int">1</span>;
<a name="3661"></a>		else if (CurrentCapAlliesCappers == <span class="source_int">0</span>)
<a name="3662"></a>			attackers_ratio = <span class="source_int">0</span>;
<a name="3663"></a>		else
<a name="3664"></a>			attackers_ratio = <span class="source_type">float</span>(CurrentCapAlliesCappers) / (CurrentCapAxisCappers + CurrentCapAlliesCappers);
<a name="3665"></a>		defenders_ratio = <span class="source_int">1</span> - attackers_ratio;
<a name="3666"></a>	}
<a name="3667"></a>
<a name="3668"></a>	<span class="source_comment">// test0r
</span><a name="3669"></a>	<span class="source_comment">//Canvas.Font = GetConsoleFont(Canvas);
</span><a name="3670"></a>	<span class="source_comment">//Canvas.SetPos(Canvas.ClipX * 0.1, Canvas.clipy * 0.2);
</span><a name="3671"></a>	<span class="source_comment">//Canvas.DrawText("attackers_ratio = " $ attackers_ratio $ ", defenders_ratio = " $ defenders_ratio);
</span><a name="3672"></a>	<span class="source_comment">//Canvas.SetPos(Canvas.ClipX * 0.1, Canvas.clipy * 0.25);
</span><a name="3673"></a>	<span class="source_comment">//Canvas.DrawText("CurrentCapAlliesCappers = " $ CurrentCapAlliesCappers $ ", CurrentCapAxisCappers = " $ CurrentCapAxisCappers);
</span><a name="3674"></a>
<a name="3675"></a>	<span class="source_comment">// Draw capture bar at 50% faded if we're at a stalemate
</span><a name="3676"></a>	if (CurrentCapAxisCappers == CurrentCapAlliesCappers)
<a name="3677"></a>	{
<a name="3678"></a>		CaptureBarAttacker.Tints[TeamIndex].<span class="source_type">A</span> /= <span class="source_int">2</span>;
<a name="3679"></a>		CaptureBarDefender.Tints[TeamIndex].<span class="source_type">A</span> /= <span class="source_int">2</span>;
<a name="3680"></a>	}
<a name="3681"></a>
<a name="3682"></a>	<span class="source_comment">// Convert attacker/defender progress to widget scale
</span><a name="3683"></a>	<span class="source_comment">// (bar goes from 53 to 203, total width of texture is 256)
</span><a name="3684"></a>	CaptureBarAttacker.<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span> = <span class="source_int">150.0</span> / <span class="source_int">256.0</span> * attackers_progress + <span class="source_int">53.0</span> / <span class="source_int">256.0</span>;
<a name="3685"></a>	CaptureBarDefender.<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span> = <span class="source_int">150.0</span> / <span class="source_int">256.0</span> * defenders_progress + <span class="source_int">53.0</span> / <span class="source_int">256.0</span>;
<a name="3686"></a>
<a name="3687"></a>	<span class="source_comment">// Convert attacker/defender ratios to widget scale
</span><a name="3688"></a>	<span class="source_comment">// (bar goes from 63 to 193, total width of texture is 256)
</span><a name="3689"></a>	CaptureBarAttackerRatio.<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span> = <span class="source_int">130.0</span> / <span class="source_int">256.0</span> * attackers_ratio + <span class="source_int">63.0</span> / <span class="source_int">256.0</span>;
<a name="3690"></a>	CaptureBarDefenderRatio.<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span> = <span class="source_int">130.0</span> / <span class="source_int">256.0</span> * defenders_ratio + <span class="source_int">63.0</span> / <span class="source_int">256.0</span>;
<a name="3691"></a>
<a name="3692"></a>	<span class="source_comment">// Check which icon to show on right side
</span><a name="3693"></a>	if (attackers_progress ~= <span class="source_int">1.0</span>)
<a name="3694"></a>		CaptureBarIcons[<span class="source_int">1</span>].WidgetTexture = CaptureBarIcons[<span class="source_int">0</span>].WidgetTexture;
<a name="3695"></a>
<a name="3696"></a>	<span class="source_comment">// Draw everything.
</span><a name="3697"></a>	DrawSpriteWidget(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, CaptureBarBackground);
<a name="3698"></a>	DrawSpriteWidget(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, CaptureBarAttacker);
<a name="3699"></a>	DrawSpriteWidget(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, CaptureBarDefender);
<a name="3700"></a>	DrawSpriteWidget(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, CaptureBarAttackerRatio);
<a name="3701"></a>	DrawSpriteWidget(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, CaptureBarDefenderRatio);
<a name="3702"></a>	DrawSpriteWidget(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, CaptureBarOutline);
<a name="3703"></a>
<a name="3704"></a>	<span class="source_comment">// Draw the left icon
</span><a name="3705"></a>	DrawSpriteWidget(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, CaptureBarIcons[<span class="source_int">0</span>]);
<a name="3706"></a>
<a name="3707"></a>	<span class="source_comment">// Only draw right icon if objective is capped already
</span><a name="3708"></a>	if ( !(defenders_progress ~= <span class="source_int">0.0</span>) || (attackers_progress ~= <span class="source_int">1.0</span>) )
<a name="3709"></a>		DrawSpriteWidget(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, CaptureBarIcons[<span class="source_int">1</span>]);
<a name="3710"></a>
<a name="3711"></a>	<span class="source_comment">// Draw the objective name
</span><a name="3712"></a>	Y_pos = <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ClipY * CaptureBarBackground.PosY
<a name="3713"></a>		- (CaptureBarBackground.TextureCoords.Y2 + <span class="source_int">1</span> + <span class="source_int">4</span>)
<a name="3714"></a>			* CaptureBarBackground.TextureScale * HudScale * ResScaleY;
<a name="3715"></a>	<span class="source_type">s</span> = GRI.Objectives[CurrentCapArea].ObjName;
<a name="3716"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.<span class="source_type">Font</span> = GetConsoleFont(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="3717"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.TextSize(<span class="source_type">s</span>, XL, <span class="source_type">YL</span>);
<a name="3718"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawColor = WhiteColor;
<a name="3719"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ClipX * CaptureBarBackground.PosX - XL / <span class="source_int">2.0</span>, Y_pos - <span class="source_type">YL</span>);
<a name="3720"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_type">s</span>);
<a name="3721"></a>
<a name="3722"></a>	<span class="source_comment">// Add signal so that vehicle passenger list knows to shift text up
</span><a name="3723"></a>	bDrawingCaptureBar = true;
<a name="3724"></a>}
<a name="3725"></a>
<a name="3726"></a><span class="source_comment">// This function draws a hint on the hud. The hint to be drawn
</span><a name="3727"></a><span class="source_comment">// is set by calling ShowHint().
</span><a name="3728"></a>function DrawHint(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>)
<a name="3729"></a>{
<a name="3730"></a>	local <span class="source_type">float</span> alpha; <span class="source_comment">// 0 - 1
</span><a name="3731"></a>	local <span class="source_type">float</span> XL, <span class="source_type">YL</span>;
<a name="3732"></a>	local <span class="source_type"><a href="../roengine/rohud.html#AbsoluteCoordsInfo" class="source">AbsoluteCoordsInfo</a></span> <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>;
<a name="3733"></a>	local <span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span> DrawColor;
<a name="3734"></a>	local <span class="source_type">float</span> backgroundOffset;
<a name="3735"></a>	local <span class="source_type">int</span> <span class="source_type">i</span>;
<a name="3736"></a>
<a name="3737"></a>	<span class="source_comment">// Calculate wrapping width & draw coords if needed
</span><a name="3738"></a>	if (bFirstHintRender)
<a name="3739"></a>	{
<a name="3740"></a>		CalculateHintWrappingData(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="3741"></a>		bFirstHintRender = false;
<a name="3742"></a>	}
<a name="3743"></a>
<a name="3744"></a>	<span class="source_comment">// Calculate alpha value
</span><a name="3745"></a>	if (HintRemainingTime &gt; HintLifetime + HintFadeTime) <span class="source_comment">// Fade in
</span><a name="3746"></a>	{
<a name="3747"></a>		alpha = <span class="source_int">1</span> - (HintRemainingTime - HintLifetime - HintFadeTime) / HintFadeTime;
<a name="3748"></a>	}
<a name="3749"></a>	else if (HintRemainingTime &lt; HintFadeTime) <span class="source_comment">// Fade out
</span><a name="3750"></a>	{
<a name="3751"></a>		alpha = HintRemainingTime / HintFadeTime;
<a name="3752"></a>	}
<a name="3753"></a>	else
<a name="3754"></a>		alpha = <span class="source_int">1.0</span>;
<a name="3755"></a>
<a name="3756"></a>	<span class="source_comment">// Decrement remaining time if needed
</span><a name="3757"></a>	if (PlayerOwner.<span class="source_type"><a href="../engine/player.html" class="source">Player</a></span> != none &&
<a name="3758"></a>		<span class="source_type"><a href="../xinterface/guicontroller.html" class="source">GUIController</a></span>(PlayerOwner.<span class="source_type"><a href="../engine/player.html" class="source">Player</a></span>.<span class="source_type"><a href="../xinterface/guicontroller.html" class="source">GUIController</a></span>) != none &&
<a name="3759"></a>		<span class="source_type"><a href="../xinterface/guicontroller.html" class="source">GUIController</a></span>(PlayerOwner.<span class="source_type"><a href="../engine/player.html" class="source">Player</a></span>.<span class="source_type"><a href="../xinterface/guicontroller.html" class="source">GUIController</a></span>).ActivePage != none) <span class="source_comment">// don't decrement if menu is open
</span><a name="3760"></a>	{
<a name="3761"></a>	}
<a name="3762"></a>	else
<a name="3763"></a>		HintRemainingTime -= <span class="source_type">Level</span>.TimeSeconds - hudLastRenderTime;
<a name="3764"></a>
<a name="3765"></a>	<span class="source_comment">// Calculate rendering color
</span><a name="3766"></a>	DrawColor = HintBackground.Tints[TeamIndex];
<a name="3767"></a>	DrawColor.<span class="source_type">A</span> = <span class="source_type">float</span>(DrawColor.<span class="source_type">A</span>) * alpha;
<a name="3768"></a>
<a name="3769"></a>	<span class="source_comment">// Don't draw if alpha is 0 (0 == 255 for some reason)
</span><a name="3770"></a>	if (DrawColor.<span class="source_type">A</span> != <span class="source_int">0</span>)
<a name="3771"></a>	{
<a name="3772"></a>		<span class="source_comment">// Set proper rendering style
</span><a name="3773"></a>		<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.Style = <span class="source_type"><a href="../engine/actor.html#ERenderStyle" class="source">ERenderStyle</a></span>.STY_Alpha;
<a name="3774"></a>
<a name="3775"></a>		<span class="source_comment">// Calculate background offset in relation to text
</span><a name="3776"></a>		backgroundOffset = HintBackground.PosY * <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ClipY;
<a name="3777"></a>
<a name="3778"></a>		<span class="source_comment">// Calculate absolute drawing coordinates (mostly for text widget)
</span><a name="3779"></a>		<span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.PosX = HintCoords.<span class="source_type">X</span> * <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ClipX;
<a name="3780"></a>		<span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.PosY = HintCoords.<span class="source_type">Y</span> * <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ClipY;
<a name="3781"></a>		<span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.<span class="source_type">width</span> = HintCoords.XL * <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ClipX;
<a name="3782"></a>		<span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.height = HintCoords.<span class="source_type">YL</span> * <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ClipY;
<a name="3783"></a>
<a name="3784"></a>		<span class="source_comment">// Draw the background
</span><a name="3785"></a>		<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawColor = DrawColor;
<a name="3786"></a>		<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.PosX - backgroundOffset, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.PosY - backgroundOffset);
<a name="3787"></a>		<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawTileStretched(HintBackground.WidgetTexture, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.<span class="source_type">width</span> + backgroundOffset * <span class="source_int">2</span>,
<a name="3788"></a>			<span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.height + backgroundOffset * <span class="source_int">2</span>);
<a name="3789"></a>
<a name="3790"></a>		<span class="source_comment">// Draw title
</span><a name="3791"></a>		<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.<span class="source_type">Font</span> = GetFontSizeIndex(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>,-<span class="source_int">2</span>);
<a name="3792"></a>		HintTitleWidget.<span class="source_type">text</span> = HintTitle;
<a name="3793"></a>		HintTitleWidget.Tints[TeamIndex].<span class="source_type">A</span> = <span class="source_type">float</span>(default.HintTitleWidget.Tints[TeamIndex].<span class="source_type">A</span>) * alpha;
<a name="3794"></a>		DrawTextWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, HintTitleWidget, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, XL, <span class="source_type">YL</span>);
<a name="3795"></a>
<a name="3796"></a>		<span class="source_comment">// Draw each line individually
</span><a name="3797"></a>		HintTextWidget.OffsetY = <span class="source_type">YL</span> * <span class="source_int">1.5</span>;
<a name="3798"></a>		<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.<span class="source_type">Font</span> = getSmallMenuFont(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="3799"></a>		HintTextWidget.Tints[TeamIndex].<span class="source_type">A</span> = <span class="source_type">float</span>(default.HintTextWidget.Tints[TeamIndex].<span class="source_type">A</span>) * alpha;
<a name="3800"></a>		<span class="source_type">YL</span> = <span class="source_int">0</span>;
<a name="3801"></a>		for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; HintWrappedText.Length; <span class="source_type">i</span>++)
<a name="3802"></a>		{
<a name="3803"></a>			HintTextWidget.<span class="source_type">text</span> = HintWrappedText[<span class="source_type">i</span>];
<a name="3804"></a>			if (HintWrappedText[<span class="source_type">i</span>] != <span class="source_string">""</span>)
<a name="3805"></a>				DrawTextWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, HintTextWidget, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, XL, <span class="source_type">YL</span>);
<a name="3806"></a>			else
<a name="3807"></a>				<span class="source_type">YL</span> /= <span class="source_int">2</span>;
<a name="3808"></a>			HintTextWidget.OffsetY += <span class="source_type">YL</span>;
<a name="3809"></a>		}
<a name="3810"></a>	}
<a name="3811"></a>
<a name="3812"></a>	<span class="source_comment">// Stop rendering hint if needed (and notify hint manager)
</span><a name="3813"></a>	if (HintRemainingTime &lt;= <span class="source_int">0</span>)
<a name="3814"></a>	{
<a name="3815"></a>		bDrawHint = false;
<a name="3816"></a>		if (<span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(PlayerOwner) != none)
<a name="3817"></a>			<span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(PlayerOwner).NotifyHintRenderingDone();
<a name="3818"></a>	}
<a name="3819"></a>}
<a name="3820"></a>
<a name="3821"></a><span class="source_comment">// This function is used to calculate how the hint data should
</span><a name="3822"></a><span class="source_comment">// be wrapped.
</span><a name="3823"></a>function CalculateHintWrappingData(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>)
<a name="3824"></a>{
<a name="3825"></a>	local <span class="source_type">float</span> XL, <span class="source_type">YL</span>, XL2, YL2;
<a name="3826"></a>	local <span class="source_type">float</span> minWidth, wrapWidth, totalYL;
<a name="3827"></a>	local <span class="source_type">int</span> <span class="source_type">i</span>, count;
<a name="3828"></a>
<a name="3829"></a>	<span class="source_comment">// First calculate minimum message width (e.g. the width of the
</span><a name="3830"></a>	<span class="source_comment">// title string)
</span><a name="3831"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.<span class="source_type">Font</span> = GetFontSizeIndex(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>,-<span class="source_int">2</span>);
<a name="3832"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">0</span>, <span class="source_int">0</span>);
<a name="3833"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.TextSize(HintTitle, minWidth, totalYL);
<a name="3834"></a>	if (minWidth &lt; <span class="source_int">10.0</span>)
<a name="3835"></a>		minWidth = <span class="source_int">10.0</span>;
<a name="3836"></a>	totalYL += totalYL / <span class="source_int">2</span>;
<a name="3837"></a>
<a name="3838"></a>	<span class="source_comment">// Calculate max width of text string (or perhaps we should just use full screen width?)
</span><a name="3839"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.<span class="source_type">Font</span> = getSmallMenuFont(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="3840"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.TextSize(HintText, XL, <span class="source_type">YL</span>);
<a name="3841"></a>
<a name="3842"></a>	<span class="source_comment">// Starting with full string width, progressively reduce width until the ratio of the height
</span><a name="3843"></a>	<span class="source_comment">// to the width is smaller than HintDesiredAspectRatio
</span><a name="3844"></a>	wrapWidth = XL;
<a name="3845"></a>	for (count = <span class="source_int">0</span>; count &lt; <span class="source_int">25</span>; count++) <span class="source_comment">// max 25 iterations
</span><a name="3846"></a>	{
<a name="3847"></a>		<span class="source_comment">// Wrap text
</span><a name="3848"></a>		HintWrappedText.Length = <span class="source_int">0</span>;
<a name="3849"></a>		<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.WrapStringToArray(HintText, HintWrappedText, wrapWidth, <span class="source_string">"|"</span>);
<a name="3850"></a>
<a name="3851"></a>		<span class="source_comment">// Calculate current width & height
</span><a name="3852"></a>		XL = <span class="source_int">0</span>; <span class="source_type">YL</span> = <span class="source_int">0</span>;
<a name="3853"></a>		XL2 = <span class="source_int">0</span>; YL2 = <span class="source_int">0</span>;
<a name="3854"></a>		for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; HintWrappedText.Length; <span class="source_type">i</span>++)
<a name="3855"></a>		{
<a name="3856"></a>			if (HintWrappedText[<span class="source_type">i</span>] != <span class="source_string">""</span>)
<a name="3857"></a>				<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.TextSize(HintWrappedText[<span class="source_type">i</span>], XL, <span class="source_type">YL</span>);
<a name="3858"></a>			else
<a name="3859"></a>				<span class="source_type">YL</span> /= <span class="source_int">2</span>;
<a name="3860"></a>			if (XL &gt; XL2)
<a name="3861"></a>				XL2 = XL;
<a name="3862"></a>			YL2 += <span class="source_type">YL</span>;
<a name="3863"></a>		}
<a name="3864"></a>
<a name="3865"></a>		<span class="source_comment">// Check if current width is too small
</span><a name="3866"></a>		if (XL2 &lt; minWidth)
<a name="3867"></a>		{
<a name="3868"></a>			wrapWidth = minWidth;
<a name="3869"></a>			break;
<a name="3870"></a>		}
<a name="3871"></a>
<a name="3872"></a>		<span class="source_comment">// Calculate ratio
</span><a name="3873"></a>		if (YL2 &lt; <span class="source_int">1</span>)
<a name="3874"></a>			<span class="source_type">YL</span> = <span class="source_int">1</span>;
<a name="3875"></a>		else
<a name="3876"></a>			<span class="source_type">YL</span> = XL2 / YL2;
<a name="3877"></a>
<a name="3878"></a>		<span class="source_comment">// Check if we should accept this wrap width
</span><a name="3879"></a>		if (<span class="source_type">YL</span> &lt; HintDesiredAspectRatio)
<a name="3880"></a>		{
<a name="3881"></a>			wrapWidth = XL2;
<a name="3882"></a>			break;
<a name="3883"></a>		}
<a name="3884"></a>
<a name="3885"></a>		<span class="source_comment">// Else, reduce currentWidth and try again.
</span><a name="3886"></a>		wrapWidth *= <span class="source_int">0.80</span>;
<a name="3887"></a>	}
<a name="3888"></a>
<a name="3889"></a>	<span class="source_comment">// Wrap text to array
</span><a name="3890"></a>	HintWrappedText.Length = <span class="source_int">0</span>;
<a name="3891"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">0</span>, <span class="source_int">0</span>);
<a name="3892"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.WrapStringToArray(HintText, HintWrappedText, wrapWidth, <span class="source_string">"|"</span>);
<a name="3893"></a>
<a name="3894"></a>	<span class="source_comment">// Calculate total width and height
</span><a name="3895"></a>	wrapWidth = minWidth;
<a name="3896"></a>	XL = <span class="source_int">0</span>; <span class="source_type">YL</span> = <span class="source_int">0</span>;
<a name="3897"></a>	for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; HintWrappedText.Length; <span class="source_type">i</span>++)
<a name="3898"></a>	{
<a name="3899"></a>		<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">0</span>, <span class="source_int">0</span>);
<a name="3900"></a>		if (HintWrappedText[<span class="source_type">i</span>] != <span class="source_string">""</span>)
<a name="3901"></a>			<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.TextSize(HintWrappedText[<span class="source_type">i</span>], XL, <span class="source_type">YL</span>);
<a name="3902"></a>		else
<a name="3903"></a>			<span class="source_type">YL</span> /= <span class="source_int">2</span>;
<a name="3904"></a>		if (XL &gt; wrapWidth)
<a name="3905"></a>			wrapWidth = XL;
<a name="3906"></a>		totalYL += <span class="source_type">YL</span>;
<a name="3907"></a>		<span class="source_comment">//log("Wrapped line #" $ i $ ": '" $ HintWrappedText[i] $"'");
</span><a name="3908"></a>	}
<a name="3909"></a>
<a name="3910"></a>	<span class="source_comment">// for safety
</span><a name="3911"></a>	if (wrapWidth &lt; <span class="source_int">10</span>)
<a name="3912"></a>		wrapWidth = <span class="source_int">10</span>;
<a name="3913"></a>	if (totalYL &lt; <span class="source_int">10</span>)
<a name="3914"></a>		totalYL = <span class="source_int">10</span>;
<a name="3915"></a>
<a name="3916"></a>	<span class="source_comment">// Calculate target relative coordinates
</span><a name="3917"></a>	HintCoords.XL = wrapWidth / <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ClipX;
<a name="3918"></a>	HintCoords.<span class="source_type">YL</span> = totalYL / <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ClipY;
<a name="3919"></a>	HintCoords.<span class="source_type">X</span> = default.HintCoords.<span class="source_type">X</span> + HintCoords.XL * default.HintCoords.XL;
<a name="3920"></a>	HintCoords.<span class="source_type">Y</span> = default.HintCoords.<span class="source_type">Y</span> + HintCoords.<span class="source_type">YL</span> * default.HintCoords.<span class="source_type">YL</span>;
<a name="3921"></a>}
<a name="3922"></a>
<a name="3923"></a>simulated function DrawPaused(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>)
<a name="3924"></a>{
<a name="3925"></a>	local <span class="source_type">float</span> XL, <span class="source_type">YL</span>;
<a name="3926"></a>
<a name="3927"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.<span class="source_type">Font</span> = GetFontSizeIndex(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, <span class="source_int">5</span>);
<a name="3928"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.TextSize(LevelActionPaused, XL, <span class="source_type">YL</span>);
<a name="3929"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SizeX * <span class="source_int">0.5</span> - XL / <span class="source_int">2</span>, <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SizeY * <span class="source_int">0.4</span> - <span class="source_type">YL</span> / <span class="source_int">2</span>);
<a name="3930"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawColor = WhiteColor;
<a name="3931"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(LevelActionPaused);
<a name="3932"></a>}
<a name="3933"></a>
<a name="3934"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="3935"></a><span class="source_comment">// PostRender - Added objectives rendering
</span><a name="3936"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="3937"></a>
<a name="3938"></a>simulated event PostRender( <span class="source_type"><a href="../engine/canvas.html" class="source">canvas</a></span> <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> )
<a name="3939"></a>{
<a name="3940"></a>	local <span class="source_type">float</span> XPos, YPos;
<a name="3941"></a>	local <span class="source_type"><a href="../core/object.html#Plane" class="source">plane</a></span> OldModulate,OM;
<a name="3942"></a>	local <span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span> OldColor;
<a name="3943"></a>	local <span class="source_type">int</span> <span class="source_type">i</span>;
<a name="3944"></a>
<a name="3945"></a>	BuildMOTD();
<a name="3946"></a>
<a name="3947"></a>	OldModulate = <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ColorModulate;
<a name="3948"></a>	OldColor = <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawColor;
<a name="3949"></a>
<a name="3950"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ColorModulate.<span class="source_type">X</span> = <span class="source_int">1</span>;
<a name="3951"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ColorModulate.<span class="source_type">Y</span> = <span class="source_int">1</span>;
<a name="3952"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ColorModulate.<span class="source_type">Z</span> = <span class="source_int">1</span>;
<a name="3953"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ColorModulate.W = HudOpacity/<span class="source_int">255</span>;
<a name="3954"></a>
<a name="3955"></a>	LinkActors();
<a name="3956"></a>
<a name="3957"></a>	ResScaleX = <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SizeX / <span class="source_int">640.0</span>;
<a name="3958"></a>	ResScaleY = <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SizeY / <span class="source_int">480.0</span>;
<a name="3959"></a>
<a name="3960"></a>	CheckCountDown(PlayerOwner.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>);
<a name="3961"></a>
<a name="3962"></a>	if (bFadeToBlack)
<a name="3963"></a>	    DrawFadeToBlack(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="3964"></a>
<a name="3965"></a>	if ( PawnOwner != None && PawnOwner.bSpecialHUD )
<a name="3966"></a>		PawnOwner.DrawHud(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="3967"></a>
<a name="3968"></a>	if ( bShowDebugInfo )
<a name="3969"></a>	{
<a name="3970"></a>		<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.<span class="source_type">Font</span> = GetConsoleFont(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="3971"></a>		<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.Style = <span class="source_type"><a href="../engine/actor.html#ERenderStyle" class="source">ERenderStyle</a></span>.STY_Alpha;
<a name="3972"></a>		<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawColor = ConsoleColor;
<a name="3973"></a>
<a name="3974"></a>		PlayerOwner.<span class="source_type">ViewTarget</span>.DisplayDebug(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, XPos, YPos);
<a name="3975"></a>		if (PlayerOwner.<span class="source_type">ViewTarget</span> != PlayerOwner && (<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>(PlayerOwner.<span class="source_type">ViewTarget</span>) == None || <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>(PlayerOwner.<span class="source_type">ViewTarget</span>).<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> == None))
<a name="3976"></a>		{
<a name="3977"></a>			YPos += XPos * <span class="source_int">2</span>;
<a name="3978"></a>			<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>, YPos);
<a name="3979"></a>			<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_string">"----- VIEWER INFO -----"</span>);
<a name="3980"></a>			YPos += XPos;
<a name="3981"></a>			<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>, YPos);
<a name="3982"></a>			PlayerOwner.DisplayDebug(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, XPos, YPos);
<a name="3983"></a>		}
<a name="3984"></a>	}
<a name="3985"></a>	else if( !bHideHud )
<a name="3986"></a>	{
<a name="3987"></a>	   <span class="source_comment">/* if ( bShowLocalStats )
<a name="3988"></a>		{
<a name="3989"></a>			if ( LocalStatsScreen == None )
<a name="3990"></a>				GetLocalStatsScreen();
<a name="3991"></a>			if ( LocalStatsScreen != None )
<a name="3992"></a>			{
<a name="3993"></a>				OM = Canvas.ColorModulate;
<a name="3994"></a>				Canvas.ColorModulate = OldModulate;
<a name="3995"></a>				LocalStatsScreen.DrawScoreboard(Canvas);
<a name="3996"></a>				DisplayMessages(Canvas);
<a name="3997"></a>				Canvas.ColorModulate = OM;
<a name="3998"></a>			}
<a name="3999"></a>		}
<a name="4000"></a>		else*/</span>
<a name="4001"></a>		if (bShowScoreBoard)
<a name="4002"></a>		{
<a name="4003"></a>	        DrawFadeEffect(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="4004"></a>			if (<span class="source_type"><a href="../engine/scoreboard.html" class="source">ScoreBoard</a></span> != None)
<a name="4005"></a>			{
<a name="4006"></a>				OM = <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ColorModulate;
<a name="4007"></a>				<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ColorModulate = OldModulate;
<a name="4008"></a>				<span class="source_type"><a href="../engine/scoreboard.html" class="source">ScoreBoard</a></span>.DrawScoreboard(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="4009"></a>				if ( <span class="source_type"><a href="../engine/scoreboard.html" class="source">Scoreboard</a></span>.bDisplayMessages )
<a name="4010"></a>					DisplayMessages(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="4011"></a>				<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ColorModulate = OM;
<a name="4012"></a>			}
<a name="4013"></a>		}
<a name="4014"></a>		else
<a name="4015"></a>		{
<a name="4016"></a>			if ( (PlayerOwner == None) || (PawnOwner == None) || (PawnOwnerPRI == None) || PlayerOwner.IsSpectating() )
<a name="4017"></a>				DrawSpectatingHud(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="4018"></a>			else if( !PawnOwner.bHideRegularHUD )
<a name="4019"></a>				DrawHud(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="4020"></a>
<a name="4021"></a>			for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; Overlays.length; <span class="source_type">i</span>++)
<a name="4022"></a>				Overlays[<span class="source_type">i</span>].Render(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="4023"></a>
<a name="4024"></a>			if (!DrawLevelAction (<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>))
<a name="4025"></a>			{
<a name="4026"></a>				if (PlayerOwner!=None)
<a name="4027"></a>				{
<a name="4028"></a>					if (PlayerOwner.ProgressTimeOut &gt; <span class="source_type">Level</span>.TimeSeconds)
<a name="4029"></a>					{
<a name="4030"></a>	                    DisplayProgressMessages (<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="4031"></a>					}
<a name="4032"></a>					else if (MOTDState==<span class="source_int">1</span>)
<a name="4033"></a>						MOTDState=<span class="source_int">2</span>;
<a name="4034"></a>				}
<a name="4035"></a>		   }
<a name="4036"></a>
<a name="4037"></a>			if (bShowBadConnectionAlert)
<a name="4038"></a>				DisplayBadConnectionAlert (<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="4039"></a>			DisplayMessages(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="4040"></a>
<a name="4041"></a>		}
<a name="4042"></a>
<a name="4043"></a>        if( bShowVoteMenu && VoteMenu!=None )
<a name="4044"></a>            VoteMenu.RenderOverlays(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="4045"></a>    }
<a name="4046"></a>    else if ( PawnOwner != None )
<a name="4047"></a>        DrawInstructionGfx(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="4048"></a>
<a name="4049"></a>
<a name="4050"></a>	<span class="source_comment">// Draw fade effects even if the hud is hidden so poeple can't just turn off thier hud
</span><a name="4051"></a>	if( bHideHud )
<a name="4052"></a>	{
<a name="4053"></a>    	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.Style = <span class="source_type"><a href="../engine/actor.html#ERenderStyle" class="source">ERenderStyle</a></span>.STY_Alpha;
<a name="4054"></a>    	DrawFadeEffect(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="4055"></a>	}
<a name="4056"></a>
<a name="4057"></a>	<span class="source_comment">// Render situation map on top of everything (so that
</span><a name="4058"></a>	<span class="source_comment">// it can anim in/out without looking like ass)
</span><a name="4059"></a>	if (bShowObjectives || bAnimateMapIn || bAnimateMapOut)
<a name="4060"></a>	{
<a name="4061"></a>		DrawObjectives(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="4062"></a>	}
<a name="4063"></a>
<a name="4064"></a>	PlayerOwner.RenderOverlays(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="4065"></a>
<a name="4066"></a>	if (PlayerOwner.bViewingMatineeCinematic)
<a name="4067"></a>	DrawCinematicHUD(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="4068"></a>
<a name="4069"></a>	if (bDrawHint && !bHideHud)
<a name="4070"></a>	    DrawHint(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="4071"></a>
<a name="4072"></a>	if (<span class="source_type">Level</span>.Pauser != none)
<a name="4073"></a>	    DrawPaused(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="4074"></a>
<a name="4075"></a>	if ((PlayerConsole != None) && PlayerConsole.<span class="source_type">bTyping</span>)
<a name="4076"></a>		DrawTypingPrompt(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, PlayerConsole.TypedStr, PlayerConsole.TypedStrPos);
<a name="4077"></a>
<a name="4078"></a>	if (bCapturingMouse)
<a name="4079"></a>		MouseInterfaceDrawCursor(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="4080"></a>
<a name="4081"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ColorModulate=OldModulate;
<a name="4082"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawColor = OldColor;
<a name="4083"></a>
<a name="4084"></a>	hudLastRenderTime = <span class="source_type">Level</span>.TimeSeconds;
<a name="4085"></a>
<a name="4086"></a>	if (<span class="source_type"><a href="../xinterface/guicontroller.html" class="source">GUIController</a></span>(PlayerOwner.<span class="source_type"><a href="../engine/player.html" class="source">Player</a></span>.<span class="source_type"><a href="../xinterface/guicontroller.html" class="source">GUIController</a></span>).bLCDAvailable() )
<a name="4087"></a>	{
<a name="4088"></a>		if (<span class="source_type">Level</span>.TimeSeconds  - LastLCDUpdateTime &gt; LCDUpdateFreq)
<a name="4089"></a>		{
<a name="4090"></a>			LastLCDUpdateTime = <span class="source_type">Level</span>.TimeSeconds;
<a name="4091"></a>			DrawLCDUpdate(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="4092"></a>		}
<a name="4093"></a>	}
<a name="4094"></a>}
<a name="4095"></a>
<a name="4096"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="4097"></a><span class="source_comment">// CanvasDrawActors - Always set opacity to 1.0 before calling Weapon's PostRender
</span><a name="4098"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="4099"></a>
<a name="4100"></a>function CanvasDrawActors( <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>, <span class="source_type">bool</span> <span class="source_type">bClearedZBuffer</span> )
<a name="4101"></a>{
<a name="4102"></a>	local <span class="source_type">float</span> SavedOpacity;
<a name="4103"></a>
<a name="4104"></a>   <span class="source_comment">// log("PawnOwner = "$PawnOwner$" PawnOwner.Weapon = "$PawnOwner.Weapon);
</span><a name="4105"></a>
<a name="4106"></a>	if ( !PlayerOwner.bBehindView && PawnOwner.<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span> != None )
<a name="4107"></a>	{
<a name="4108"></a>		if ( !<span class="source_type">bClearedZBuffer</span>)
<a name="4109"></a>			<span class="source_type">C</span>.DrawActor(None, false, true); <span class="source_comment">// Clear the z-buffer here
</span><a name="4110"></a>
<a name="4111"></a>		SavedOpacity = <span class="source_type">C</span>.ColorModulate.W;
<a name="4112"></a>		<span class="source_type">C</span>.ColorModulate.W = <span class="source_int">1.0</span>;
<a name="4113"></a>		PawnOwner.<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span>.RenderOverlays( <span class="source_type">C</span> );
<a name="4114"></a>		<span class="source_type">C</span>.ColorModulate.W = SavedOpacity;
<a name="4115"></a>	}
<a name="4116"></a>}
<a name="4117"></a>
<a name="4118"></a><span class="source_comment">//==================================================================
</span><a name="4119"></a><span class="source_comment">// DisplayProgressMessages(UT) - Had to overload this to function to
</span><a name="4120"></a><span class="source_comment">//	change the position of the ProgressMessages so they wouldn't be
</span><a name="4121"></a><span class="source_comment">//	in the middle of the iron sights
</span><a name="4122"></a><span class="source_comment">//==================================================================
</span><a name="4123"></a>
<a name="4124"></a>simulated function DisplayProgressMessages (<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>)
<a name="4125"></a>{
<a name="4126"></a>	local <span class="source_type">int</span> <span class="source_type">i</span>, LineCount;
<a name="4127"></a>	local <span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span> GRI;
<a name="4128"></a>	local <span class="source_type">float</span> FontDX, FontDY;
<a name="4129"></a>	local <span class="source_type">float</span> <span class="source_type">X</span>, <span class="source_type">Y</span>;
<a name="4130"></a>	local <span class="source_type">int</span> Alpha;
<a name="4131"></a>	local <span class="source_type">float</span> TimeLeft;
<a name="4132"></a>
<a name="4133"></a>	TimeLeft = PlayerOwner.ProgressTimeOut - <span class="source_type">Level</span>.TimeSeconds;
<a name="4134"></a>
<a name="4135"></a>	if( TimeLeft &gt;= ProgressFadeTime )
<a name="4136"></a>		Alpha = <span class="source_int">255</span>;
<a name="4137"></a>	else
<a name="4138"></a>		Alpha = (<span class="source_int">255</span> * TimeLeft) / ProgressFadeTime;
<a name="4139"></a>
<a name="4140"></a>	GRI = PlayerOwner.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>;
<a name="4141"></a>
<a name="4142"></a>	LineCount = <span class="source_int">0</span>;
<a name="4143"></a>
<a name="4144"></a>	for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount (PlayerOwner.ProgressMessage); <span class="source_type">i</span>++)
<a name="4145"></a>	{
<a name="4146"></a>		if (PlayerOwner.ProgressMessage[<span class="source_type">i</span>] == <span class="source_string">""</span>)
<a name="4147"></a>			continue;
<a name="4148"></a>
<a name="4149"></a>		LineCount++;
<a name="4150"></a>	}
<a name="4151"></a>
<a name="4152"></a>	if (bBuiltMOTD && MOTDState&lt;<span class="source_int">2</span>)
<a name="4153"></a>	{
<a name="4154"></a>		if (MOTD[<span class="source_int">0</span>] != <span class="source_string">""</span>) LineCount++;
<a name="4155"></a>		if (MOTD[<span class="source_int">1</span>] != <span class="source_string">""</span>) LineCount++;
<a name="4156"></a>		if (MOTD[<span class="source_int">2</span>] != <span class="source_string">""</span>) LineCount++;
<a name="4157"></a>		if (MOTD[<span class="source_int">3</span>] != <span class="source_string">""</span>) LineCount++;
<a name="4158"></a>	}
<a name="4159"></a>
<a name="4160"></a>
<a name="4161"></a>	<span class="source_type">C</span>.<span class="source_type">Font</span> = LoadProgressFont();
<a name="4162"></a>
<a name="4163"></a>	<span class="source_type">C</span>.Style = <span class="source_type"><a href="../engine/actor.html#ERenderStyle" class="source">ERenderStyle</a></span>.STY_Alpha;
<a name="4164"></a>
<a name="4165"></a>	<span class="source_type">C</span>.TextSize (<span class="source_string">"A"</span>, FontDX, FontDY);
<a name="4166"></a>
<a name="4167"></a>	<span class="source_type">X</span> = (<span class="source_int">0.5</span> * HudCanvasScale * <span class="source_type">C</span>.SizeX) + (((<span class="source_int">1.0</span> - HudCanvasScale) / <span class="source_int">2.0</span>) * <span class="source_type">C</span>.SizeX);
<a name="4168"></a>	<span class="source_comment">// changed the Y scale to move the message up
</span><a name="4169"></a>	<span class="source_type">Y</span> = (<span class="source_int">0.42</span> * HudCanvasScale * <span class="source_type">C</span>.SizeY) + (((<span class="source_int">1.0</span> - HudCanvasScale) / <span class="source_int">2.0</span>) * <span class="source_type">C</span>.SizeY);
<a name="4170"></a>
<a name="4171"></a>	<span class="source_type">Y</span> -= FontDY * (<span class="source_type">float</span> (LineCount) / <span class="source_int">2.0</span>);
<a name="4172"></a>
<a name="4173"></a>	for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount (PlayerOwner.ProgressMessage); <span class="source_type">i</span>++)
<a name="4174"></a>	{
<a name="4175"></a>		if (PlayerOwner.ProgressMessage[<span class="source_type">i</span>] == <span class="source_string">""</span>)
<a name="4176"></a>			continue;
<a name="4177"></a>
<a name="4178"></a>		<span class="source_type">C</span>.DrawColor = PlayerOwner.ProgressColor[<span class="source_type">i</span>];
<a name="4179"></a>		<span class="source_type">C</span>.DrawColor.<span class="source_type">A</span> = Alpha;
<a name="4180"></a>
<a name="4181"></a>		<span class="source_type">C</span>.TextSize (PlayerOwner.ProgressMessage[<span class="source_type">i</span>], FontDX, FontDY);
<a name="4182"></a>		<span class="source_type">C</span>.SetPos (<span class="source_type">X</span> - (FontDX / <span class="source_int">2.0</span>), <span class="source_type">Y</span>);
<a name="4183"></a>		<span class="source_type">C</span>.DrawText (PlayerOwner.ProgressMessage[<span class="source_type">i</span>]);
<a name="4184"></a>
<a name="4185"></a>		<span class="source_type">Y</span> += FontDY;
<a name="4186"></a>	}
<a name="4187"></a>
<a name="4188"></a>	if( (GRI != None) && (<span class="source_type">Level</span>.NetMode != NM_StandAlone) && (MOTDState&lt;<span class="source_int">2</span>) )
<a name="4189"></a>	{
<a name="4190"></a>		MOTDState=<span class="source_int">1</span>;
<a name="4191"></a>		<span class="source_type">C</span>.DrawColor = MOTDColor;
<a name="4192"></a>		<span class="source_type">C</span>.DrawColor.<span class="source_type">A</span> = Alpha;
<a name="4193"></a>
<a name="4194"></a>		for (<span class="source_type">i</span>=<span class="source_int">0</span>;<span class="source_type">i</span>&lt;<span class="source_int">4</span>;<span class="source_type">i</span>++)
<a name="4195"></a>		{
<a name="4196"></a>			<span class="source_type">C</span>.TextSize (MOTD[<span class="source_type">i</span>], FontDX, FontDY);
<a name="4197"></a>			<span class="source_type">C</span>.SetPos (<span class="source_type">X</span> - (FontDX / <span class="source_int">2.0</span>), <span class="source_type">Y</span>);
<a name="4198"></a>			<span class="source_type">C</span>.DrawText (MOTD[<span class="source_type">i</span>]);
<a name="4199"></a>			<span class="source_type">Y</span> += FontDY;
<a name="4200"></a>		}
<a name="4201"></a>
<a name="4202"></a>	}
<a name="4203"></a>}
<a name="4204"></a>
<a name="4205"></a>
<a name="4206"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="4207"></a><span class="source_comment">// DisplayLocalMessage - Adds a fix for non-fade local messages staying on screen
</span><a name="4208"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="4209"></a>
<a name="4210"></a>simulated function DisplayLocalMessages( <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span> )
<a name="4211"></a>{
<a name="4212"></a>	local <span class="source_type">float</span> PosX, PosY, <span class="source_type">DY</span>, DX;
<a name="4213"></a>	local <span class="source_type">int</span> <span class="source_type">i</span>, j;
<a name="4214"></a>	local <span class="source_type">float</span> FadeValue;
<a name="4215"></a>	local <span class="source_type"><a href="../core/object.html#Plane" class="source">Plane</a></span> OldCM;
<a name="4216"></a>
<a name="4217"></a>	OldCM=<span class="source_type">C</span>.ColorModulate;
<a name="4218"></a>	<span class="source_type">C</span>.Reset();
<a name="4219"></a>	<span class="source_type">C</span>.ColorModulate = OldCM;
<a name="4220"></a>
<a name="4221"></a>	<span class="source_comment">// Pass 1: Layout anything that needs it and cull dead stuff.
</span><a name="4222"></a>
<a name="4223"></a>	for( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(LocalMessages); <span class="source_type">i</span>++ )
<a name="4224"></a>	{
<a name="4225"></a>		if( LocalMessages[<span class="source_type">i</span>].Message == none )
<a name="4226"></a>			break;
<a name="4227"></a>
<a name="4228"></a>		LocalMessages[<span class="source_type">i</span>].Drawn = false;
<a name="4229"></a>
<a name="4230"></a>		if( LocalMessages[<span class="source_type">i</span>].StringFont == none )
<a name="4231"></a>		{
<a name="4232"></a>			LayoutMessage( LocalMessages[<span class="source_type">i</span>], <span class="source_type">C</span> );
<a name="4233"></a>			ExtraLayoutMessage( LocalMessages[<span class="source_type">i</span>], LocalMessagesExtra[<span class="source_type">i</span>], <span class="source_type">C</span> );
<a name="4234"></a>		}
<a name="4235"></a>
<a name="4236"></a>		if( LocalMessages[<span class="source_type">i</span>].StringFont == none )
<a name="4237"></a>		{
<a name="4238"></a>			log( <span class="source_string">"LayoutMessage("</span>$LocalMessages[<span class="source_type">i</span>].Message$<span class="source_string">") failed!"</span>, <span class="source_name">'Error'</span> );
<a name="4239"></a>
<a name="4240"></a>			for( j = <span class="source_type">i</span>; j &lt; ArrayCount(LocalMessages) - <span class="source_int">1</span>; j++ )
<a name="4241"></a>			{
<a name="4242"></a>				LocalMessages[j] = LocalMessages[j+<span class="source_int">1</span>];
<a name="4243"></a>				LocalMessagesExtra[j] = LocalMessagesExtra[j+<span class="source_int">1</span>];
<a name="4244"></a>			}
<a name="4245"></a>			ClearMessage( LocalMessages[j] );
<a name="4246"></a>			<span class="source_type">i</span>--;
<a name="4247"></a>			continue;
<a name="4248"></a>		}
<a name="4249"></a>
<a name="4250"></a>		if( LocalMessages[<span class="source_type">i</span>].Message.default.bFadeMessage )
<a name="4251"></a>		{
<a name="4252"></a>			FadeValue = (LocalMessages[<span class="source_type">i</span>].EndOfLife - <span class="source_type">Level</span>.TimeSeconds);
<a name="4253"></a>
<a name="4254"></a>			if( FadeValue &lt;= <span class="source_int">0.0</span> )
<a name="4255"></a>			{
<a name="4256"></a>				for( j = <span class="source_type">i</span>; j &lt; ArrayCount(LocalMessages) - <span class="source_int">1</span>; j++ )
<a name="4257"></a>				{
<a name="4258"></a>					LocalMessages[j] = LocalMessages[j+<span class="source_int">1</span>];
<a name="4259"></a>					LocalMessagesExtra[j] = LocalMessagesExtra[j+<span class="source_int">1</span>];
<a name="4260"></a>				}
<a name="4261"></a>				ClearMessage( LocalMessages[j] );
<a name="4262"></a>				<span class="source_type">i</span>--;
<a name="4263"></a>				continue;
<a name="4264"></a>			}
<a name="4265"></a>		}
<a name="4266"></a>		<span class="source_comment">// Fix non-fade messages from staying on screen - butto 7/13/03
</span><a name="4267"></a>		else if (<span class="source_type">Level</span>.TimeSeconds &gt; LocalMessages[<span class="source_type">i</span>].EndOfLife)
<a name="4268"></a>		{
<a name="4269"></a>			for( j = <span class="source_type">i</span>; j &lt; ArrayCount(LocalMessages) - <span class="source_int">1</span>; j++ )
<a name="4270"></a>			{
<a name="4271"></a>				LocalMessages[j] = LocalMessages[j+<span class="source_int">1</span>];
<a name="4272"></a>				LocalMessagesExtra[j] = LocalMessagesExtra[j+<span class="source_int">1</span>];
<a name="4273"></a>			}
<a name="4274"></a>			ClearMessage( LocalMessages[j] );
<a name="4275"></a>			<span class="source_type">i</span>--;
<a name="4276"></a>			continue;
<a name="4277"></a>		}
<a name="4278"></a>	}
<a name="4279"></a>
<a name="4280"></a>	<span class="source_comment">// Pass 2: Go through the list and draw each stack:
</span><a name="4281"></a>
<a name="4282"></a>	for( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(LocalMessages); <span class="source_type">i</span>++ )
<a name="4283"></a>	{
<a name="4284"></a>		if( LocalMessages[<span class="source_type">i</span>].Message == none )
<a name="4285"></a>			break;
<a name="4286"></a>
<a name="4287"></a>		if( LocalMessages[<span class="source_type">i</span>].Drawn )
<a name="4288"></a>			continue;
<a name="4289"></a>
<a name="4290"></a>		if( <span class="source_type">class</span><span class="source_name">'Object'</span>.static.ClassIsChildOf(LocalMessages[<span class="source_type">i</span>].Message, <span class="source_type">class</span><span class="source_name">'ROCriticalMessage'</span>))
<a name="4291"></a>		    continue;
<a name="4292"></a>
<a name="4293"></a>		PosX = LocalMessages[<span class="source_type">i</span>].PosX;
<a name="4294"></a>		PosY = LocalMessages[<span class="source_type">i</span>].PosY;
<a name="4295"></a>
<a name="4296"></a>		if( LocalMessages[<span class="source_type">i</span>].StackMode == SM_None )
<a name="4297"></a>		{
<a name="4298"></a>			DrawMessage( <span class="source_type">C</span>, <span class="source_type">i</span>, PosX, PosY, DX, <span class="source_type">DY</span> );
<a name="4299"></a>			continue;
<a name="4300"></a>		}
<a name="4301"></a>
<a name="4302"></a>		for( j = <span class="source_type">i</span>; j &lt; ArrayCount(LocalMessages); j++ )
<a name="4303"></a>		{
<a name="4304"></a>			if( LocalMessages[j].Drawn )
<a name="4305"></a>				continue;
<a name="4306"></a>
<a name="4307"></a>			if( LocalMessages[<span class="source_type">i</span>].PosX != LocalMessages[j].PosX )
<a name="4308"></a>				continue;
<a name="4309"></a>
<a name="4310"></a>			if( LocalMessages[<span class="source_type">i</span>].PosY != LocalMessages[j].PosY )
<a name="4311"></a>				continue;
<a name="4312"></a>
<a name="4313"></a>			if( LocalMessages[<span class="source_type">i</span>].DrawPivot != LocalMessages[j].DrawPivot )
<a name="4314"></a>				continue;
<a name="4315"></a>
<a name="4316"></a>			if( LocalMessages[<span class="source_type">i</span>].StackMode != LocalMessages[j].StackMode )
<a name="4317"></a>				continue;
<a name="4318"></a>
<a name="4319"></a>			DrawMessage( <span class="source_type">C</span>, j, PosX, PosY, DX, <span class="source_type">DY</span> );
<a name="4320"></a>
<a name="4321"></a>			<span class="source_type">switch</span>( LocalMessages[j].StackMode )
<a name="4322"></a>			{
<a name="4323"></a>				case SM_Up:
<a name="4324"></a>					PosY -= <span class="source_type">DY</span>;
<a name="4325"></a>					break;
<a name="4326"></a>
<a name="4327"></a>				case SM_Down:
<a name="4328"></a>					PosY += <span class="source_type">DY</span>;
<a name="4329"></a>					break;
<a name="4330"></a>			}
<a name="4331"></a>		}
<a name="4332"></a>	}
<a name="4333"></a>
<a name="4334"></a>	<span class="source_comment">// Part 3: go through list in reverse to display ROCriticalMessages in proper order
</span><a name="4335"></a>	for (<span class="source_type">i</span> = ArrayCount(LocalMessages) - <span class="source_int">1</span>; <span class="source_type">i</span> &gt;= <span class="source_int">0</span>; <span class="source_type">i</span>--)
<a name="4336"></a>	{
<a name="4337"></a>		if( LocalMessages[<span class="source_type">i</span>].Drawn )
<a name="4338"></a>			continue;
<a name="4339"></a>
<a name="4340"></a>		if( LocalMessages[<span class="source_type">i</span>].Message == none )
<a name="4341"></a>			continue;
<a name="4342"></a>
<a name="4343"></a>		PosX = LocalMessages[<span class="source_type">i</span>].PosX;
<a name="4344"></a>		PosY = LocalMessages[<span class="source_type">i</span>].PosY;
<a name="4345"></a>
<a name="4346"></a>		if( LocalMessages[<span class="source_type">i</span>].StackMode == SM_None )
<a name="4347"></a>		{
<a name="4348"></a>			DrawMessage( <span class="source_type">C</span>, <span class="source_type">i</span>, PosX, PosY, DX, <span class="source_type">DY</span> );
<a name="4349"></a>			continue;
<a name="4350"></a>		}
<a name="4351"></a>
<a name="4352"></a>		for( j = <span class="source_type">i</span>; j &gt;= <span class="source_int">0</span> ; j-- )
<a name="4353"></a>		{
<a name="4354"></a>			if( LocalMessages[j].Drawn )
<a name="4355"></a>				continue;
<a name="4356"></a>
<a name="4357"></a>			if( LocalMessages[<span class="source_type">i</span>].PosX != LocalMessages[j].PosX )
<a name="4358"></a>				continue;
<a name="4359"></a>
<a name="4360"></a>			if( LocalMessages[<span class="source_type">i</span>].PosY != LocalMessages[j].PosY )
<a name="4361"></a>				continue;
<a name="4362"></a>
<a name="4363"></a>			if( LocalMessages[<span class="source_type">i</span>].DrawPivot != LocalMessages[j].DrawPivot )
<a name="4364"></a>				continue;
<a name="4365"></a>
<a name="4366"></a>			if( LocalMessages[<span class="source_type">i</span>].StackMode != LocalMessages[j].StackMode )
<a name="4367"></a>				continue;
<a name="4368"></a>
<a name="4369"></a>			DrawMessage( <span class="source_type">C</span>, j, PosX, PosY, DX, <span class="source_type">DY</span> );
<a name="4370"></a>
<a name="4371"></a>			<span class="source_type">switch</span>( LocalMessages[j].StackMode )
<a name="4372"></a>			{
<a name="4373"></a>				case SM_Up:
<a name="4374"></a>					PosY -= <span class="source_type">DY</span>;
<a name="4375"></a>					break;
<a name="4376"></a>
<a name="4377"></a>				case SM_Down:
<a name="4378"></a>					<span class="source_comment">// hackish for critical messages
</span><a name="4379"></a>					if (<span class="source_type">class</span><span class="source_name">'Object'</span>.static.ClassIsChildOf(LocalMessages[j].Message, <span class="source_type">class</span><span class="source_name">'ROCriticalMessage'</span>))
<a name="4380"></a>					{
<a name="4381"></a>					    PosY += LocalMessagesExtra[j].y_offset;
<a name="4382"></a>					}
<a name="4383"></a>					else
<a name="4384"></a>					    PosY += <span class="source_type">DY</span>;
<a name="4385"></a>
<a name="4386"></a>					break;
<a name="4387"></a>			}
<a name="4388"></a>		}
<a name="4389"></a>	}
<a name="4390"></a>}
<a name="4391"></a>
<a name="4392"></a>simulated function LocalizedMessage( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/localmessage.html" class="source">LocalMessage</a></span>&gt; Message, optional <span class="source_type">int</span> <span class="source_type">Switch</span>, optional <span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> <span class="source_type">RelatedPRI_1</span>, optional <span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> <span class="source_type">RelatedPRI_2</span>, optional <span class="source_type"><a href="../core/object.html" class="source">Object</a></span> <span class="source_type">OptionalObject</span>, optional <span class="source_type">String</span> <span class="source_type">CriticalString</span>)
<a name="4393"></a>{
<a name="4394"></a>	local <span class="source_type">int</span> <span class="source_type">i</span>, count;
<a name="4395"></a>	local <span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> HUDPRI;
<a name="4396"></a>
<a name="4397"></a>	if( Message == none )
<a name="4398"></a>		return;
<a name="4399"></a>
<a name="4400"></a>	if( bIsCinematic && !ClassIsChildOf(Message,<span class="source_type">class</span><span class="source_name">'ActionMessage'</span>) )
<a name="4401"></a>		return;
<a name="4402"></a>
<a name="4403"></a>	if( <span class="source_type">CriticalString</span> == <span class="source_string">""</span> )
<a name="4404"></a>	{
<a name="4405"></a>		if ( (PawnOwner != None) && (PawnOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != None) )
<a name="4406"></a>			HUDPRI = PawnOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>;
<a name="4407"></a>		else
<a name="4408"></a>			HUDPRI = PlayerOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>;
<a name="4409"></a>		if ( HUDPRI == <span class="source_type">RelatedPRI_1</span> )
<a name="4410"></a>			<span class="source_type">CriticalString</span> = Message.static.GetRelatedString( <span class="source_type">Switch</span>, <span class="source_type">RelatedPRI_1</span>, <span class="source_type">RelatedPRI_2</span>, <span class="source_type">OptionalObject</span> );
<a name="4411"></a>		else
<a name="4412"></a>			<span class="source_type">CriticalString</span> = Message.static.GetString( <span class="source_type">Switch</span>, <span class="source_type">RelatedPRI_1</span>, <span class="source_type">RelatedPRI_2</span>, <span class="source_type">OptionalObject</span> );
<a name="4413"></a>	}
<a name="4414"></a>
<a name="4415"></a>	if( bMessageBeep && Message.default.bBeep )
<a name="4416"></a>		PlayerOwner.PlayBeepSound();
<a name="4417"></a>
<a name="4418"></a>	if( !Message.default.bIsSpecial )
<a name="4419"></a>	{
<a name="4420"></a>		if ( PlayerOwner.bDemoOwner )
<a name="4421"></a>		{
<a name="4422"></a>			for( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;ConsoleMessageCount; <span class="source_type">i</span>++ )
<a name="4423"></a>				if ( <span class="source_type">i</span> &gt;= ArrayCount(TextMessages) || TextMessages[<span class="source_type">i</span>].<span class="source_type">Text</span> == <span class="source_string">""</span> )
<a name="4424"></a>					break;
<a name="4425"></a>
<a name="4426"></a>			if ( <span class="source_type">i</span> &gt; <span class="source_int">0</span> && TextMessages[<span class="source_type">i</span>-<span class="source_int">1</span>].<span class="source_type">Text</span> == <span class="source_type">CriticalString</span> )
<a name="4427"></a>				return;
<a name="4428"></a>		}
<a name="4429"></a>	    AddTextMessage( <span class="source_type">CriticalString</span>, Message,<span class="source_type">RelatedPRI_1</span> );
<a name="4430"></a>		return;
<a name="4431"></a>	}
<a name="4432"></a>
<a name="4433"></a>	if (<span class="source_type">class</span><span class="source_name">'Object'</span>.static.ClassIsChildOf(Message, <span class="source_type">class</span><span class="source_name">'ROCriticalMessage'</span>) &&
<a name="4434"></a>		<span class="source_type">class</span><span class="source_name">'ROCriticalMessage'</span>.default.maxMessagesOnScreen &gt; <span class="source_int">0</span>)
<a name="4435"></a>	{
<a name="4436"></a>		<span class="source_comment">// Check if we have too many critical messages in stack
</span><a name="4437"></a>		count = <span class="source_int">0</span>;
<a name="4438"></a>		for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(LocalMessages); <span class="source_type">i</span>++)
<a name="4439"></a>			if (<span class="source_type">class</span><span class="source_name">'Object'</span>.static.ClassIsChildOf(LocalMessages[<span class="source_type">i</span>].Message, <span class="source_type">class</span><span class="source_name">'ROCriticalMessage'</span>))
<a name="4440"></a>				count++;
<a name="4441"></a>
<a name="4442"></a>		if (count &gt;= <span class="source_type">class</span><span class="source_name">'ROCriticalMessage'</span>.default.maxMessagesOnScreen)
<a name="4443"></a>		{
<a name="4444"></a>			<span class="source_comment">// We have too many critical message -- delete oldest one
</span><a name="4445"></a>			for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(LocalMessages); <span class="source_type">i</span>++)
<a name="4446"></a>				if (<span class="source_type">class</span><span class="source_name">'Object'</span>.static.ClassIsChildOf(LocalMessages[<span class="source_type">i</span>].Message, <span class="source_type">class</span><span class="source_name">'ROCriticalMessage'</span>))
<a name="4447"></a>					break;
<a name="4448"></a>			for (<span class="source_type">i</span> = <span class="source_type">i</span>; <span class="source_type">i</span> &lt; ArrayCount(LocalMessages) - <span class="source_int">1</span>; <span class="source_type">i</span>++)
<a name="4449"></a>	        {
<a name="4450"></a>		        LocalMessages[<span class="source_type">i</span>] = LocalMessages[<span class="source_type">i</span>+<span class="source_int">1</span>];
<a name="4451"></a>		        LocalMessagesExtra[<span class="source_type">i</span>] = LocalMessagesExtra[<span class="source_type">i</span>+<span class="source_int">1</span>];
<a name="4452"></a>		    }
<a name="4453"></a>	        ClearMessage(LocalMessages[<span class="source_type">i</span>+<span class="source_int">1</span>]);
<a name="4454"></a>		}
<a name="4455"></a>	}
<a name="4456"></a>
<a name="4457"></a>	<span class="source_type">i</span> = ArrayCount(LocalMessages);
<a name="4458"></a>	if( Message.default.bIsUnique )
<a name="4459"></a>	{
<a name="4460"></a>		for( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(LocalMessages); <span class="source_type">i</span>++ )
<a name="4461"></a>		{
<a name="4462"></a>		    if( LocalMessages[<span class="source_type">i</span>].Message == None )
<a name="4463"></a>				continue;
<a name="4464"></a>
<a name="4465"></a>		    if( LocalMessages[<span class="source_type">i</span>].Message == Message )
<a name="4466"></a>				break;
<a name="4467"></a>		}
<a name="4468"></a>	}
<a name="4469"></a>	else if ( Message.default.bIsPartiallyUnique || PlayerOwner.bDemoOwner )
<a name="4470"></a>	{
<a name="4471"></a>		for( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(LocalMessages); <span class="source_type">i</span>++ )
<a name="4472"></a>		{
<a name="4473"></a>		    if( LocalMessages[<span class="source_type">i</span>].Message == none )
<a name="4474"></a>				continue;
<a name="4475"></a>
<a name="4476"></a>		    if( ( LocalMessages[<span class="source_type">i</span>].Message == Message ) && ( LocalMessages[<span class="source_type">i</span>].<span class="source_type">Switch</span> == <span class="source_type">Switch</span> ) )
<a name="4477"></a>				break;
<a name="4478"></a>		}
<a name="4479"></a>	}
<a name="4480"></a>
<a name="4481"></a>	if( <span class="source_type">i</span> == ArrayCount(LocalMessages) )
<a name="4482"></a>	{
<a name="4483"></a>	    for( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(LocalMessages); <span class="source_type">i</span>++ )
<a name="4484"></a>	    {
<a name="4485"></a>		    if( LocalMessages[<span class="source_type">i</span>].Message == none )
<a name="4486"></a>				break;
<a name="4487"></a>	    }
<a name="4488"></a>	}
<a name="4489"></a>
<a name="4490"></a>	if( <span class="source_type">i</span> == ArrayCount(LocalMessages) )
<a name="4491"></a>	{
<a name="4492"></a>	    for( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(LocalMessages) - <span class="source_int">1</span>; <span class="source_type">i</span>++ )
<a name="4493"></a>	    {
<a name="4494"></a>		    LocalMessages[<span class="source_type">i</span>] = LocalMessages[<span class="source_type">i</span>+<span class="source_int">1</span>];
<a name="4495"></a>		    LocalMessagesExtra[<span class="source_type">i</span>] = LocalMessagesExtra[<span class="source_type">i</span>+<span class="source_int">1</span>];
<a name="4496"></a>		}
<a name="4497"></a>	}
<a name="4498"></a>
<a name="4499"></a>	ClearMessage( LocalMessages[<span class="source_type">i</span>] );
<a name="4500"></a>
<a name="4501"></a>	LocalMessages[<span class="source_type">i</span>].Message = Message;
<a name="4502"></a>	LocalMessages[<span class="source_type">i</span>].<span class="source_type">Switch</span> = <span class="source_type">Switch</span>;
<a name="4503"></a>	LocalMessages[<span class="source_type">i</span>].<span class="source_type">RelatedPRI</span> = <span class="source_type">RelatedPRI_1</span>;
<a name="4504"></a>	LocalMessages[<span class="source_type">i</span>].RelatedPRI2 = <span class="source_type">RelatedPRI_2</span>;
<a name="4505"></a>	LocalMessages[<span class="source_type">i</span>].<span class="source_type">OptionalObject</span> = <span class="source_type">OptionalObject</span>;
<a name="4506"></a>
<a name="4507"></a>	<span class="source_comment">// Hackish for ROCriticalMessages
</span><a name="4508"></a>	if (<span class="source_type">class</span><span class="source_name">'Object'</span>.static.ClassIsChildOf(Message, <span class="source_type">class</span><span class="source_name">'ROCriticalMessage'</span>) &&
<a name="4509"></a>		<span class="source_type">class</span>&lt;<span class="source_type"><a href="../roengine/rocriticalmessage.html" class="source">ROCriticalMessage</a></span>&gt;(Message).default.bQuickFade)
<a name="4510"></a>	{
<a name="4511"></a>		 LocalMessages[<span class="source_type">i</span>].LifeTime = Message.static.GetLifetime(<span class="source_type">Switch</span>) +
<a name="4512"></a>			<span class="source_type">class</span>&lt;<span class="source_type"><a href="../roengine/rocriticalmessage.html" class="source">ROCriticalMessage</a></span>&gt;(Message).default.quickFadeTime;
<a name="4513"></a>	     LocalMessages[<span class="source_type">i</span>].EndOfLife = LocalMessages[<span class="source_type">i</span>].LifeTime + <span class="source_type">Level</span>.TimeSeconds;
<a name="4514"></a>
<a name="4515"></a>	     <span class="source_comment">// Mild hax: used to show hints when an obj is captured
</span><a name="4516"></a>	     <span class="source_comment">// This was simpliest way of doing it without having server call another
</span><a name="4517"></a>	     <span class="source_comment">// server-to-client function
</span><a name="4518"></a>	     if (<span class="source_type">class</span><span class="source_name">'Object'</span>.static.ClassIsChildOf(Message, <span class="source_type">class</span><span class="source_name">'ROObjectiveMsg'</span>) &&
<a name="4519"></a>	         (<span class="source_type">switch</span> == <span class="source_int">0</span> || <span class="source_type">switch</span> == <span class="source_int">1</span>) )
<a name="4520"></a>	     {
<a name="4521"></a>	         if (<span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(PlayerOwner) != none)
<a name="4522"></a>	             <span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(PlayerOwner).CheckForHint(<span class="source_int">17</span>);
<a name="4523"></a>	     }
<a name="4524"></a>
<a name="4525"></a>	}
<a name="4526"></a>	else
<a name="4527"></a>	{
<a name="4528"></a>	     LocalMessages[<span class="source_type">i</span>].EndOfLife = Message.static.GetLifetime(<span class="source_type">Switch</span>) + <span class="source_type">Level</span>.TimeSeconds;
<a name="4529"></a>	     LocalMessages[<span class="source_type">i</span>].LifeTime = Message.static.GetLifetime(<span class="source_type">Switch</span>);
<a name="4530"></a>	}
<a name="4531"></a>	LocalMessages[<span class="source_type">i</span>].StringMessage = <span class="source_type">CriticalString</span>;
<a name="4532"></a>}
<a name="4533"></a>
<a name="4534"></a>simulated function LayoutMessage( out <span class="source_type"><a href="../xinterface/hudbase.html#HudLocalizedMessage" class="source">HudLocalizedMessage</a></span> Message, <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span> )
<a name="4535"></a>{
<a name="4536"></a>	local <span class="source_type">int</span> FontSize;
<a name="4537"></a>
<a name="4538"></a>	FontSize = Message.Message.static.GetFontSize( Message.<span class="source_type">Switch</span>, Message.<span class="source_type">RelatedPRI</span>, Message.RelatedPRI2, PlayerOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> );
<a name="4539"></a>	FontSize += MessageFontOffset;
<a name="4540"></a>
<a name="4541"></a>	if (<span class="source_type">class</span><span class="source_name">'Object'</span>.static.ClassIsChildOf(Message.Message, <span class="source_type">class</span><span class="source_name">'ROCriticalMessage'</span>))
<a name="4542"></a>	    Message.StringFont = GetCriticalMsgFontSizeIndex(<span class="source_type">C</span>,FontSize);
<a name="4543"></a>    else
<a name="4544"></a>        Message.StringFont = GetFontSizeIndex(<span class="source_type">C</span>,FontSize);
<a name="4545"></a>
<a name="4546"></a>	Message.DrawColor = Message.Message.static.GetColor( Message.<span class="source_type">Switch</span>, Message.<span class="source_type">RelatedPRI</span>, Message.RelatedPRI2 );
<a name="4547"></a>	Message.Message.static.GetPos( Message.<span class="source_type">Switch</span>, Message.DrawPivot, Message.StackMode, Message.PosX, Message.PosY );
<a name="4548"></a>	<span class="source_type">C</span>.<span class="source_type">Font</span> = Message.StringFont;
<a name="4549"></a>	<span class="source_type">C</span>.TextSize( Message.StringMessage, Message.DX, Message.<span class="source_type">DY</span> );
<a name="4550"></a>}
<a name="4551"></a>
<a name="4552"></a>simulated function ExtraLayoutMessage( out <span class="source_type"><a href="../xinterface/hudbase.html#HudLocalizedMessage" class="source">HudLocalizedMessage</a></span> Message, out <span class="source_type"><a href="../roengine/rohud.html#HudLocalizedMessageExtra" class="source">HudLocalizedMessageExtra</a></span> MessageExtra, <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>)
<a name="4553"></a>{
<a name="4554"></a>	local array&lt;<span class="source_type">string</span>&gt; lines;
<a name="4555"></a>	local <span class="source_type">float</span> tempXL, tempYL, initialXL, XL, <span class="source_type">YL</span>;
<a name="4556"></a>	local <span class="source_type">int</span> <span class="source_type">i</span>, initialNumLines, j;
<a name="4557"></a>
<a name="4558"></a>	<span class="source_comment">//log("Setting layout for string: " $ MEssage.StringMessage);
</span><a name="4559"></a>
<a name="4560"></a>	<span class="source_comment">// Hackish for ROCriticalMessages
</span><a name="4561"></a>	if (<span class="source_type">class</span><span class="source_name">'Object'</span>.static.ClassIsChildOf(Message.Message, <span class="source_type">class</span><span class="source_name">'ROCriticalMessage'</span>))
<a name="4562"></a>	{
<a name="4563"></a>		<span class="source_comment">// Set a random background type
</span><a name="4564"></a>		MessageExtra.background_type = rand(<span class="source_int">4</span>);
<a name="4565"></a>
<a name="4566"></a>		<span class="source_comment">// Figure what width to use to break the string at
</span><a name="4567"></a>		initialXL = Message.DX;
<a name="4568"></a>		tempXL = min(initialXL, <span class="source_type">C</span>.SizeX * <span class="source_type">class</span><span class="source_name">'ROCriticalMessage'</span>.default.maxMessageWidth);
<a name="4569"></a>		if (tempXL &lt; Message.<span class="source_type">DY</span> * <span class="source_int">8</span>) <span class="source_comment">// only wrap if we have enough text
</span><a name="4570"></a>		{
<a name="4571"></a>			MessageExtra.lines.length = <span class="source_int">1</span>;
<a name="4572"></a>			MessageExtra.lines[<span class="source_int">0</span>] = Message.StringMessage;
<a name="4573"></a>		}
<a name="4574"></a>		else
<a name="4575"></a>		{
<a name="4576"></a>			lines.Length = <span class="source_int">0</span>;
<a name="4577"></a>			<span class="source_type">C</span>.WrapStringToArray(Message.StringMessage, lines, tempXL);
<a name="4578"></a>			initialNumLines = lines.length;
<a name="4579"></a>
<a name="4580"></a>			for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; <span class="source_int">20</span>; <span class="source_type">i</span>++)
<a name="4581"></a>			{
<a name="4582"></a>				tempXL *= <span class="source_int">0.8</span>;
<a name="4583"></a>				lines.Length = <span class="source_int">0</span>;
<a name="4584"></a>				<span class="source_type">C</span>.WrapStringToArray(Message.StringMessage, lines, tempXL);
<a name="4585"></a>				<span class="source_comment">//log("Testing with width of " $ tempXL);
</span><a name="4586"></a>				<span class="source_comment">//log("Number of resulting lines: " $ lines.Length);
</span><a name="4587"></a>				if (lines.Length &gt; initialNumLines)
<a name="4588"></a>				{
<a name="4589"></a>					<span class="source_comment">// If we're getting more than initialNumLines lines, it means we
</span><a name="4590"></a>					<span class="source_comment">// should use the previously calculated width
</span><a name="4591"></a>					lines.Length = <span class="source_int">0</span>;
<a name="4592"></a>					<span class="source_type">C</span>.WrapStringToArray(Message.StringMessage, lines, Message.DX);
<a name="4593"></a>					<span class="source_comment">//log("Wrapping using previous width gives us: " $ lines.Length $ " lines.");
</span><a name="4594"></a>
<a name="4595"></a>					<span class="source_comment">// Save strings to message array + calculate resulting XL/YL
</span><a name="4596"></a>					MessageExtra.lines.Length = lines.Length;
<a name="4597"></a>					<span class="source_type">C</span>.<span class="source_type">Font</span> = Message.StringFont;
<a name="4598"></a>					XL = <span class="source_int">0</span>;
<a name="4599"></a>					<span class="source_type">YL</span> = <span class="source_int">0</span>;
<a name="4600"></a>					for (j = <span class="source_int">0</span>; j &lt; lines.Length; j++)
<a name="4601"></a>					{
<a name="4602"></a>						<span class="source_comment">//log("Line #" $ j $ " = " $ lines[j]);
</span><a name="4603"></a>						MessageExtra.lines[j] = lines[j];
<a name="4604"></a>						<span class="source_type">C</span>.TextSize(lines[j], tempXL, tempYL);
<a name="4605"></a>						XL = <span class="source_type">max</span>(tempXL, XL);
<a name="4606"></a>						<span class="source_type">YL</span> += tempYL;
<a name="4607"></a>					}
<a name="4608"></a>
<a name="4609"></a>					Message.DX = XL;
<a name="4610"></a>					Message.<span class="source_type">DY</span> = <span class="source_type">YL</span>;
<a name="4611"></a>
<a name="4612"></a>					break;
<a name="4613"></a>				}
<a name="4614"></a>				Message.DX = tempXL; <span class="source_comment">// store temporarily
</span><a name="4615"></a>			}
<a name="4616"></a>		}
<a name="4617"></a>	}
<a name="4618"></a>}
<a name="4619"></a>
<a name="4620"></a>function <span class="source_type">Font</span> GetCriticalMsgFontSizeIndex(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>, <span class="source_type">int</span> FontSize)
<a name="4621"></a>{
<a name="4622"></a>    if ( <span class="source_type">C</span>.ClipX &gt;= <span class="source_int">512</span> )
<a name="4623"></a>		FontSize++;
<a name="4624"></a>	if ( <span class="source_type">C</span>.ClipX &gt;= <span class="source_int">640</span> )
<a name="4625"></a>		FontSize++;
<a name="4626"></a>	if ( <span class="source_type">C</span>.ClipX &gt;= <span class="source_int">800</span> )
<a name="4627"></a>		FontSize++;
<a name="4628"></a>	if ( <span class="source_type">C</span>.ClipX &gt;= <span class="source_int">1024</span> )
<a name="4629"></a>		FontSize++;
<a name="4630"></a>	if ( <span class="source_type">C</span>.ClipX &gt;= <span class="source_int">1280</span> )
<a name="4631"></a>		FontSize++;
<a name="4632"></a>	if ( <span class="source_type">C</span>.ClipX &gt;= <span class="source_int">1600</span> )
<a name="4633"></a>		FontSize++;
<a name="4634"></a>
<a name="4635"></a>	return LoadCriticalMsgFont(Clamp( <span class="source_int">8</span>-FontSize, <span class="source_int">0</span>, <span class="source_int">8</span>));
<a name="4636"></a>}
<a name="4637"></a>
<a name="4638"></a>simulated function <span class="source_type">Font</span> LoadCriticalMsgFont(<span class="source_type">int</span> <span class="source_type">i</span>)
<a name="4639"></a>{
<a name="4640"></a>	if ( CriticalMsgFontArrayFonts[<span class="source_type">i</span>] == none )
<a name="4641"></a>	{
<a name="4642"></a>		CriticalMsgFontArrayFonts[<span class="source_type">i</span>] = <span class="source_type">Font</span>(DynamicLoadObject(CriticalMsgFontArrayNames[<span class="source_type">i</span>], <span class="source_type">class</span><span class="source_name">'Font'</span>));
<a name="4643"></a>		if( CriticalMsgFontArrayFonts[<span class="source_type">i</span>] == none )
<a name="4644"></a>			Log(<span class="source_string">"Warning: "</span>$Self$<span class="source_string">" Couldn't dynamically load font "</span>$CriticalMsgFontArrayNames[<span class="source_type">i</span>]);
<a name="4645"></a>	}
<a name="4646"></a>	return CriticalMsgFontArrayFonts[<span class="source_type">i</span>];
<a name="4647"></a>}
<a name="4648"></a>
<a name="4649"></a>simulated function DrawMessage( <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>, <span class="source_type">int</span> <span class="source_type">i</span>, <span class="source_type">float</span> PosX, <span class="source_type">float</span> PosY, out <span class="source_type">float</span> DX, out <span class="source_type">float</span> <span class="source_type">DY</span> )
<a name="4650"></a>{
<a name="4651"></a>	local <span class="source_type">float</span> FadeValue;
<a name="4652"></a>	local <span class="source_type">float</span> ScreenX, ScreenY;
<a name="4653"></a>
<a name="4654"></a>	if ( !LocalMessages[<span class="source_type">i</span>].Message.default.bFadeMessage )
<a name="4655"></a>		<span class="source_type">C</span>.DrawColor = LocalMessages[<span class="source_type">i</span>].DrawColor;
<a name="4656"></a>	else if (<span class="source_type">class</span><span class="source_name">'Object'</span>.static.ClassIsChildOf(LocalMessages[<span class="source_type">i</span>].Message, <span class="source_type">class</span><span class="source_name">'ROCriticalMessage'</span>) &&
<a name="4657"></a>		<span class="source_type">class</span>&lt;<span class="source_type"><a href="../roengine/rocriticalmessage.html" class="source">ROCriticalMessage</a></span>&gt;(LocalMessages[<span class="source_type">i</span>].Message).default.bQuickFade)
<a name="4658"></a>	{
<a name="4659"></a>	    FadeValue = (LocalMessages[<span class="source_type">i</span>].EndOfLife - <span class="source_type">Level</span>.TimeSeconds) /
<a name="4660"></a>			<span class="source_type">class</span>&lt;<span class="source_type"><a href="../roengine/rocriticalmessage.html" class="source">ROCriticalMessage</a></span>&gt;(LocalMessages[<span class="source_type">i</span>].Message).default.quickFadeTime;
<a name="4661"></a>		if (FadeValue &gt; <span class="source_int">1</span>)
<a name="4662"></a>			FadeValue = <span class="source_int">1</span>;
<a name="4663"></a>		<span class="source_type">C</span>.DrawColor = LocalMessages[<span class="source_type">i</span>].DrawColor;
<a name="4664"></a>		<span class="source_type">C</span>.DrawColor.<span class="source_type">A</span> = LocalMessages[<span class="source_type">i</span>].DrawColor.<span class="source_type">A</span> * FadeValue;
<a name="4665"></a>	}
<a name="4666"></a>	else
<a name="4667"></a>	{
<a name="4668"></a>		FadeValue = (LocalMessages[<span class="source_type">i</span>].EndOfLife - <span class="source_type">Level</span>.TimeSeconds);
<a name="4669"></a>		<span class="source_type">C</span>.DrawColor = LocalMessages[<span class="source_type">i</span>].DrawColor;
<a name="4670"></a>		<span class="source_type">C</span>.DrawColor.<span class="source_type">A</span> = LocalMessages[<span class="source_type">i</span>].DrawColor.<span class="source_type">A</span> * (FadeValue/LocalMessages[<span class="source_type">i</span>].LifeTime);
<a name="4671"></a>	}
<a name="4672"></a>
<a name="4673"></a>	<span class="source_type">C</span>.<span class="source_type">Font</span> = LocalMessages[<span class="source_type">i</span>].StringFont;
<a name="4674"></a>	GetScreenCoords( PosX, PosY, ScreenX, ScreenY, LocalMessages[<span class="source_type">i</span>], <span class="source_type">C</span> );
<a name="4675"></a>	<span class="source_type">C</span>.SetPos( ScreenX, ScreenY );
<a name="4676"></a>	DX = LocalMessages[<span class="source_type">i</span>].DX / <span class="source_type">C</span>.ClipX;
<a name="4677"></a>	<span class="source_type">DY</span> = LocalMessages[<span class="source_type">i</span>].<span class="source_type">DY</span> / <span class="source_type">C</span>.ClipY;
<a name="4678"></a>
<a name="4679"></a>	if ( <span class="source_type">class</span><span class="source_name">'Object'</span>.static.ClassIsChildOf(LocalMessages[<span class="source_type">i</span>].Message, <span class="source_type">class</span><span class="source_name">'ROCriticalMessage'</span>) )
<a name="4680"></a>	{
<a name="4681"></a>	    <span class="source_type">class</span>&lt;<span class="source_type"><a href="../roengine/rocriticalmessage.html" class="source">ROCriticalMessage</a></span>&gt;(LocalMessages[<span class="source_type">i</span>].Message).static.RenderComplexMessageExtra(
<a name="4682"></a>			<span class="source_type">C</span>, LocalMessages[<span class="source_type">i</span>].DX, LocalMessages[<span class="source_type">i</span>].<span class="source_type">DY</span>, LocalMessagesExtra[<span class="source_type">i</span>].y_offset,
<a name="4683"></a>			LocalMessages[<span class="source_type">i</span>].<span class="source_type">Switch</span>, LocalMessages[<span class="source_type">i</span>].<span class="source_type">RelatedPRI</span>,
<a name="4684"></a>			LocalMessages[<span class="source_type">i</span>].RelatedPRI2, LocalMessages[<span class="source_type">i</span>].<span class="source_type">OptionalObject</span>,
<a name="4685"></a>			LocalMessagesExtra[<span class="source_type">i</span>].lines, LocalMessagesExtra[<span class="source_type">i</span>].background_type );
<a name="4686"></a>	}
<a name="4687"></a>	else if ( LocalMessages[<span class="source_type">i</span>].Message.default.bComplexString )
<a name="4688"></a>	{
<a name="4689"></a>		LocalMessages[<span class="source_type">i</span>].Message.static.RenderComplexMessage( <span class="source_type">C</span>, LocalMessages[<span class="source_type">i</span>].DX, LocalMessages[<span class="source_type">i</span>].<span class="source_type">DY</span>,
<a name="4690"></a>			LocalMessages[<span class="source_type">i</span>].StringMessage, LocalMessages[<span class="source_type">i</span>].<span class="source_type">Switch</span>, LocalMessages[<span class="source_type">i</span>].<span class="source_type">RelatedPRI</span>,
<a name="4691"></a>			LocalMessages[<span class="source_type">i</span>].RelatedPRI2, LocalMessages[<span class="source_type">i</span>].<span class="source_type">OptionalObject</span> );
<a name="4692"></a>	}
<a name="4693"></a>	else
<a name="4694"></a>	{
<a name="4695"></a>		<span class="source_type">C</span>.DrawTextClipped( LocalMessages[<span class="source_type">i</span>].StringMessage, false );
<a name="4696"></a>	}
<a name="4697"></a>
<a name="4698"></a>	LocalMessages[<span class="source_type">i</span>].Drawn = true;
<a name="4699"></a>}
<a name="4700"></a>
<a name="4701"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="4702"></a><span class="source_comment">// DrawSpectatingHud - Display messages and timer
</span><a name="4703"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="4704"></a>
<a name="4705"></a>simulated function DrawSpectatingHud(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>)
<a name="4706"></a>{
<a name="4707"></a>	local <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span> GRI;
<a name="4708"></a>	local <span class="source_type">float</span> <span class="source_type"><a href="../core/time.html" class="source">Time</a></span>, strX, strY, <span class="source_type">X</span>, <span class="source_type">Y</span>, <span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>;
<a name="4709"></a>	local <span class="source_type">string</span> <span class="source_type">S</span>;
<a name="4710"></a>	local <span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span> Playa;
<a name="4711"></a>	local <span class="source_type">float</span> SmallH, NameWidth;
<a name="4712"></a>	local <span class="source_type">float</span> XL;
<a name="4713"></a>
<a name="4714"></a>	<span class="source_comment">// Draw fade effects
</span><a name="4715"></a>	<span class="source_type">C</span>.Style = <span class="source_type"><a href="../engine/actor.html#ERenderStyle" class="source">ERenderStyle</a></span>.STY_Alpha;
<a name="4716"></a>	DrawFadeEffect(<span class="source_type">C</span>);
<a name="4717"></a>
<a name="4718"></a>	<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span> = <span class="source_type">C</span>.ClipX / <span class="source_int">1600.0</span>;
<a name="4719"></a>
<a name="4720"></a>	GRI = <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span>(PlayerOwner.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>);
<a name="4721"></a>
<a name="4722"></a>	if (GRI != None)
<a name="4723"></a>	{
<a name="4724"></a>		<span class="source_comment">// Update round timer
</span><a name="4725"></a>		if (!GRI.bMatchHasBegun)
<a name="4726"></a>			CurrentTime = GRI.RoundStartTime + GRI.PreStartTime - GRI.ElapsedTime;
<a name="4727"></a>		else
<a name="4728"></a>			CurrentTime = GRI.RoundStartTime + GRI.RoundDuration - GRI.ElapsedTime;
<a name="4729"></a>
<a name="4730"></a>		<span class="source_type">S</span> = default.TimeRemainingText $ GetTimeString(CurrentTime);
<a name="4731"></a>
<a name="4732"></a>		<span class="source_type">X</span> = <span class="source_int">8</span> * <span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>;
<a name="4733"></a>		<span class="source_type">Y</span> = <span class="source_int">8</span> * <span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>;
<a name="4734"></a>
<a name="4735"></a>		<span class="source_type">C</span>.DrawColor = WhiteColor;
<a name="4736"></a>		<span class="source_type">C</span>.<span class="source_type">Font</span> = GetConsoleFont(<span class="source_type">C</span>);
<a name="4737"></a>		<span class="source_type">C</span>.TextSize(<span class="source_type">S</span>, strX, strY);
<a name="4738"></a>		<span class="source_type">C</span>.SetPos(<span class="source_type">X</span>, <span class="source_type">Y</span>);
<a name="4739"></a>		<span class="source_type">C</span>.DrawTextClipped(<span class="source_type">S</span>);
<a name="4740"></a>
<a name="4741"></a>		if (GRI.bMatchHasBegun && <span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(PlayerOwner) != None && <span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(PlayerOwner).CanRestartPlayer()
<a name="4742"></a>			&& PlayerOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span> != none && GRI.bReinforcementsComing[PlayerOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.TeamIndex] == <span class="source_int">1</span>)
<a name="4743"></a>		{
<a name="4744"></a>			<span class="source_type"><a href="../core/time.html" class="source">Time</a></span> = GRI.LastReinforcementTime[PlayerOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.TeamIndex] + GRI.ReinforcementInterval[PlayerOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.TeamIndex] - GRI.ElapsedTime;
<a name="4745"></a>			<span class="source_type">S</span> = default.ReinforcementText $ GetTimeString(<span class="source_type"><a href="../core/time.html" class="source">Time</a></span>);
<a name="4746"></a>
<a name="4747"></a>			<span class="source_type">Y</span> += <span class="source_int">4</span> * <span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span> + strY;
<a name="4748"></a>			<span class="source_comment">//C.TextSize(S, strX, strY);
</span><a name="4749"></a>			<span class="source_type">C</span>.SetPos(<span class="source_type">X</span>, <span class="source_type">Y</span>);
<a name="4750"></a>			<span class="source_type">C</span>.DrawTextClipped(<span class="source_type">S</span>);
<a name="4751"></a>		}
<a name="4752"></a>	}
<a name="4753"></a>
<a name="4754"></a>	if (PlayerOwner.<span class="source_type">ViewTarget</span> != PlayerOwner.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> && PawnOwner != None && PawnOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != None)
<a name="4755"></a>	{
<a name="4756"></a>		<span class="source_type">S</span> = ViewingText $ PawnOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerName</span>;
<a name="4757"></a>		<span class="source_type">C</span>.DrawColor = WhiteColor;
<a name="4758"></a>		<span class="source_type">C</span>.<span class="source_type">Font</span> = GetConsoleFont(<span class="source_type">C</span>);
<a name="4759"></a>		<span class="source_type">C</span>.TextSize(<span class="source_type">S</span>, strX, strY);
<a name="4760"></a>		<span class="source_type">C</span>.SetPos(<span class="source_type">C</span>.ClipX / <span class="source_int">2</span> - strX / <span class="source_int">2</span>, <span class="source_type">C</span>.ClipY - <span class="source_int">8</span> * <span class="source_type"><a href="../core/object.html#Scale" class="source">scale</a></span> - strY);
<a name="4761"></a>		<span class="source_type">C</span>.DrawTextClipped(<span class="source_type">S</span>);
<a name="4762"></a>	}
<a name="4763"></a>
<a name="4764"></a>	Playa = <span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(PlayerOwner);
<a name="4765"></a>
<a name="4766"></a>	<span class="source_comment">// Rough spectate hud stuff. TODO: Refine this so its not so plane
</span><a name="4767"></a>	if( Playa != none )
<a name="4768"></a>	{
<a name="4769"></a>		<span class="source_type">S</span> = Playa.GetSpecModeDescription();
<a name="4770"></a>		<span class="source_type">C</span>.DrawColor = WhiteColor;
<a name="4771"></a>		<span class="source_type">C</span>.<span class="source_type">Font</span> = GetLargeMenuFont(<span class="source_type">C</span>);
<a name="4772"></a>
<a name="4773"></a>		<span class="source_type">X</span> = <span class="source_type">C</span>.ClipX * <span class="source_int">0.5</span>;
<a name="4774"></a>		<span class="source_type">Y</span> = <span class="source_type">C</span>.ClipY * <span class="source_int">0.1</span>;
<a name="4775"></a>
<a name="4776"></a>		<span class="source_type">C</span>.TextSize(<span class="source_type">S</span>, strX, strY);
<a name="4777"></a>		<span class="source_type">C</span>.SetPos(<span class="source_type">X</span> - strX / <span class="source_int">2</span>, <span class="source_type">Y</span>  - strY);
<a name="4778"></a>		<span class="source_type">C</span>.DrawTextClipped(<span class="source_type">S</span>);
<a name="4779"></a>
<a name="4780"></a>		<span class="source_comment">// Draw line 1
</span><a name="4781"></a>		<span class="source_type">S</span> = SpectateInstructionText1;
<a name="4782"></a>		<span class="source_type">C</span>.<span class="source_type">Font</span> = GetConsoleFont(<span class="source_type">C</span>);
<a name="4783"></a>
<a name="4784"></a>		<span class="source_type">X</span> = <span class="source_type">C</span>.ClipX * <span class="source_int">0.5</span>;
<a name="4785"></a>		<span class="source_type">Y</span> = <span class="source_type">C</span>.ClipY * <span class="source_int">0.90</span>;
<a name="4786"></a>
<a name="4787"></a>		<span class="source_type">C</span>.TextSize(<span class="source_type">S</span>, strX, strY);
<a name="4788"></a>		<span class="source_type">C</span>.SetPos(<span class="source_type">X</span> - strX / <span class="source_int">2</span>, <span class="source_type">Y</span>  - strY);
<a name="4789"></a>		<span class="source_type">C</span>.DrawTextClipped(<span class="source_type">S</span>);
<a name="4790"></a>
<a name="4791"></a>		<span class="source_comment">// Draw line 2
</span><a name="4792"></a>		<span class="source_type">S</span> = SpectateInstructionText2;
<a name="4793"></a>		<span class="source_type">X</span> = <span class="source_type">C</span>.ClipX * <span class="source_int">0.5</span>;
<a name="4794"></a>		<span class="source_type">Y</span> += strY + (<span class="source_int">3</span> * <span class="source_type"><a href="../core/object.html#Scale" class="source">scale</a></span>);
<a name="4795"></a>
<a name="4796"></a>		<span class="source_type">C</span>.TextSize(<span class="source_type">S</span>, strX, strY);
<a name="4797"></a>		<span class="source_type">C</span>.SetPos(<span class="source_type">X</span> - strX / <span class="source_int">2</span>, <span class="source_type">Y</span>  - strY);
<a name="4798"></a>		<span class="source_type">C</span>.DrawTextClipped(<span class="source_type">S</span>);
<a name="4799"></a>
<a name="4800"></a>		<span class="source_comment">// Draw line 3
</span><a name="4801"></a>		<span class="source_type">S</span> = SpectateInstructionText3;
<a name="4802"></a>		<span class="source_type">X</span> = <span class="source_type">C</span>.ClipX * <span class="source_int">0.5</span>;
<a name="4803"></a>		<span class="source_type">Y</span> += strY + (<span class="source_int">3</span> * <span class="source_type"><a href="../core/object.html#Scale" class="source">scale</a></span>);
<a name="4804"></a>
<a name="4805"></a>		<span class="source_type">C</span>.TextSize(<span class="source_type">S</span>, strX, strY);
<a name="4806"></a>		<span class="source_type">C</span>.SetPos(<span class="source_type">X</span> - strX / <span class="source_int">2</span>, <span class="source_type">Y</span>  - strY);
<a name="4807"></a>		<span class="source_type">C</span>.DrawTextClipped(<span class="source_type">S</span>);
<a name="4808"></a>
<a name="4809"></a>		<span class="source_comment">// Draw line 4
</span><a name="4810"></a>		<span class="source_type">S</span> = SpectateInstructionText4;
<a name="4811"></a>		<span class="source_type">X</span> = <span class="source_type">C</span>.ClipX * <span class="source_int">0.5</span>;
<a name="4812"></a>		<span class="source_type">Y</span> += strY + (<span class="source_int">3</span> * <span class="source_type"><a href="../core/object.html#Scale" class="source">scale</a></span>);
<a name="4813"></a>
<a name="4814"></a>		<span class="source_type">C</span>.TextSize(<span class="source_type">S</span>, strX, strY);
<a name="4815"></a>		<span class="source_type">C</span>.SetPos(<span class="source_type">X</span> - strX / <span class="source_int">2</span>, <span class="source_type">Y</span>  - strY);
<a name="4816"></a>		<span class="source_type">C</span>.DrawTextClipped(<span class="source_type">S</span>);
<a name="4817"></a>	}
<a name="4818"></a>
<a name="4819"></a>    <span class="source_comment">// Draw the players name large if thier are viewing someone else in first person
</span><a name="4820"></a>    if ( (PawnOwner != None) && (PawnOwner != PlayerOwner.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>)
<a name="4821"></a>		&& (PawnOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != None) && !PlayerOwner.bBehindView)
<a name="4822"></a>	{
<a name="4823"></a>		<span class="source_comment">// draw viewed player name
</span><a name="4824"></a>	    <span class="source_type">C</span>.<span class="source_type">Font</span> = GetMediumFontFor(<span class="source_type">C</span>);
<a name="4825"></a>		<span class="source_type">C</span>.SetDrawColor(<span class="source_int">255</span>,<span class="source_int">255</span>,<span class="source_int">0</span>,<span class="source_int">255</span>);
<a name="4826"></a>		<span class="source_type">C</span>.StrLen(PawnOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerName</span>,NameWidth,SmallH);
<a name="4827"></a>		NameWidth = FMax(NameWidth, <span class="source_int">0.15</span> * <span class="source_type">C</span>.ClipX);
<a name="4828"></a>		if ( <span class="source_type">C</span>.ClipX &gt;= <span class="source_int">640</span> )
<a name="4829"></a>		{
<a name="4830"></a>			<span class="source_type">C</span>.<span class="source_type">Font</span> = GetConsoleFont(<span class="source_type">C</span>);
<a name="4831"></a>			<span class="source_type">C</span>.StrLen(<span class="source_string">"W"</span>,XL,SmallH);
<a name="4832"></a>			<span class="source_type">C</span>.SetPos(<span class="source_int">79</span>*<span class="source_type">C</span>.ClipX/<span class="source_int">80</span> - NameWidth,<span class="source_type">C</span>.ClipY * <span class="source_int">0.68</span>);
<a name="4833"></a>			<span class="source_type">C</span>.DrawText(NowViewing,false);
<a name="4834"></a>		}
<a name="4835"></a>
<a name="4836"></a>		<span class="source_type">C</span>.<span class="source_type">Font</span> = GetMediumFontFor(<span class="source_type">C</span>);
<a name="4837"></a>		<span class="source_type">C</span>.SetPos(<span class="source_int">79</span>*<span class="source_type">C</span>.ClipX/<span class="source_int">80</span> - NameWidth,<span class="source_type">C</span>.ClipY * <span class="source_int">0.68</span> + SmallH);
<a name="4838"></a>		<span class="source_type">C</span>.DrawText(PawnOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerName</span>,false);
<a name="4839"></a>	}
<a name="4840"></a>
<a name="4841"></a>	<span class="source_comment">// Draw hints
</span><a name="4842"></a>	if (bDrawHint)
<a name="4843"></a>		DrawHint(<span class="source_type">C</span>);
<a name="4844"></a>
<a name="4845"></a>	DisplayLocalMessages(<span class="source_type">C</span>);
<a name="4846"></a>}
<a name="4847"></a>
<a name="4848"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="4849"></a><span class="source_comment">// GetTimeString
</span><a name="4850"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="4851"></a>
<a name="4852"></a>static function <span class="source_type">string</span> GetTimeString(<span class="source_type">float</span> <span class="source_type"><a href="../core/time.html" class="source">Time</a></span>)
<a name="4853"></a>{
<a name="4854"></a>	local <span class="source_type">string</span> <span class="source_type">S</span>;
<a name="4855"></a>
<a name="4856"></a>	<span class="source_type"><a href="../core/time.html" class="source">Time</a></span> = FMax(<span class="source_int">0.0</span>, <span class="source_type"><a href="../core/time.html" class="source">Time</a></span>);
<a name="4857"></a>
<a name="4858"></a>	<span class="source_type">S</span> = <span class="source_type">int</span>(<span class="source_type"><a href="../core/time.html" class="source">Time</a></span> / <span class="source_int">60</span>) $ <span class="source_string">":"</span>;
<a name="4859"></a>
<a name="4860"></a>	<span class="source_type"><a href="../core/time.html" class="source">Time</a></span> = <span class="source_type"><a href="../core/time.html" class="source">Time</a></span> % <span class="source_int">60</span>;
<a name="4861"></a>
<a name="4862"></a>	if (<span class="source_type"><a href="../core/time.html" class="source">Time</a></span> &lt; <span class="source_int">10</span>)
<a name="4863"></a>		<span class="source_type">S</span> = <span class="source_type">S</span> $ <span class="source_string">"0"</span> $ <span class="source_type">int</span>(<span class="source_type"><a href="../core/time.html" class="source">Time</a></span>);
<a name="4864"></a>	else
<a name="4865"></a>		<span class="source_type">S</span> = <span class="source_type">S</span> $ <span class="source_type">int</span>(<span class="source_type"><a href="../core/time.html" class="source">Time</a></span>);
<a name="4866"></a>
<a name="4867"></a>	return <span class="source_type">S</span>;
<a name="4868"></a>}
<a name="4869"></a>
<a name="4870"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="4871"></a><span class="source_comment">// DrawTimer - Draws the clock
</span><a name="4872"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="4873"></a>
<a name="4874"></a>simulated function DrawTimer(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>)
<a name="4875"></a>{
<a name="4876"></a>	<span class="source_comment">//DrawSpriteWidget(C, ClockBase);
</span><a name="4877"></a>	<span class="source_comment">//DrawSpriteWidget(C, ClockHand);
</span><a name="4878"></a>}
<a name="4879"></a>
<a name="4880"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="4881"></a><span class="source_comment">// GetConsoleFont - Use the small font array
</span><a name="4882"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="4883"></a>
<a name="4884"></a>static function <span class="source_type">font</span> GetConsoleFont(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>)
<a name="4885"></a>{
<a name="4886"></a>	local <span class="source_type">int</span> FontSize;
<a name="4887"></a>
<a name="4888"></a>	FontSize = Default.ConsoleFontSize;
<a name="4889"></a>	if ( <span class="source_type">C</span>.ClipX &lt; <span class="source_int">640</span> )
<a name="4890"></a>		FontSize++;
<a name="4891"></a>	if ( <span class="source_type">C</span>.ClipX &lt; <span class="source_int">800</span> )
<a name="4892"></a>		FontSize++;
<a name="4893"></a>	if ( <span class="source_type">C</span>.ClipX &lt; <span class="source_int">1024</span> )
<a name="4894"></a>		FontSize++;
<a name="4895"></a>	if ( <span class="source_type">C</span>.ClipX &lt; <span class="source_int">1280</span> )
<a name="4896"></a>		FontSize++;
<a name="4897"></a>	if ( <span class="source_type">C</span>.ClipX &lt; <span class="source_int">1600</span> )
<a name="4898"></a>		FontSize++;
<a name="4899"></a>	return LoadSmallFontStatic(Min(<span class="source_int">8</span>,FontSize));
<a name="4900"></a>}
<a name="4901"></a>
<a name="4902"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="4903"></a><span class="source_comment">// GetLargeMenuFont - Gets a large menu font
</span><a name="4904"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="4905"></a>
<a name="4906"></a>static function <span class="source_type">font</span> GetLargeMenuFont(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>)
<a name="4907"></a>{
<a name="4908"></a>	local <span class="source_type">int</span> FontSize;
<a name="4909"></a>
<a name="4910"></a>	<span class="source_comment">//FontSize = Default.ConsoleFontSize;
</span><a name="4911"></a><span class="source_comment">//	if ( C.ClipX &lt; 640 )
</span><a name="4912"></a><span class="source_comment">//		FontSize = 0;
</span><a name="4913"></a>	if ( <span class="source_type">C</span>.ClipX &lt; <span class="source_int">800</span> )
<a name="4914"></a>		FontSize = <span class="source_int">5</span>;
<a name="4915"></a>	else if ( <span class="source_type">C</span>.ClipX &lt; <span class="source_int">1024</span> )
<a name="4916"></a>		FontSize = <span class="source_int">4</span>;
<a name="4917"></a>	else if ( <span class="source_type">C</span>.ClipX &lt; <span class="source_int">1280</span> )
<a name="4918"></a>		FontSize = <span class="source_int">3</span>;
<a name="4919"></a>	else if ( <span class="source_type">C</span>.ClipX &lt; <span class="source_int">1600</span> )
<a name="4920"></a>		FontSize = <span class="source_int">2</span>;
<a name="4921"></a>	else
<a name="4922"></a>		FontSize = <span class="source_int">1</span>;
<a name="4923"></a>
<a name="4924"></a>	return LoadFontStatic(Min(<span class="source_int">8</span>,FontSize));
<a name="4925"></a>}
<a name="4926"></a>
<a name="4927"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="4928"></a><span class="source_comment">// GetSmallMenuFont - Gets a large menu font
</span><a name="4929"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="4930"></a>
<a name="4931"></a>static function <span class="source_type">font</span> GetSmallMenuFont(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>)
<a name="4932"></a>{
<a name="4933"></a>	local <span class="source_type">int</span> FontSize;
<a name="4934"></a>
<a name="4935"></a>	<span class="source_comment">//FontSize = Default.ConsoleFontSize;
</span><a name="4936"></a><span class="source_comment">//	if ( C.ClipX &lt; 640 )
</span><a name="4937"></a><span class="source_comment">//		FontSize = 0;
</span><a name="4938"></a>	if ( <span class="source_type">C</span>.ClipX &lt; <span class="source_int">800</span> )
<a name="4939"></a>		FontSize = <span class="source_int">4</span>;
<a name="4940"></a>	else if ( <span class="source_type">C</span>.ClipX &lt; <span class="source_int">1024</span> )
<a name="4941"></a>		FontSize = <span class="source_int">3</span>;
<a name="4942"></a>	else if ( <span class="source_type">C</span>.ClipX &lt; <span class="source_int">1280</span> )
<a name="4943"></a>		FontSize = <span class="source_int">2</span>;
<a name="4944"></a>	else if ( <span class="source_type">C</span>.ClipX &lt; <span class="source_int">1600</span> )
<a name="4945"></a>		FontSize = <span class="source_int">1</span>;
<a name="4946"></a>	else
<a name="4947"></a>		FontSize = <span class="source_int">0</span>;
<a name="4948"></a>
<a name="4949"></a>	return LoadMenuFontStatic(FontSize);
<a name="4950"></a>}
<a name="4951"></a>
<a name="4952"></a>static function <span class="source_type">font</span> GetSmallerMenuFont(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>)
<a name="4953"></a>{
<a name="4954"></a>	local <span class="source_type">int</span> FontSize;
<a name="4955"></a>
<a name="4956"></a>	<span class="source_comment">//FontSize = Default.ConsoleFontSize;
</span><a name="4957"></a><span class="source_comment">//	if ( C.ClipX &lt; 640 )
</span><a name="4958"></a><span class="source_comment">//		FontSize = 0;
</span><a name="4959"></a>	if ( <span class="source_type">C</span>.ClipX &lt; <span class="source_int">800</span> )
<a name="4960"></a><span class="source_comment">//		FontSize = 5;
</span><a name="4961"></a>		FontSize = <span class="source_int">4</span>;
<a name="4962"></a>	else if ( <span class="source_type">C</span>.ClipX &lt; <span class="source_int">1024</span> )
<a name="4963"></a>		FontSize = <span class="source_int">4</span>;
<a name="4964"></a>	else if ( <span class="source_type">C</span>.ClipX &lt; <span class="source_int">1280</span> )
<a name="4965"></a>		FontSize = <span class="source_int">3</span>;
<a name="4966"></a>	else if ( <span class="source_type">C</span>.ClipX &lt; <span class="source_int">1600</span> )
<a name="4967"></a>		FontSize = <span class="source_int">2</span>;
<a name="4968"></a>	else
<a name="4969"></a>		FontSize = <span class="source_int">1</span>;
<a name="4970"></a>
<a name="4971"></a>	return LoadMenuFontStatic(FontSize);
<a name="4972"></a>}
<a name="4973"></a>
<a name="4974"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="4975"></a><span class="source_comment">// LoadSmallFontStatic - Loads from the new small font array
</span><a name="4976"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="4977"></a>
<a name="4978"></a>static function <span class="source_type">Font</span> LoadSmallFontStatic(<span class="source_type">int</span> <span class="source_type">i</span>)
<a name="4979"></a>{
<a name="4980"></a>	if( default.SmallFontArrayFonts[<span class="source_type">i</span>] == None )
<a name="4981"></a>	{
<a name="4982"></a>		default.SmallFontArrayFonts[<span class="source_type">i</span>] = <span class="source_type">Font</span>(DynamicLoadObject(default.SmallFontArrayNames[<span class="source_type">i</span>], <span class="source_type">class</span><span class="source_name">'Font'</span>));
<a name="4983"></a>		if( default.SmallFontArrayFonts[<span class="source_type">i</span>] == none )
<a name="4984"></a>			Log(<span class="source_string">"Warning: "</span>$default.<span class="source_type">Class</span>$<span class="source_string">" Couldn't dynamically load font "</span>$default.SmallFontArrayNames[<span class="source_type">i</span>]);
<a name="4985"></a>	}
<a name="4986"></a>
<a name="4987"></a>	return default.SmallFontArrayFonts[<span class="source_type">i</span>];
<a name="4988"></a>}
<a name="4989"></a>
<a name="4990"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="4991"></a><span class="source_comment">// LoadMenuFontStatic - Loads from the new small font array
</span><a name="4992"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="4993"></a>
<a name="4994"></a>static function <span class="source_type">Font</span> LoadMenuFontStatic(<span class="source_type">int</span> <span class="source_type">i</span>)
<a name="4995"></a>{
<a name="4996"></a>	if( default.MenuFontArrayFonts[<span class="source_type">i</span>] == None )
<a name="4997"></a>	{
<a name="4998"></a>		default.MenuFontArrayFonts[<span class="source_type">i</span>] = <span class="source_type">Font</span>(DynamicLoadObject(default.MenuFontArrayNames[<span class="source_type">i</span>], <span class="source_type">class</span><span class="source_name">'Font'</span>));
<a name="4999"></a>		if( default.MenuFontArrayFonts[<span class="source_type">i</span>] == None )
<a name="5000"></a>			Log(<span class="source_string">"Warning: "</span>$default.<span class="source_type">Class</span>$<span class="source_string">" Couldn't dynamically load font "</span>$default.MenuFontArrayNames[<span class="source_type">i</span>]);
<a name="5001"></a>	}
<a name="5002"></a>
<a name="5003"></a>	return default.MenuFontArrayFonts[<span class="source_type">i</span>];
<a name="5004"></a>}
<a name="5005"></a>
<a name="5006"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="5007"></a><span class="source_comment">// Message - Changed message classes
</span><a name="5008"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="5009"></a>
<a name="5010"></a>simulated function Message( <span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> PRI, coerce <span class="source_type">string</span> <span class="source_type">Msg</span>, <span class="source_type">name</span> <span class="source_type">MsgType</span> )
<a name="5011"></a>{
<a name="5012"></a>	local <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../engine/localmessage.html" class="source">LocalMessage</a></span>&gt; MessageClassType;
<a name="5013"></a>
<a name="5014"></a>	<span class="source_type">switch</span>( <span class="source_type">MsgType</span> )
<a name="5015"></a>	{
<a name="5016"></a>		case <span class="source_name">'Say'</span>:
<a name="5017"></a>			<span class="source_type">Msg</span> = PRI.<span class="source_type">PlayerName</span>$<span class="source_string">": "</span>$<span class="source_type">Msg</span>;
<a name="5018"></a>			MessageClassType = <span class="source_type">class</span><span class="source_name">'ROSayMessage'</span>;
<a name="5019"></a>			break;
<a name="5020"></a>		case <span class="source_name">'TeamSay'</span>:
<a name="5021"></a>			<span class="source_comment">/*if (PRI.GetLocationName() == "")
<a name="5022"></a>				Msg = TeamMessagePrefix$PRI.PlayerName$": "$Msg;
<a name="5023"></a>			else
<a name="5024"></a>				Msg = TeamMessagePrefix$PRI.PlayerName$" ("$PRI.GetLocationName()$"): "$Msg;*/</span>
<a name="5025"></a>			MessageClassType = <span class="source_type">class</span><span class="source_name">'ROTeamSayMessage'</span>;
<a name="5026"></a>			<span class="source_type">Msg</span> = MessageClassType.static.AssembleString(self,, PRI, <span class="source_type">Msg</span>);
<a name="5027"></a>			break;
<a name="5028"></a>		case <span class="source_name">'SayDead'</span>:
<a name="5029"></a>			<span class="source_comment">//Msg = PRI.PlayerName$": "$Msg;
</span><a name="5030"></a>			MessageClassType = <span class="source_type">class</span><span class="source_name">'ROSayDeadMessage'</span>;
<a name="5031"></a>			<span class="source_type">Msg</span> = MessageClassType.static.AssembleString(self,, PRI, <span class="source_type">Msg</span>);
<a name="5032"></a>			break;
<a name="5033"></a>		case <span class="source_name">'TeamSayDead'</span>:
<a name="5034"></a>			<span class="source_comment">/*if (PRI.GetLocationName() == "")
<a name="5035"></a>				Msg = TeamMessagePrefix$PRI.PlayerName$": "$Msg;
<a name="5036"></a>			else
<a name="5037"></a>				Msg = TeamMessagePrefix$PRI.PlayerName$" ("$PRI.GetLocationName()$"): "$Msg;*/</span>
<a name="5038"></a>			MessageClassType = <span class="source_type">class</span><span class="source_name">'ROTeamSayDeadMessage'</span>;
<a name="5039"></a>			<span class="source_type">Msg</span> = MessageClassType.static.AssembleString(self,, PRI, <span class="source_type">Msg</span>);
<a name="5040"></a>			break;
<a name="5041"></a>		case <span class="source_name">'VehicleSay'</span>:
<a name="5042"></a>			MessageClassType = <span class="source_type">class</span><span class="source_name">'ROVehicleSayMessage'</span>;
<a name="5043"></a>			<span class="source_type">Msg</span> = MessageClassType.static.AssembleString(self,, PRI, <span class="source_type">Msg</span>);
<a name="5044"></a>			break;
<a name="5045"></a>		case <span class="source_name">'CriticalEvent'</span>:
<a name="5046"></a>			MessageClassType = <span class="source_type">class</span><span class="source_name">'CriticalEventPlus'</span>;
<a name="5047"></a>			LocalizedMessage( MessageClassType, <span class="source_int">0</span>, None, None, None, <span class="source_type">Msg</span> );
<a name="5048"></a>			return;
<a name="5049"></a>		case <span class="source_name">'DeathMessage'</span>:
<a name="5050"></a>			return;
<a name="5051"></a>			<span class="source_comment">//MessageClassType = class'RODeathMessage';
</span><a name="5052"></a>			<span class="source_comment">//break;
</span><a name="5053"></a>		default:
<a name="5054"></a>			MessageClassType = <span class="source_type">class</span><span class="source_name">'ROStringMessage'</span>;
<a name="5055"></a>			break;
<a name="5056"></a>	}
<a name="5057"></a>
<a name="5058"></a>	AddTextMessage(<span class="source_type">Msg</span>,MessageClassType,PRI);
<a name="5059"></a>}
<a name="5060"></a>
<a name="5061"></a><span class="source_comment">//====================================================================
</span><a name="5062"></a><span class="source_comment">// DrawWeaponName(UT) - Antarian 10/11/03 - Overloaded to fix the RO weapon
</span><a name="5063"></a><span class="source_comment">//	names from showing up with ut colors, font and font size
</span><a name="5064"></a><span class="source_comment">//====================================================================
</span><a name="5065"></a>simulated function DrawWeaponName(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>)
<a name="5066"></a>{
<a name="5067"></a>	local <span class="source_type">string</span> CurWeaponName;
<a name="5068"></a>	local <span class="source_type">float</span> XL,<span class="source_type">YL</span>, Fade;
<a name="5069"></a>
<a name="5070"></a>	if (bHideWeaponName)
<a name="5071"></a>		return;
<a name="5072"></a>
<a name="5073"></a><span class="source_comment">// THINK ABOUT A FUTURE OPTION TO LET PEOPLE DISABLE MESSAGES
</span><a name="5074"></a><span class="source_comment">// OR MAKE THE MESSAGE SIZE SMALLER
</span><a name="5075"></a>	if (WeaponDrawTimer&gt;<span class="source_type">Level</span>.TimeSeconds)
<a name="5076"></a>	{
<a name="5077"></a>		<span class="source_type">C</span>.DrawColor = WhiteColor;
<a name="5078"></a>		<span class="source_type">C</span>.<span class="source_type">Font</span> = GetMediumFontFor(<span class="source_type">C</span>);
<a name="5079"></a>		<span class="source_type">C</span>.TextSize(CurWeaponName, XL, <span class="source_type">YL</span>);
<a name="5080"></a>
<a name="5081"></a>		Fade = WeaponDrawTimer - <span class="source_type">Level</span>.TimeSeconds;
<a name="5082"></a>
<a name="5083"></a>		if (Fade&lt;=<span class="source_int">1</span>)
<a name="5084"></a>			<span class="source_type">C</span>.DrawColor.<span class="source_type">A</span> = <span class="source_int">255</span> * Fade;
<a name="5085"></a>
<a name="5086"></a>
<a name="5087"></a>		<span class="source_type">C</span>.Strlen(LastWeaponName,XL,<span class="source_type">YL</span>);
<a name="5088"></a>		<span class="source_type">C</span>.SetPos( (<span class="source_type">C</span>.ClipX/<span class="source_int">2</span>) - (XL/<span class="source_int">2</span>), <span class="source_type">C</span>.ClipY*<span class="source_int">0.8</span>-<span class="source_type">YL</span>);
<a name="5089"></a>		<span class="source_type">C</span>.DrawText(LastWeaponName);
<a name="5090"></a>	}
<a name="5091"></a>
<a name="5092"></a>	if (  PawnOwner==None || PawnOwner.PendingWeapon==None )
<a name="5093"></a>		return;
<a name="5094"></a>
<a name="5095"></a>	CurWeaponName = PawnOwner.PendingWeapon.GetHumanReadableName();
<a name="5096"></a>	if (CurWeaponName!=LastWeaponName)
<a name="5097"></a>	{
<a name="5098"></a>		WeaponDrawTimer = <span class="source_type">Level</span>.TimeSeconds+<span class="source_int">1.5</span>;
<a name="5099"></a>		WeaponDrawColor = PawnOwner.PendingWeapon.HudColor;
<a name="5100"></a>	}
<a name="5101"></a>
<a name="5102"></a>   	LastWeaponName = CurWeaponName;
<a name="5103"></a>}
<a name="5104"></a>
<a name="5105"></a><span class="source_comment">// show full screen red flash
</span><a name="5106"></a><span class="source_comment">// this Overrides the HudBase definition, where the hit indicators are shown
</span><a name="5107"></a>function DisplayHit(<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> HitDir, <span class="source_type">int</span> <span class="source_type">Damage</span>, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>)
<a name="5108"></a>{
<a name="5109"></a>	if ( <span class="source_type">Damage</span> &gt; <span class="source_int">1</span> )
<a name="5110"></a>	{
<a name="5111"></a>		PlayerOwner.ClientFlash(<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>.Default.FlashScale,<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>.Default.FlashFog);
<a name="5112"></a>	}
<a name="5113"></a>}
<a name="5114"></a>
<a name="5115"></a>
<a name="5116"></a><span class="source_comment">// Comment Out for Release
</span><a name="5117"></a>simulated function DrawCrosshair (<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>)
<a name="5118"></a>{
<a name="5119"></a>	<span class="source_comment">/*local float NormalScale;
<a name="5120"></a>	local int i, CurrentCrosshair;
<a name="5121"></a>	local float OldScale,OldW, CurrentCrosshairScale;
<a name="5122"></a>	local color CurrentCrosshairColor;
<a name="5123"></a>	local SpriteWidget CHtexture;
<a name="5124"></a>
<a name="5125"></a>	if (!bCrosshairShow || !class'ROEngine.ROLevelInfo'.static.RODebugMode() )
<a name="5126"></a>		return;
<a name="5127"></a>
<a name="5128"></a>	if ( (PawnOwner != None) && (PawnOwner.Weapon != None) && (PawnOwner.Weapon.CustomCrosshair &gt;= 0) )
<a name="5129"></a>	{
<a name="5130"></a>		CurrentCrosshairColor = PawnOwner.Weapon.CustomCrosshairColor;
<a name="5131"></a>		CurrentCrosshair = PawnOwner.Weapon.CustomCrosshair;
<a name="5132"></a>		CurrentCrosshairScale = PawnOwner.Weapon.CustomCrosshairScale;
<a name="5133"></a>		if ( PawnOwner.Weapon.CustomCrosshairTextureName != "" )
<a name="5134"></a>		{
<a name="5135"></a>			if ( PawnOwner.Weapon.CustomCrosshairTexture == None )
<a name="5136"></a>			{
<a name="5137"></a>				PawnOwner.Weapon.CustomCrosshairTexture = Texture(DynamicLoadObject(PawnOwner.Weapon.CustomCrosshairTextureName,class'Texture'));
<a name="5138"></a>				if ( PawnOwner.Weapon.CustomCrosshairTexture == None )
<a name="5139"></a>				{
<a name="5140"></a>					log(PawnOwner.Weapon$" custom crosshair texture not found!");
<a name="5141"></a>					PawnOwner.Weapon.CustomCrosshairTextureName = "";
<a name="5142"></a>				}
<a name="5143"></a>			}
<a name="5144"></a>			CHTexture = Crosshairs[0];
<a name="5145"></a>			CHTexture.WidgetTexture = PawnOwner.Weapon.CustomCrosshairTexture;
<a name="5146"></a>		}
<a name="5147"></a>	}
<a name="5148"></a>	else
<a name="5149"></a>	{
<a name="5150"></a>		CurrentCrosshair = CrosshairStyle;
<a name="5151"></a>		CurrentCrosshairColor = CrosshairColor;
<a name="5152"></a>		CurrentCrosshairScale = CrosshairScale;
<a name="5153"></a>	}
<a name="5154"></a>
<a name="5155"></a>	CurrentCrosshair = Clamp(CurrentCrosshair, 0, Crosshairs.Length - 1);
<a name="5156"></a>
<a name="5157"></a>	NormalScale = Crosshairs[CurrentCrosshair].TextureScale;
<a name="5158"></a>	if ( CHTexture.WidgetTexture == None )
<a name="5159"></a>		CHTexture = Crosshairs[CurrentCrosshair];
<a name="5160"></a>	CHTexture.TextureScale *= CurrentCrosshairScale;
<a name="5161"></a>
<a name="5162"></a>	for( i = 0; i &lt; ArrayCount(CHTexture.Tints); i++ )
<a name="5163"></a>		CHTexture.Tints[i] = CurrentCrossHairColor;
<a name="5164"></a>
<a name="5165"></a>	OldScale = HudScale;
<a name="5166"></a>	HudScale=1;
<a name="5167"></a>	OldW = C.ColorModulate.W;
<a name="5168"></a>	C.ColorModulate.W = 1;
<a name="5169"></a>	DrawSpriteWidget (C, CHTexture);
<a name="5170"></a>	C.ColorModulate.W = OldW;
<a name="5171"></a>	HudScale=OldScale;
<a name="5172"></a>	CHTexture.TextureScale = NormalScale;*/</span>
<a name="5173"></a>
<a name="5174"></a>	<span class="source_comment">//DrawEnemyName(C);
</span><a name="5175"></a>}
<a name="5176"></a>
<a name="5177"></a><span class="source_comment">// FIXME: We need to look at something a lot better than using UT2004 portraits.  Really kills the atmosphere.
</span><a name="5178"></a><span class="source_comment">/*simulated function Tick(float deltaTime)
<a name="5179"></a>{
<a name="5180"></a>	//local Material NewPortrait;
<a name="5181"></a>
<a name="5182"></a>	Super.Tick(deltaTime);
<a name="5183"></a>
<a name="5184"></a>	// Setup the player portrait to display an incoming voice chat message
<a name="5185"></a>	if ( (Level.TimeSeconds - LastPlayerIDTalkingTime &lt; 0.1) && (PlayerOwner.GameReplicationInfo != None) )
<a name="5186"></a>	{
<a name="5187"></a>		if ( (PortraitPRI == None) || (PortraitPRI.PlayerID != LastPlayerIDTalking) )
<a name="5188"></a>		{
<a name="5189"></a>		    if (PortraitPRI == none)
<a name="5190"></a>		        PortraitX = 1;
<a name="5191"></a>			PortraitPRI = PlayerOwner.GameReplicationInfo.FindPlayerByID(LastPlayerIDTalking);
<a name="5192"></a>			if ( PortraitPRI != None )
<a name="5193"></a>			{
<a name="5194"></a>			    PortraitTime = Level.TimeSeconds + 3;
<a name="5195"></a>				//NewPortrait = PortraitPRI.GetPortrait();
<a name="5196"></a>				//if ( NewPortrait != None )
<a name="5197"></a>				//{
<a name="5198"></a>				//	if ( Portrait == None )
<a name="5199"></a>				//		PortraitX = 1;
<a name="5200"></a>				//	Portrait = NewPortrait;
<a name="5201"></a>				//	PortraitTime = Level.TimeSeconds + 3;
<a name="5202"></a>				//}
<a name="5203"></a>			}
<a name="5204"></a>		}
<a name="5205"></a>		else
<a name="5206"></a>			PortraitTime = Level.TimeSeconds + 0.2;
<a name="5207"></a>	}
<a name="5208"></a>	else
<a name="5209"></a>		LastPlayerIDTalking = 0;
<a name="5210"></a>
<a name="5211"></a>	if ( PortraitTime - Level.TimeSeconds &gt; 0 )
<a name="5212"></a>		PortraitX = FMax(0,PortraitX-3*deltaTime);
<a name="5213"></a>	else if ( PortraitPRI != None )
<a name="5214"></a>	{
<a name="5215"></a>		PortraitX = FMin(1,PortraitX+3*deltaTime);
<a name="5216"></a>		if ( PortraitX == 1 )
<a name="5217"></a>		{
<a name="5218"></a>			//Portrait = None;
<a name="5219"></a>			PortraitPRI = None;
<a name="5220"></a>		}
<a name="5221"></a>	}
<a name="5222"></a>}*/</span>
<a name="5223"></a>
<a name="5224"></a>function DisplayPortrait(<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> PRI)
<a name="5225"></a>{
<a name="5226"></a>	<span class="source_comment">//local Material NewPortrait;
</span><a name="5227"></a>
<a name="5228"></a>	if ( LastPlayerIDTalking &gt; <span class="source_int">0</span> )
<a name="5229"></a>		return;
<a name="5230"></a>
<a name="5231"></a>	if (PRI == none)
<a name="5232"></a>		return;
<a name="5233"></a>
<a name="5234"></a>	<span class="source_comment">//NewPortrait = PRI.GetPortrait();
</span><a name="5235"></a>	<span class="source_comment">//if ( NewPortrait == None )
</span><a name="5236"></a>	<span class="source_comment">//	return;
</span><a name="5237"></a>	<span class="source_comment">//if ( Portrait == None )
</span><a name="5238"></a>	<span class="source_comment">//	PortraitX = 1;
</span><a name="5239"></a>	if (PortraitPRI == none)
<a name="5240"></a>	    PortraitX = <span class="source_int">1</span>;
<a name="5241"></a>	<span class="source_comment">//Portrait = NewPortrait;
</span><a name="5242"></a>	PortraitTime = <span class="source_type">Level</span>.TimeSeconds + <span class="source_int">3</span>;
<a name="5243"></a>	PortraitPRI = PRI;
<a name="5244"></a>}
<a name="5245"></a>
<a name="5246"></a><span class="source_comment">// Test0r! find a random player and display a portrait for him
</span><a name="5247"></a><span class="source_comment">/*
<a name="5248"></a>exec function testPortrait()
<a name="5249"></a>{
<a name="5250"></a>	local controller c;
<a name="5251"></a>	for (c = level.ControllerList; c != none; c = c.nextController)
<a name="5252"></a>	{
<a name="5253"></a>		if (c.PlayerReplicationInfo != none && c != PlayerOwner)
<a name="5254"></a>		{
<a name="5255"></a>			DisplayPortrait(c.PlayerReplicationInfo);
<a name="5256"></a>			break;
<a name="5257"></a>		}
<a name="5258"></a>	}
<a name="5259"></a>}*/</span>
<a name="5260"></a>
<a name="5261"></a><span class="source_comment">// test0r! sends a local message for 'weapon shot out of hands'
</span><a name="5262"></a><span class="source_comment">/*exec function testMessage()
<a name="5263"></a>{
<a name="5264"></a>	ROPlayer(PawnOwner.Controller).ReceiveLocalizedMessage(class'ROWeaponLostMessage');
<a name="5265"></a>	//ROPlayer(PawnOwner.Controller).ReceiveLocalizedMessage(LocalMessage(DynamicLoadObject("ROWeaponLostMessage", class'LocalMessage')));
<a name="5266"></a>
<a name="5267"></a>	ROPlayer(PawnOwner.Controller).ReceiveLocalizedMessage(class'ROTestCriticalMessage', Rand(4));
<a name="5268"></a>}*/</span>
<a name="5269"></a>
<a name="5270"></a><span class="source_comment">/*
<a name="5271"></a>// test0r! this function dumps the content of the helprequests, rally points, etc arrays
<a name="5272"></a>exec function testReplication()
<a name="5273"></a>{
<a name="5274"></a>	local ROGameReplicationInfo GRI;
<a name="5275"></a>	local int i;
<a name="5276"></a>	local string s;
<a name="5277"></a>	GRI = ROGameReplicationInfo(PlayerOwner.GameReplicationInfo);
<a name="5278"></a>
<a name="5279"></a>	log("Dumping content of rally points arrays...");
<a name="5280"></a>	for (i = 0; i &lt; arraycount(GRI.AlliedRallyPoints); i++)
<a name="5281"></a>	{
<a name="5282"></a>		if (GRI.AlliedRallyPoints[i].RallyPointLocation != vect(0,0,0))
<a name="5283"></a>		{
<a name="5284"></a>			s = "AlliedRallyPoints[" $ i $ "].RallyPointLocation = " $ GRI.AlliedRallyPoints[i].RallyPointLocation;
<a name="5285"></a>			log(s); Message(PlayerOwner.PlayerReplicationInfo, s, 'TEAM');
<a name="5286"></a>		}
<a name="5287"></a>		if (GRI.AxisRallyPoints[i].RallyPointLocation != vect(0,0,0))
<a name="5288"></a>		{
<a name="5289"></a>			s = "AxisRallyPoints[" $ i $ "].RallyPointLocation = " $ GRI.AxisRallyPoints[i].RallyPointLocation;
<a name="5290"></a>			log(s); Message(PlayerOwner.PlayerReplicationInfo, s, 'TEAM');
<a name="5291"></a>		}
<a name="5292"></a>	}
<a name="5293"></a>
<a name="5294"></a>	log("Dumping content of help requests arrays...");
<a name="5295"></a>	for (i = 0; i &lt; arraycount(GRI.AlliedHelpRequests); i++)
<a name="5296"></a>	{
<a name="5297"></a>		if (GRI.AlliedHelpRequests[i].requestType != 255)
<a name="5298"></a>		{
<a name="5299"></a>			s = "AlliedHelpRequests[" $ i $ "].requestType = " $ GRI.AlliedHelpRequests[i].requestType;
<a name="5300"></a>			s = s $ ", .objectiveID = " $ GRI.AlliedHelpRequests[i].objectiveID;
<a name="5301"></a>			s = s $ ", .reqLoc = " $ GRI.AlliedHelpRequestsLocs[i];
<a name="5302"></a>			log(s); Message(PlayerOwner.PlayerReplicationInfo, s, 'TEAM');
<a name="5303"></a>		}
<a name="5304"></a>		if (GRI.AxisHelpRequests[i].requestType != 255)
<a name="5305"></a>		{
<a name="5306"></a>			s = "AxisHelpRequests[" $ i $ "].requestType = " $ GRI.AxisHelpRequests[i].requestType;
<a name="5307"></a>			s = s $ ", .objectiveID = " $ GRI.AxisHelpRequests[i].objectiveID;
<a name="5308"></a>			s = s $ ", .reqLoc = " $ GRI.AxisHelpRequestsLocs[i];
<a name="5309"></a>			log(s); Message(PlayerOwner.PlayerReplicationInfo, s, 'TEAM');
<a name="5310"></a>		}
<a name="5311"></a>	}
<a name="5312"></a>}*/</span>
<a name="5313"></a>
<a name="5314"></a><span class="source_comment">// Test0r! Tests a body hit, number = body part id (-1 == all)
</span><a name="5315"></a><span class="source_comment">/*exec function testHits(byte num)
<a name="5316"></a>{
<a name="5317"></a>	if( ROPawn(PawnOwner) != none )
<a name="5318"></a>	{
<a name="5319"></a>		ROPawn(PawnOwner).ClientUpdateDamageList(num);
<a name="5320"></a>	}
<a name="5321"></a>}
<a name="5322"></a>
<a name="5323"></a>// Test0r! test menu.
<a name="5324"></a>exec function testMenu(optional string menu)
<a name="5325"></a>{
<a name="5326"></a>	if (menu == "")
<a name="5327"></a>		PlayerOwner.ClientOpenMenu("ROInterface.ROTestMenu");
<a name="5328"></a>	else
<a name="5329"></a>		PlayerOwner.ClientOpenMenu(menu);
<a name="5330"></a>}*/</span>
<a name="5331"></a>
<a name="5332"></a><span class="source_comment">// Functions used to draw widgets inside a certain region
</span><a name="5333"></a>function DrawSpriteWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>, <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span> widget, <span class="source_type"><a href="../roengine/rohud.html#AbsoluteCoordsInfo" class="source">AbsoluteCoordsInfo</a></span> <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, optional <span class="source_type">bool</span> bUseTexScaleAsScreenScale, optional out <span class="source_type">float</span> XL, optional out <span class="source_type">float</span> <span class="source_type">YL</span>, optional <span class="source_type">bool</span> bUseAbsoluteOffsets, optional <span class="source_type">bool</span> bKeepAspectRatio, optional <span class="source_type">bool</span> bUseHUDScaling, optional <span class="source_type">bool</span> bGetSizesOnly)
<a name="5334"></a>{
<a name="5335"></a>	local <span class="source_type">float</span> ScreenX, ScreenY, ScreenXL, ScreenYL;
<a name="5336"></a>	local <span class="source_type">float</span> TexX,TexY, TexXL, TexYL;
<a name="5337"></a>	local <span class="source_type">float</span> ScaleModifier;
<a name="5338"></a>
<a name="5339"></a>	<span class="source_comment">// Figure where we want to draw
</span><a name="5340"></a>	ScreenX = <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.<span class="source_type">width</span> * widget.PosX;
<a name="5341"></a>	ScreenY = <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.height * widget.PosY;
<a name="5342"></a>
<a name="5343"></a>	if (bUseHUDScaling)
<a name="5344"></a>		ScaleModifier = HudScale;
<a name="5345"></a>	else
<a name="5346"></a>		ScaleModifier = <span class="source_int">1.0</span>;
<a name="5347"></a>
<a name="5348"></a>	<span class="source_comment">// Figure offset
</span><a name="5349"></a>	if (bUseAbsoluteOffsets)
<a name="5350"></a>	{
<a name="5351"></a>		ScreenX += widget.OffsetX * ScaleModifier;
<a name="5352"></a>		ScreenY += widget.OffsetY * ScaleModifier;
<a name="5353"></a>	}
<a name="5354"></a>	else
<a name="5355"></a>	{
<a name="5356"></a>		ScreenX += widget.OffsetX * widget.TextureScale * ScaleModifier;
<a name="5357"></a>		ScreenY += widget.OffsetY * widget.TextureScale * ScaleModifier;
<a name="5358"></a>	}
<a name="5359"></a>
<a name="5360"></a>	<span class="source_comment">// Figure texture source coords
</span><a name="5361"></a>	TexX = widget.TextureCoords.X1;
<a name="5362"></a>	TexY = widget.TextureCoords.Y1;
<a name="5363"></a>	TexXL = widget.TextureCoords.X2 - widget.TextureCoords.X1 + <span class="source_int">1</span>;
<a name="5364"></a>	TexYL = widget.TextureCoords.Y2 - widget.TextureCoords.Y1 + <span class="source_int">1</span>;
<a name="5365"></a>
<a name="5366"></a>	<span class="source_comment">// Figure screen width & height
</span><a name="5367"></a>	if (bUseTexScaleAsScreenScale)
<a name="5368"></a>	{
<a name="5369"></a>		ScreenYL = <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.height * widget.TextureScale;
<a name="5370"></a>		if (bKeepAspectRatio)
<a name="5371"></a>			ScreenXL = ScreenYL * TexXL / TexYL;
<a name="5372"></a>		else
<a name="5373"></a>			ScreenXL = <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.<span class="source_type">width</span> * widget.TextureScale;
<a name="5374"></a>	}
<a name="5375"></a>	else
<a name="5376"></a>	{
<a name="5377"></a>		ScreenYL = abs(TexYL) * widget.TextureScale;
<a name="5378"></a>		if (bKeepAspectRatio)
<a name="5379"></a>			ScreenXL = ScreenYL * TexXL / TexYL;
<a name="5380"></a>		else
<a name="5381"></a>			ScreenXL = abs(TexXL) * widget.TextureScale;
<a name="5382"></a>	}
<a name="5383"></a>	ScreenXL *= ScaleModifier;
<a name="5384"></a>	ScreenYL *= ScaleModifier;
<a name="5385"></a>	XL = ScreenXL; <span class="source_type">YL</span> = ScreenYL;
<a name="5386"></a>
<a name="5387"></a>	<span class="source_comment">// Offset depending on pivot type
</span><a name="5388"></a>	CalcPivotCoords(widget.DrawPivot, ScreenX, ScreenY, ScreenXL, ScreenYL);
<a name="5389"></a>
<a name="5390"></a>	<span class="source_comment">// Offset by wanted coordinates
</span><a name="5391"></a>	ScreenX += <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.PosX;
<a name="5392"></a>	ScreenY += <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.PosY;
<a name="5393"></a>
<a name="5394"></a>    <span class="source_comment">// Set scale
</span><a name="5395"></a>    <span class="source_type">switch</span> (widget.ScaleMode)
<a name="5396"></a>    {
<a name="5397"></a>        case SM_None:
<a name="5398"></a>            break;
<a name="5399"></a>
<a name="5400"></a>        case SM_Up:
<a name="5401"></a>            ScreenY += (<span class="source_int">1.0</span> - widget.<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>) * ScreenYL;
<a name="5402"></a>            ScreenYL *= widget.<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>;
<a name="5403"></a>            TexY += (<span class="source_int">1.0</span> - widget.<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>) * TexYL;
<a name="5404"></a>            TexYL *= widget.<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>;
<a name="5405"></a>            break;
<a name="5406"></a>
<a name="5407"></a>        case SM_Down:
<a name="5408"></a>            ScreenYL *= widget.<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>;
<a name="5409"></a>            TexYL *= widget.<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>;
<a name="5410"></a>            break;
<a name="5411"></a>
<a name="5412"></a>        case SM_Left:
<a name="5413"></a>            ScreenX += (<span class="source_int">1.0</span> - widget.<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>) * ScreenXL;
<a name="5414"></a>            ScreenXL *= widget.<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>;
<a name="5415"></a>            TexX += (<span class="source_int">1.0</span> - widget.<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>) * TexXL;
<a name="5416"></a>            TexXL *= widget.<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>;
<a name="5417"></a>            break;
<a name="5418"></a>
<a name="5419"></a>        case SM_Right:
<a name="5420"></a>            ScreenXL *= widget.<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>;
<a name="5421"></a>            TexXL *= widget.<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>;
<a name="5422"></a>            break;
<a name="5423"></a>    }
<a name="5424"></a>
<a name="5425"></a>	if (!bGetSizesOnly)
<a name="5426"></a>	{
<a name="5427"></a>    	<span class="source_comment">// Set canvas info
</span><a name="5428"></a>    	<span class="source_type">C</span>.CurX = ScreenX;
<a name="5429"></a>    	<span class="source_type">C</span>.CurY = ScreenY;
<a name="5430"></a>    	<span class="source_type">C</span>.DrawColor = widget.Tints[TeamIndex];
<a name="5431"></a>    	<span class="source_type">C</span>.Style = widget.RenderStyle;
<a name="5432"></a>
<a name="5433"></a>    	<span class="source_comment">// Render!
</span><a name="5434"></a>        <span class="source_type">C</span>.DrawTile(widget.WidgetTexture, ScreenXL, ScreenYL, TexX, TexY, TexXL, TexYL);
<a name="5435"></a>    }
<a name="5436"></a>}
<a name="5437"></a>
<a name="5438"></a>function CalcPivotCoords(<span class="source_type"><a href="../core/object.html#EDrawPivot" class="source">EDrawPivot</a></span> DrawPivot, out <span class="source_type">float</span> ScreenX, out <span class="source_type">float</span> ScreenY, <span class="source_type">float</span> ScreenXL, <span class="source_type">float</span> ScreenYL)
<a name="5439"></a>{
<a name="5440"></a>	<span class="source_type">switch</span> (DrawPivot)
<a name="5441"></a>	{
<a name="5442"></a>		case DP_UpperLeft:
<a name="5443"></a>			break;
<a name="5444"></a>
<a name="5445"></a>		case DP_UpperMiddle:
<a name="5446"></a>			ScreenX -= ScreenXL * <span class="source_int">0.5</span>;
<a name="5447"></a>			break;
<a name="5448"></a>
<a name="5449"></a>		case DP_UpperRight:
<a name="5450"></a>			ScreenX -= ScreenXL;
<a name="5451"></a>			break;
<a name="5452"></a>
<a name="5453"></a>		case DP_MiddleRight:
<a name="5454"></a>			ScreenX -= ScreenXL;
<a name="5455"></a>			ScreenY -= ScreenYL * <span class="source_int">0.5</span>;
<a name="5456"></a>			break;
<a name="5457"></a>
<a name="5458"></a>		case DP_LowerRight:
<a name="5459"></a>			ScreenX -= ScreenXL;
<a name="5460"></a>			ScreenY -= ScreenYL;
<a name="5461"></a>			break;
<a name="5462"></a>
<a name="5463"></a>		case DP_LowerMiddle:
<a name="5464"></a>			ScreenX -= ScreenXL * <span class="source_int">0.5</span>;
<a name="5465"></a>			ScreenY -= ScreenYL;
<a name="5466"></a>			break;
<a name="5467"></a>
<a name="5468"></a>		case DP_LowerLeft:
<a name="5469"></a>			ScreenY -= ScreenYL;
<a name="5470"></a>			break;
<a name="5471"></a>
<a name="5472"></a>		case DP_MiddleLeft:
<a name="5473"></a>			ScreenY -= ScreenYL * <span class="source_int">0.5</span>;
<a name="5474"></a>			break;
<a name="5475"></a>
<a name="5476"></a>		case DP_MiddleMiddle:
<a name="5477"></a>			ScreenX -= ScreenXL * <span class="source_int">0.5</span>;
<a name="5478"></a>			ScreenY -= ScreenYL * <span class="source_int">0.5</span>;
<a name="5479"></a>			break;
<a name="5480"></a>
<a name="5481"></a>		default:
<a name="5482"></a>			break;
<a name="5483"></a>	}
<a name="5484"></a>}
<a name="5485"></a>
<a name="5486"></a>function DrawTextWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>, <span class="source_type"><a href="../roengine/rohud.html#TextWidget" class="source">TextWidget</a></span> widget, <span class="source_type"><a href="../roengine/rohud.html#AbsoluteCoordsInfo" class="source">AbsoluteCoordsInfo</a></span> <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, optional out <span class="source_type">float</span> XL, optional out <span class="source_type">float</span> <span class="source_type">YL</span>, optional out <span class="source_type">float</span> YL_oneline, optional <span class="source_type">bool</span> bNoRender)
<a name="5487"></a>{
<a name="5488"></a>	local <span class="source_type">float</span> ScreenX, ScreenY, ScreenXL, ScreenYL;
<a name="5489"></a>	local <span class="source_type">float</span> oldClipX, oldClipY, oldOrgX, oldOrgY, myXL, myYL;
<a name="5490"></a>
<a name="5491"></a>	<span class="source_comment">// Calculate where we want to write
</span><a name="5492"></a>	ScreenX = <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.<span class="source_type">width</span> * widget.PosX;
<a name="5493"></a>	ScreenY = <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.height * widget.PosY;
<a name="5494"></a>
<a name="5495"></a>	<span class="source_comment">// Save old canvas settings
</span><a name="5496"></a>	oldClipX = <span class="source_type">C</span>.ClipX; oldClipY = <span class="source_type">C</span>.ClipY;
<a name="5497"></a>	oldOrgX = <span class="source_type">C</span>.OrgX; oldOrgY = <span class="source_type">C</span>.OrgY;
<a name="5498"></a>
<a name="5499"></a>	<span class="source_comment">// Check if we should wrap
</span><a name="5500"></a>	if (widget.WrapWidth ~= <span class="source_int">0</span>)
<a name="5501"></a>	{
<a name="5502"></a>		<span class="source_comment">// Calculate text size
</span><a name="5503"></a>		<span class="source_type">C</span>.TextSize(widget.<span class="source_type">text</span>, ScreenXL, ScreenYL);
<a name="5504"></a>		YL_oneline = ScreenYL;
<a name="5505"></a>		XL = ScreenXL; <span class="source_type">YL</span> = ScreenYL;
<a name="5506"></a>	}
<a name="5507"></a>	else
<a name="5508"></a>	{
<a name="5509"></a>		<span class="source_comment">// Calculate text size
</span><a name="5510"></a>		ScreenXL = <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.<span class="source_type">width</span> * widget.WrapWidth;
<a name="5511"></a>		<span class="source_type">C</span>.ClipX = ScreenXL;
<a name="5512"></a>		<span class="source_type">C</span>.TextSize(widget.<span class="source_type">text</span>, myXL, YL_oneline); <span class="source_comment">// only used to fill YL_oneline variable
</span><a name="5513"></a>		<span class="source_type">C</span>.StrLen(widget.<span class="source_type">text</span>, myXL, myYL);
<a name="5514"></a>		XL = myXL; <span class="source_type">YL</span> = myYL;
<a name="5515"></a>		ScreenYL = myYL;
<a name="5516"></a>	}
<a name="5517"></a>
<a name="5518"></a>	<span class="source_comment">// Calculate offsets
</span><a name="5519"></a>	ScreenX += widget.OffsetX + <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.PosX;
<a name="5520"></a>	ScreenY += widget.OffsetY + <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.PosY;
<a name="5521"></a>
<a name="5522"></a>	CalcPivotCoords(widget.DrawPivot, ScreenX, ScreenY, ScreenXL, ScreenYL);
<a name="5523"></a>
<a name="5524"></a>	<span class="source_comment">//log("ScreenX = " $ ScreenX $ ", ScreenY = " $ ScreenY $ ", ScreenXL = " $ ScreenXL $ ", ScreenYL = " $ ScreenYL);
</span><a name="5525"></a>	<span class="source_comment">//log("C.OrgX = " $ C.OrgX $ ", C.OrgY = " $ C.OrgY);
</span><a name="5526"></a>
<a name="5527"></a>	<span class="source_comment">// Draw bounding box if needed
</span><a name="5528"></a>	if (bDebugDrawHudBounds)
<a name="5529"></a>	{
<a name="5530"></a>		<span class="source_type">C</span>.SetPos(ScreenX + <span class="source_type">C</span>.OrgX, ScreenY + <span class="source_type">C</span>.OrgY);
<a name="5531"></a>		<span class="source_type">C</span>.DrawColor = RedColor;
<a name="5532"></a><span class="source_comment">//		c.DrawTileStretched(Material'InterfaceArt_tex.HUD.white_border_alpha', ScreenXL, ScreenYL);
</span><a name="5533"></a>		<span class="source_type">C</span>.DrawColor = widget.Tints[TeamIndex];
<a name="5534"></a>	}
<a name="5535"></a>
<a name="5536"></a>
<a name="5537"></a>	<span class="source_comment">// Draw the text
</span><a name="5538"></a>	<span class="source_type">C</span>.DrawColor = widget.Tints[TeamIndex];
<a name="5539"></a>	<span class="source_type">C</span>.Style = widget.RenderStyle;
<a name="5540"></a>	<span class="source_type">C</span>.SetOrigin(ScreenX + <span class="source_type">C</span>.OrgX, ScreenY + <span class="source_type">C</span>.OrgY);
<a name="5541"></a>	<span class="source_type">C</span>.SetClip(ScreenXL, ScreenYL);
<a name="5542"></a>	<span class="source_type">C</span>.SetPos(<span class="source_int">0</span>,<span class="source_int">0</span>);
<a name="5543"></a>
<a name="5544"></a>    if (widget.bDrawShadow && !bNoRender)
<a name="5545"></a>	{
<a name="5546"></a>		<span class="source_type">C</span>.DrawColor.<span class="source_type">R</span> = <span class="source_int">0</span>;
<a name="5547"></a>		<span class="source_type">C</span>.DrawColor.G = <span class="source_int">0</span>;
<a name="5548"></a>		<span class="source_type">C</span>.DrawColor.<span class="source_type">B</span> = <span class="source_int">0</span>;
<a name="5549"></a>		<span class="source_type">C</span>.SetOrigin(<span class="source_type">C</span>.OrgX + <span class="source_int">1</span>, <span class="source_type">C</span>.OrgY + <span class="source_int">1</span>);
<a name="5550"></a>		<span class="source_type">C</span>.SetPos(<span class="source_int">0</span>,<span class="source_int">0</span>);
<a name="5551"></a>		<span class="source_type">C</span>.DrawText(widget.<span class="source_type">text</span>);
<a name="5552"></a>		<span class="source_type">C</span>.SetOrigin(<span class="source_type">C</span>.OrgX - <span class="source_int">1</span>, <span class="source_type">C</span>.OrgY - <span class="source_int">1</span>);
<a name="5553"></a>		<span class="source_type">C</span>.SetPos(<span class="source_int">0</span>,<span class="source_int">0</span>);
<a name="5554"></a>		<span class="source_type">C</span>.DrawColor = widget.Tints[TeamIndex];
<a name="5555"></a>	}
<a name="5556"></a>
<a name="5557"></a>    if (!bNoRender)
<a name="5558"></a>	<span class="source_type">C</span>.DrawText(widget.<span class="source_type">text</span>);
<a name="5559"></a>
<a name="5560"></a>	<span class="source_comment">// Restore old canvas settings
</span><a name="5561"></a>	<span class="source_type">C</span>.SetOrigin(oldOrgX, oldOrgY);
<a name="5562"></a>	<span class="source_type">C</span>.SetClip(oldClipX, oldClipY);
<a name="5563"></a>}
<a name="5564"></a>
<a name="5565"></a><span class="source_comment">// Transform from one set of absolute coordinate into another
</span><a name="5566"></a><span class="source_comment">// X, Y, XL and YL are in the 0-1 range.
</span><a name="5567"></a>function GetAbsoluteCoordinates(<span class="source_type"><a href="../roengine/rohud.html#AbsoluteCoordsInfo" class="source">AbsoluteCoordsInfo</a></span> reference, <span class="source_type">float</span> <span class="source_type">X</span>, <span class="source_type">float</span> <span class="source_type">Y</span>, <span class="source_type">float</span> XL, <span class="source_type">float</span> <span class="source_type">YL</span>, out <span class="source_type"><a href="../roengine/rohud.html#AbsoluteCoordsInfo" class="source">AbsoluteCoordsInfo</a></span> <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>)
<a name="5568"></a>{
<a name="5569"></a>	<span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.PosX = reference.PosX + <span class="source_type">X</span> * reference.<span class="source_type">width</span>;
<a name="5570"></a>	<span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.PosY = reference.PosY + <span class="source_type">Y</span> * reference.height;
<a name="5571"></a>	<span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.<span class="source_type">width</span> = reference.<span class="source_type">width</span> * XL;
<a name="5572"></a>	<span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.height = reference.height * <span class="source_type">YL</span>;
<a name="5573"></a>}
<a name="5574"></a>
<a name="5575"></a><span class="source_comment">// Transform from one set of absolute coordinate into another
</span><a name="5576"></a><span class="source_comment">// using a set of relative coordinates
</span><a name="5577"></a>function GetAbsoluteCoordinatesAlt(<span class="source_type"><a href="../roengine/rohud.html#AbsoluteCoordsInfo" class="source">AbsoluteCoordsInfo</a></span> reference, <span class="source_type"><a href="../roengine/rohud.html#RelativeCoordsInfo" class="source">RelativeCoordsInfo</a></span> relative, out <span class="source_type"><a href="../roengine/rohud.html#AbsoluteCoordsInfo" class="source">AbsoluteCoordsInfo</a></span> <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>)
<a name="5578"></a>{
<a name="5579"></a>	<span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.PosX = reference.PosX + relative.<span class="source_type">X</span> * reference.<span class="source_type">width</span>;
<a name="5580"></a>	<span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.PosY = reference.PosY + relative.<span class="source_type">Y</span> * reference.height;
<a name="5581"></a>	<span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.<span class="source_type">width</span> = reference.<span class="source_type">width</span> * relative.XL;
<a name="5582"></a>	<span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.height = reference.height * relative.<span class="source_type">YL</span>;
<a name="5583"></a>}
<a name="5584"></a>
<a name="5585"></a>function MouseInterfaceStartCapturing()
<a name="5586"></a>{
<a name="5587"></a>	bCapturingMouse = true;
<a name="5588"></a>	bHaveAtLeastOneValidMouseUpdate = false;
<a name="5589"></a>	<span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(PlayerOwner).bHudCapturesMouseInputs = true;
<a name="5590"></a>}
<a name="5591"></a>
<a name="5592"></a>function MouseInterfaceStopCapturing()
<a name="5593"></a>{
<a name="5594"></a>	<span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(PlayerOwner).bHudCapturesMouseInputs = false;
<a name="5595"></a>	bCapturingMouse = false;
<a name="5596"></a>	MouseInterfaceUnlockPlayerRotation();
<a name="5597"></a>}
<a name="5598"></a>
<a name="5599"></a>function MouseInterfaceUpdatePosition(<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> newPos)
<a name="5600"></a>{
<a name="5601"></a>	local <span class="source_type">float</span> PosX, PosY;
<a name="5602"></a>
<a name="5603"></a>	MouseCurrentPos = newPos;
<a name="5604"></a>	bHaveAtLeastOneValidMouseUpdate = true;
<a name="5605"></a>
<a name="5606"></a>	if (bShowObjectives)
<a name="5607"></a>	{
<a name="5608"></a>		PosX = MouseCurrentPos.<span class="source_type">X</span> + LastHUDSizeX * <span class="source_int">0.5</span>;
<a name="5609"></a>		PosY = MouseCurrentPos.<span class="source_type">Y</span> + LastHUDSizeY * <span class="source_int">0.5</span>;
<a name="5610"></a>
<a name="5611"></a>		if (PosX &gt; MapLevelImageCoordinates.PosX &&
<a name="5612"></a>			PosY &gt; MapLevelImageCoordinates.PosY &&
<a name="5613"></a>			PosX &lt; MapLevelImageCoordinates.<span class="source_type">width</span> + MapLevelImageCoordinates.PosX &&
<a name="5614"></a>			PosY &lt; MapLevelImageCoordinates.height + MapLevelImageCoordinates.PosY)
<a name="5615"></a>		{
<a name="5616"></a>			MouseInterfaceLockPlayerRotation();
<a name="5617"></a>		}
<a name="5618"></a>		else
<a name="5619"></a>			MouseInterfaceUnlockPlayerRotation();
<a name="5620"></a>	}
<a name="5621"></a>	else
<a name="5622"></a>		MouseInterfaceUnlockPlayerRotation();
<a name="5623"></a>}
<a name="5624"></a>
<a name="5625"></a>function MouseInterfaceClick()
<a name="5626"></a>{
<a name="5627"></a>	if (bShowObjectives)
<a name="5628"></a>	{
<a name="5629"></a>		if (HandleLevelMapClick(MouseCurrentPos.<span class="source_type">X</span> + LastHUDSizeX * <span class="source_int">0.5</span>, MouseCurrentPos.<span class="source_type">Y</span> + LastHUDSizeY * <span class="source_int">0.5</span>))
<a name="5630"></a>			HideObjectives();
<a name="5631"></a>	}
<a name="5632"></a>	else <span class="source_comment">// Safeguard
</span><a name="5633"></a>		MouseInterfaceStopCapturing();
<a name="5634"></a>}
<a name="5635"></a>
<a name="5636"></a>function MouseInterfaceDrawCursor(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>)
<a name="5637"></a>{
<a name="5638"></a>	local <span class="source_type">float</span> PosX, PosY;
<a name="5639"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> newMousePos;
<a name="5640"></a>
<a name="5641"></a>	if (!bHaveAtLeastOneValidMouseUpdate)
<a name="5642"></a>		return;
<a name="5643"></a>
<a name="5644"></a>	newMousePos = MouseCurrentPos;
<a name="5645"></a>
<a name="5646"></a>	PosX = newMousePos.<span class="source_type">X</span> + <span class="source_type">C</span>.SizeX * <span class="source_int">0.5</span>;
<a name="5647"></a>	PosY = newMousePos.<span class="source_type">Y</span> + <span class="source_type">C</span>.SizeY * <span class="source_int">0.5</span>;
<a name="5648"></a>
<a name="5649"></a>	if (PosX &lt; <span class="source_int">0</span>)
<a name="5650"></a>	{
<a name="5651"></a>		newMousePos.<span class="source_type">X</span> -= PosX;
<a name="5652"></a>		PosX = <span class="source_int">0</span>;
<a name="5653"></a>	}
<a name="5654"></a>	else if (PosX &gt;= <span class="source_type">C</span>.ClipX)
<a name="5655"></a>	{
<a name="5656"></a>		newMousePos.<span class="source_type">X</span> -= (PosX - <span class="source_type">C</span>.SizeX);
<a name="5657"></a>		PosX = <span class="source_type">C</span>.SizeX - <span class="source_int">1</span>;
<a name="5658"></a>	}
<a name="5659"></a>
<a name="5660"></a>	if (PosY &lt; <span class="source_int">0</span>)
<a name="5661"></a>	{
<a name="5662"></a>		newMousePos.<span class="source_type">Y</span> -= PosY;
<a name="5663"></a>		PosY = <span class="source_int">0</span>;
<a name="5664"></a>	}
<a name="5665"></a>	else if (PosY &gt;= <span class="source_type">C</span>.ClipY)
<a name="5666"></a>	{
<a name="5667"></a>		newMousePos.<span class="source_type">Y</span> -= (PosY - <span class="source_type">C</span>.SizeY);
<a name="5668"></a>		PosY = <span class="source_type">C</span>.SizeY - <span class="source_int">1</span>;
<a name="5669"></a>	}
<a name="5670"></a>
<a name="5671"></a>	if (newMousePos != MousecurrentPos)
<a name="5672"></a>		<span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(PlayerOwner).MouseInterfaceSetMousePos(newMousePos);
<a name="5673"></a>
<a name="5674"></a>	<span class="source_comment">//log("newMousePos.X = " $ newMousePos.X);
</span><a name="5675"></a>	<span class="source_comment">//log("newMousePos.Y = " $ newMousePos.Y);
</span><a name="5676"></a>
<a name="5677"></a>	MouseInterfaceIcon.PosX = PosX / <span class="source_type">C</span>.ClipX;
<a name="5678"></a>	MouseInterfaceIcon.PosY = PosY / <span class="source_type">C</span>.ClipY;
<a name="5679"></a>
<a name="5680"></a>	LastHUDSizeX = <span class="source_type">C</span>.ClipX;
<a name="5681"></a>	LastHUDSizeY = <span class="source_type">C</span>.ClipY;
<a name="5682"></a>
<a name="5683"></a>	<span class="source_comment">//log("Drawing to " $ MouseInterfaceIcon.PosX $ "," $ MouseInterfaceIcon.PosY);
</span><a name="5684"></a>
<a name="5685"></a>	DrawSpriteWidget(<span class="source_type">C</span>, MouseInterfaceIcon);
<a name="5686"></a>}
<a name="5687"></a>
<a name="5688"></a>function MouseInterfaceLockPlayerRotation()
<a name="5689"></a>{
<a name="5690"></a>	if (<span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(PlayerOwner) != none)
<a name="5691"></a>		<span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(PlayerOwner).MouseInterfaceSetRotationLock(true);
<a name="5692"></a>}
<a name="5693"></a>
<a name="5694"></a>function MouseInterfaceUnlockPlayerRotation()
<a name="5695"></a>{
<a name="5696"></a>	if (<span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(PlayerOwner) != none)
<a name="5697"></a>		<span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(PlayerOwner).MouseInterfaceSetRotationLock(false);
<a name="5698"></a>}
<a name="5699"></a>
<a name="5700"></a>function DrawVehicleIcon(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, <span class="source_type"><a href="../roengine/rovehicle.html" class="source">ROVehicle</a></span> <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>, optional <span class="source_type"><a href="../roengine/rovehicleweaponpawn.html" class="source">ROVehicleWeaponPawn</a></span> passenger)
<a name="5701"></a>{
<a name="5702"></a>    local <span class="source_type"><a href="../roengine/rohud.html#AbsoluteCoordsInfo" class="source">AbsoluteCoordsInfo</a></span> <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, coords2;
<a name="5703"></a>    local <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span> myRot;
<a name="5704"></a>    local <span class="source_type"><a href="../roengine/rotreadcraft.html" class="source">ROTreadCraft</a></span> threadCraft;
<a name="5705"></a>    local <span class="source_type"><a href="../xinterface/hudbase.html#SpriteWidget" class="source">SpriteWidget</a></span> widget;
<a name="5706"></a>    local <span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span> vehicleColor;
<a name="5707"></a>    local <span class="source_type">float</span> <span class="source_type">f</span>;
<a name="5708"></a>    local <span class="source_type">int</span> <span class="source_type">i</span>, current, pending;
<a name="5709"></a>    local <span class="source_type"><a href="../roengine/rovehicleweaponpawn.html" class="source">ROVehicleWeaponPawn</a></span> wpawn;
<a name="5710"></a>    local <span class="source_type">float</span> XL, <span class="source_type">YL</span>, Y_one;
<a name="5711"></a>    local array&lt;<span class="source_type">string</span>&gt; lines;
<a name="5712"></a>    local <span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> PRI;
<a name="5713"></a>    local <span class="source_type"><a href="../roengine/rotankcannon.html" class="source">ROTankCannon</a></span> cannon;
<a name="5714"></a>    local <span class="source_type"><a href="../roengine/rovehicleweapon.html" class="source">ROVehicleWeapon</a></span> <span class="source_type"><a href="../engine/weapon.html" class="source">weapon</a></span>;
<a name="5715"></a>    local <span class="source_type">float</span> myScale;
<a name="5716"></a>    local <span class="source_type">float</span> modifiedVehicleOccupantsTextYOffset; <span class="source_comment">// Used to offset text vertically when drawing coaxial ammo info
</span><a name="5717"></a>    local <span class="source_type"><a href="../roengine/rowheeledvehicle.html" class="source">ROWheeledVehicle</a></span> wheeled_vehicle;
<a name="5718"></a>
<a name="5719"></a>    if (bHideHud)
<a name="5720"></a>        return;
<a name="5721"></a>
<a name="5722"></a>    <span class="source_comment">// Debug: draw tank name
</span><a name="5723"></a>    <span class="source_comment">//canvas.setpos(0, canvas.clipY * 0.75);
</span><a name="5724"></a>    <span class="source_comment">//canvas.DrawText(vehicle.class);
</span><a name="5725"></a>
<a name="5726"></a>    <span class="source_comment">//////////////////////////////////////
</span><a name="5727"></a>    <span class="source_comment">// Draw vehicle icon
</span><a name="5728"></a>    <span class="source_comment">//////////////////////////////////////
</span><a name="5729"></a>
<a name="5730"></a>    <span class="source_comment">// Figure what the scale is
</span><a name="5731"></a>    myScale = HudScale; <span class="source_comment">// * ResScaleY;
</span><a name="5732"></a>
<a name="5733"></a>    <span class="source_comment">// Figure where to draw
</span><a name="5734"></a>    <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.PosX = <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ClipX * VehicleIconCoords.<span class="source_type">X</span>;
<a name="5735"></a>    <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.height = <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ClipY * VehicleIconCoords.<span class="source_type">YL</span> * myScale;
<a name="5736"></a>    <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.PosY = <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ClipY * VehicleIconCoords.<span class="source_type">Y</span> - <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.height;
<a name="5737"></a>    <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.<span class="source_type">width</span> = <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>.height;
<a name="5738"></a>
<a name="5739"></a>    <span class="source_comment">// Compute whole-screen coords
</span><a name="5740"></a>    coords2.PosX = <span class="source_int">0</span>; coords2.PosY = <span class="source_int">0</span>;
<a name="5741"></a>    coords2.<span class="source_type">width</span> = <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ClipX; coords2.height = <span class="source_type"><a href="../engine/canvas.html" class="source">canvas</a></span>.ClipY;
<a name="5742"></a>
<a name="5743"></a>    <span class="source_comment">// Set initial passenger PosX (shifted if we're drawing ammo info,
</span><a name="5744"></a>    <span class="source_comment">// else it's draw closer to the tank icon)
</span><a name="5745"></a>    VehicleOccupantsText.PosX = default.VehicleOccupantsText.PosX;
<a name="5746"></a>
<a name="5747"></a>    <span class="source_comment">// The IS2 is so frelling huge that it needs to use larger textures
</span><a name="5748"></a>    if (<span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.bVehicleHudUsesLargeTexture)
<a name="5749"></a>        widget = VehicleIconAlt;
<a name="5750"></a>    else
<a name="5751"></a>        widget = VehicleIcon;
<a name="5752"></a>
<a name="5753"></a>    <span class="source_comment">// Figure what color to draw in
</span><a name="5754"></a>    <span class="source_type">f</span> = <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.Health / <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.HealthMax;
<a name="5755"></a>    if (<span class="source_type">f</span> &gt; <span class="source_int">0.75</span>)
<a name="5756"></a>        vehicleColor = VehicleNormalColor;
<a name="5757"></a>    else if (<span class="source_type">f</span> &gt; <span class="source_int">0.35</span>)
<a name="5758"></a>        vehicleColor = VehicleDamagedColor;
<a name="5759"></a>    else
<a name="5760"></a>        vehicleColor = VehicleCriticalColor;
<a name="5761"></a>    widget.Tints[<span class="source_int">0</span>] = vehicleColor;
<a name="5762"></a>    widget.Tints[<span class="source_int">1</span>] = vehicleColor;
<a name="5763"></a>
<a name="5764"></a>    <span class="source_comment">// Draw vehicle icon
</span><a name="5765"></a>    widget.WidgetTexture = <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.VehicleHudImage;
<a name="5766"></a>    DrawSpriteWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, widget, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, true);
<a name="5767"></a>
<a name="5768"></a>    <span class="source_comment">// Draw engine (if needed)
</span><a name="5769"></a>    <span class="source_type">f</span> = <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.EngineHealth / <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.Default.EngineHealth;
<a name="5770"></a>    if (<span class="source_type">f</span> &lt; <span class="source_int">0.95</span>)
<a name="5771"></a>    {
<a name="5772"></a>        if (<span class="source_type">f</span> &lt; <span class="source_int">0.35</span>)
<a name="5773"></a>            VehicleEngine.WidgetTexture = VehicleEngineCriticalTexture;
<a name="5774"></a>        else
<a name="5775"></a>            VehicleEngine.WidgetTexture = VehicleEngineDamagedTexture;
<a name="5776"></a>
<a name="5777"></a>        VehicleEngine.PosX = <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.VehicleHudEngineX;
<a name="5778"></a>        VehicleEngine.PosY = <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.VehicleHudEngineY;
<a name="5779"></a>        DrawSpriteWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleEngine, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, true);
<a name="5780"></a>    }
<a name="5781"></a>
<a name="5782"></a>    <span class="source_comment">// Draw treaded vehicle specific stuff
</span><a name="5783"></a>    threadCraft = <span class="source_type"><a href="../roengine/rotreadcraft.html" class="source">ROTreadCraft</a></span>(<span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>);
<a name="5784"></a>    if (threadCraft != none)
<a name="5785"></a>    {
<a name="5786"></a>        <span class="source_comment">// Update turret references
</span><a name="5787"></a>        if (threadCraft.CannonTurret == none)
<a name="5788"></a>            threadCraft.UpdateTurretReferences();
<a name="5789"></a>
<a name="5790"></a>        <span class="source_comment">// Draw threads (if needed)
</span><a name="5791"></a>        if (threadCraft.bLeftTrackDamaged)
<a name="5792"></a>        {
<a name="5793"></a>            VehicleThreads[<span class="source_int">0</span>].TextureScale = threadCraft.VehicleHudThreadsScale;
<a name="5794"></a>            VehicleThreads[<span class="source_int">0</span>].PosX = threadCraft.VehicleHudThreadsPosX[<span class="source_int">0</span>];
<a name="5795"></a>            VehicleThreads[<span class="source_int">0</span>].PosY = threadCraft.VehicleHudThreadsPosY;
<a name="5796"></a>            DrawSpriteWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleThreads[<span class="source_int">0</span>], <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, true, XL, <span class="source_type">YL</span>, false, true);
<a name="5797"></a>        }
<a name="5798"></a>        if (threadCraft.bRightTrackDamaged)
<a name="5799"></a>        {
<a name="5800"></a>            VehicleThreads[<span class="source_int">1</span>].TextureScale = threadCraft.VehicleHudThreadsScale;
<a name="5801"></a>            VehicleThreads[<span class="source_int">1</span>].PosX = threadCraft.VehicleHudThreadsPosX[<span class="source_int">1</span>];
<a name="5802"></a>            VehicleThreads[<span class="source_int">1</span>].PosY = threadCraft.VehicleHudThreadsPosY;
<a name="5803"></a>            DrawSpriteWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleThreads[<span class="source_int">1</span>], <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, true, XL, <span class="source_type">YL</span>, false, true);
<a name="5804"></a>        }
<a name="5805"></a>
<a name="5806"></a>        <span class="source_comment">// Update & draw look turret (if needed)
</span><a name="5807"></a>        if (passenger != none && passenger.IsA(<span class="source_name">'ROTankCannonPawn'</span>))
<a name="5808"></a>        {
<a name="5809"></a>            threadCraft.VehicleHudTurretLook.<span class="source_type">Rotation</span>.Yaw =
<a name="5810"></a>                <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.<span class="source_type">Rotation</span>.Yaw - passenger.CustomAim.Yaw;
<a name="5811"></a>            widget.WidgetTexture = threadCraft.VehicleHudTurretLook;
<a name="5812"></a>            widget.Tints[<span class="source_int">0</span>].<span class="source_type">A</span> /= <span class="source_int">2</span>;
<a name="5813"></a>            widget.Tints[<span class="source_int">1</span>].<span class="source_type">A</span> /= <span class="source_int">2</span>;
<a name="5814"></a>            DrawSpriteWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, widget, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, true);
<a name="5815"></a>            widget.Tints[<span class="source_int">0</span>] = vehicleColor;
<a name="5816"></a>            widget.Tints[<span class="source_int">1</span>] = vehicleColor;
<a name="5817"></a>
<a name="5818"></a>            <span class="source_comment">// Draw ammo count since we're a gunner
</span><a name="5819"></a>            if (bShowWeaponInfo)
<a name="5820"></a>            {
<a name="5821"></a>                <span class="source_comment">// Shift passengers list farther to the right
</span><a name="5822"></a>                VehicleOccupantsText.PosX = VehicleOccupantsTextOffset;
<a name="5823"></a>
<a name="5824"></a>                <span class="source_comment">// Draw icon
</span><a name="5825"></a>                VehicleAmmoIcon.WidgetTexture = passenger.AmmoShellTexture;
<a name="5826"></a>                DrawSpriteWidget(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleAmmoIcon);
<a name="5827"></a>
<a name="5828"></a>                <span class="source_comment">// Draw reload state icon (if needed)
</span><a name="5829"></a>                VehicleAmmoReloadIcon.WidgetTexture = passenger.AmmoShellReloadTexture;
<a name="5830"></a>                VehicleAmmoReloadIcon.<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span> = passenger.getAmmoReloadState();
<a name="5831"></a>                DrawSpriteWidget(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleAmmoReloadIcon);
<a name="5832"></a>
<a name="5833"></a>                <span class="source_comment">// Draw ammo count
</span><a name="5834"></a>
<a name="5835"></a>                if( Passenger != none && passenger.Gun != none )
<a name="5836"></a>                {
<a name="5837"></a>                	VehicleAmmoAmount.<span class="source_type">Value</span> = passenger.Gun.PrimaryAmmoCount();<span class="source_comment">//999;
</span><a name="5838"></a>                }
<a name="5839"></a>                DrawNumericWidget(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleAmmoAmount, Digits);
<a name="5840"></a>
<a name="5841"></a>                <span class="source_comment">// Draw ammo type
</span><a name="5842"></a>                cannon = <span class="source_type"><a href="../roengine/rotankcannon.html" class="source">ROTankCannon</a></span>(passenger.Gun);
<a name="5843"></a>                if (cannon != none && cannon.bMultipleRoundTypes)
<a name="5844"></a>                {
<a name="5845"></a>                    <span class="source_comment">// Get ammo types
</span><a name="5846"></a>                    current = cannon.GetRoundsDescription(lines);
<a name="5847"></a>                    pending = cannon.GetPendingRoundIndex();
<a name="5848"></a>
<a name="5849"></a>                    VehicleAmmoTypeText.OffsetY = default.VehicleAmmoTypeText.OffsetY * myScale;
<a name="5850"></a>                    if (myScale &lt; <span class="source_int">0.85</span>)
<a name="5851"></a>                        <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.<span class="source_type">Font</span> = GetConsoleFont(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="5852"></a>                    else
<a name="5853"></a>                        <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.<span class="source_type">Font</span> = GetSmallMenuFont(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="5854"></a>
<a name="5855"></a>                    <span class="source_type">i</span> = (current + <span class="source_int">1</span>) % lines.length;
<a name="5856"></a>                    while (true)
<a name="5857"></a>                    {
<a name="5858"></a>                        if (<span class="source_type">i</span> == pending)
<a name="5859"></a>                        	VehicleAmmoTypeText.<span class="source_type">text</span> = lines[<span class="source_type">i</span>]$<span class="source_string">"&lt;-"</span>;
<a name="5860"></a>                        else
<a name="5861"></a>                        	VehicleAmmoTypeText.<span class="source_type">text</span> = lines[<span class="source_type">i</span>];
<a name="5862"></a>
<a name="5863"></a>                        if (<span class="source_type">i</span> == current)
<a name="5864"></a>                            VehicleAmmoTypeText.Tints[TeamIndex].<span class="source_type">A</span> = <span class="source_int">255</span>;
<a name="5865"></a>                        else
<a name="5866"></a>                            VehicleAmmoTypeText.Tints[TeamIndex].<span class="source_type">A</span> = <span class="source_int">128</span>;
<a name="5867"></a>
<a name="5868"></a>
<a name="5869"></a>
<a name="5870"></a>                        DrawTextWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleAmmoTypeText, coords2, XL, <span class="source_type">YL</span>, Y_one);
<a name="5871"></a>                        VehicleAmmoTypeText.OffsetY -= <span class="source_type">YL</span>;
<a name="5872"></a>
<a name="5873"></a>                        <span class="source_type">i</span> = (<span class="source_type">i</span> + <span class="source_int">1</span>) % lines.length;
<a name="5874"></a>                        if (<span class="source_type">i</span> == (current + <span class="source_int">1</span>) % lines.length)
<a name="5875"></a>                            break;
<a name="5876"></a>                    }
<a name="5877"></a>                }
<a name="5878"></a>                if (cannon != none)
<a name="5879"></a>                {
<a name="5880"></a>                    <span class="source_comment">// Draw coaxial gun ammo info if needed
</span><a name="5881"></a>                    if (cannon.AltFireProjectileClass != none)
<a name="5882"></a>                    {
<a name="5883"></a>                        <span class="source_comment">// Draw coaxial gun ammo icon
</span><a name="5884"></a>                        VehicleAltAmmoIcon.WidgetTexture = cannon.hudAltAmmoIcon;
<a name="5885"></a>                        DrawSpriteWidget(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleAltAmmoIcon);
<a name="5886"></a>
<a name="5887"></a>                        <span class="source_comment">// Draw coaxial gun ammo ammount
</span><a name="5888"></a>                        VehicleAltAmmoAmount.<span class="source_type">Value</span> = cannon.getNumMags();<span class="source_comment">//999;
</span><a name="5889"></a>                        DrawNumericWidget(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleAltAmmoAmount, Digits);
<a name="5890"></a>
<a name="5891"></a>                        <span class="source_comment">// Shift occupants list position to accomodate coaxial gun ammo info
</span><a name="5892"></a>                        modifiedVehicleOccupantsTextYOffset = VehicleAltAmmoOccupantsTextOffset * myScale;
<a name="5893"></a>                    }
<a name="5894"></a>                }
<a name="5895"></a>            }
<a name="5896"></a>        }
<a name="5897"></a>
<a name="5898"></a>        <span class="source_comment">// Update & draw turret
</span><a name="5899"></a>        if (threadCraft.CannonTurret != none)
<a name="5900"></a>        {
<a name="5901"></a>            myRot = <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span>(<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>(threadCraft.CannonTurret.CurrentAim) &gt;&gt; threadCraft.CannonTurret.<span class="source_type">Rotation</span>);
<a name="5902"></a>            threadCraft.VehicleHudTurret.<span class="source_type">Rotation</span>.Yaw = <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.<span class="source_type">Rotation</span>.Yaw - myRot.Yaw;
<a name="5903"></a>            widget.WidgetTexture = threadCraft.VehicleHudTurret;
<a name="5904"></a>            DrawSpriteWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, widget, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, true);
<a name="5905"></a>        }
<a name="5906"></a>    }
<a name="5907"></a>
<a name="5908"></a>    <span class="source_comment">// Draw MG ammo info (if needed)
</span><a name="5909"></a>    if (bShowWeaponInfo && passenger != none && passenger.bIsMountedTankMG)
<a name="5910"></a>    {
<a name="5911"></a>        <span class="source_type"><a href="../engine/weapon.html" class="source">weapon</a></span> = <span class="source_type"><a href="../roengine/rovehicleweapon.html" class="source">ROVehicleWeapon</a></span>(passenger.Gun);
<a name="5912"></a>        if (<span class="source_type"><a href="../engine/weapon.html" class="source">weapon</a></span> != none)
<a name="5913"></a>        {
<a name="5914"></a>            <span class="source_comment">// Offset vehicle passenger names
</span><a name="5915"></a>            VehicleOccupantsText.PosX = VehicleOccupantsTextOffset;
<a name="5916"></a>
<a name="5917"></a>            <span class="source_comment">// Draw ammo icon
</span><a name="5918"></a>            VehicleMGAmmoIcon.WidgetTexture = <span class="source_type"><a href="../engine/weapon.html" class="source">weapon</a></span>.hudAltAmmoIcon;
<a name="5919"></a>            DrawSpriteWidget(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleMGAmmoIcon);
<a name="5920"></a>
<a name="5921"></a>            <span class="source_comment">// Draw ammo count
</span><a name="5922"></a>            VehicleMGAmmoAmount.<span class="source_type">Value</span> = <span class="source_type"><a href="../engine/weapon.html" class="source">weapon</a></span>.getNumMags();
<a name="5923"></a>            DrawNumericWidget(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleMGAmmoAmount, Digits);
<a name="5924"></a>        }
<a name="5925"></a>    }
<a name="5926"></a>
<a name="5927"></a>    <span class="source_comment">// Draw rpm/speed/throttle gauges if we're the driver
</span><a name="5928"></a>    if (passenger == none)
<a name="5929"></a>    {
<a name="5930"></a>        wheeled_vehicle = <span class="source_type"><a href="../roengine/rowheeledvehicle.html" class="source">ROWheeledVehicle</a></span>(<span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>);
<a name="5931"></a>        if (wheeled_vehicle != none)
<a name="5932"></a>        {
<a name="5933"></a>            <span class="source_comment">// Get team index
</span><a name="5934"></a>            if (<span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != none && <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != none &&
<a name="5935"></a>                <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span> != none)
<a name="5936"></a>            {
<a name="5937"></a>                if (<span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.TeamIndex == AXIS_TEAM_INDEX)
<a name="5938"></a>                    <span class="source_type">i</span> = AXIS_TEAM_INDEX;
<a name="5939"></a>                else
<a name="5940"></a>                    <span class="source_type">i</span> = ALLIES_TEAM_INDEX;
<a name="5941"></a>            }
<a name="5942"></a>            else
<a name="5943"></a>                <span class="source_type">i</span> = AXIS_TEAM_INDEX;
<a name="5944"></a>
<a name="5945"></a>            <span class="source_comment">// Update textures for backgrounds
</span><a name="5946"></a>            VehicleSpeedIndicator.WidgetTexture = VehicleSpeedTextures[<span class="source_type">i</span>];
<a name="5947"></a>            VehicleRPMIndicator.WidgetTexture = VehicleRPMTextures[<span class="source_type">i</span>];
<a name="5948"></a>
<a name="5949"></a>            <span class="source_comment">// Draw backgrounds
</span><a name="5950"></a>            DrawSpriteWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleSpeedIndicator, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, true, XL, <span class="source_type">YL</span>, false, true);
<a name="5951"></a>            DrawSpriteWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleRPMIndicator, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, true, XL, <span class="source_type">YL</span>, false, true);
<a name="5952"></a>
<a name="5953"></a>            <span class="source_comment">// Get speed value & update rotator
</span><a name="5954"></a>            <span class="source_type">f</span> = (((VSize(wheeled_vehicle.Velocity) * <span class="source_int">3600</span>)/<span class="source_int">60.35</span>)/<span class="source_int">1000</span>);
<a name="5955"></a>            <span class="source_comment">//f = 100;
</span><a name="5956"></a>            <span class="source_type">f</span> *= VehicleSpeedScale[<span class="source_type">i</span>];
<a name="5957"></a>            <span class="source_type">f</span> += VehicleSpeedZeroPosition[<span class="source_type">i</span>];
<a name="5958"></a>
<a name="5959"></a>            <span class="source_comment">// Check if we should reset needles rotation
</span><a name="5960"></a>            if (VehicleNeedlesLastRenderTime &lt; <span class="source_type">Level</span>.TimeSeconds - <span class="source_int">0.5</span>)
<a name="5961"></a>               <span class="source_type">f</span> = VehicleLastSpeedRotation;
<a name="5962"></a>
<a name="5963"></a>            <span class="source_comment">// Calculate modified rotation (to limit rotation speed)
</span><a name="5964"></a>            if (<span class="source_type">f</span> &lt; VehicleLastSpeedRotation)
<a name="5965"></a>                VehicleLastSpeedRotation = <span class="source_type">max</span>(<span class="source_type">f</span>, VehicleLastSpeedRotation -
<a name="5966"></a>                    (<span class="source_type">Level</span>.TimeSeconds - VehicleNeedlesLastRenderTime) * VehicleNeedlesRotationSpeed);
<a name="5967"></a>            else
<a name="5968"></a>                VehicleLastSpeedRotation = min(<span class="source_type">f</span>, VehicleLastSpeedRotation +
<a name="5969"></a>                    (<span class="source_type">Level</span>.TimeSeconds - VehicleNeedlesLastRenderTime) * VehicleNeedlesRotationSpeed);
<a name="5970"></a>            <span class="source_type"><a href="../engine/texrotator.html" class="source">TexRotator</a></span>(VehicleSpeedNeedlesTextures[<span class="source_type">i</span>]).<span class="source_type">Rotation</span>.Yaw = VehicleLastSpeedRotation;
<a name="5971"></a>
<a name="5972"></a>            <span class="source_comment">// Get RPM value & update rotator
</span><a name="5973"></a>            <span class="source_type">f</span> = wheeled_vehicle.EngineRPM / <span class="source_int">100</span>;
<a name="5974"></a>            <span class="source_comment">//f = 35;
</span><a name="5975"></a>            <span class="source_type">f</span> *= VehicleRPMScale[<span class="source_type">i</span>];
<a name="5976"></a>            <span class="source_type">f</span> += VehicleRPMZeroPosition[<span class="source_type">i</span>];
<a name="5977"></a>
<a name="5978"></a>            <span class="source_comment">// Check if we should reset needles rotation
</span><a name="5979"></a>            if (VehicleNeedlesLastRenderTime &lt; <span class="source_type">Level</span>.TimeSeconds - <span class="source_int">0.5</span>)
<a name="5980"></a>               <span class="source_type">f</span> = VehicleLastSpeedRotation;
<a name="5981"></a>
<a name="5982"></a>            <span class="source_comment">// Calculate modified rotation (to limit rotation speed)
</span><a name="5983"></a>            if (<span class="source_type">f</span> &lt; VehicleLastRPMRotation)
<a name="5984"></a>                VehicleLastRPMRotation = <span class="source_type">max</span>(<span class="source_type">f</span>, VehicleLastRPMRotation -
<a name="5985"></a>                    (<span class="source_type">Level</span>.TimeSeconds - VehicleNeedlesLastRenderTime) * VehicleNeedlesRotationSpeed);
<a name="5986"></a>            else
<a name="5987"></a>                VehicleLastRPMRotation = min(<span class="source_type">f</span>, VehicleLastRPMRotation +
<a name="5988"></a>                    (<span class="source_type">Level</span>.TimeSeconds - VehicleNeedlesLastRenderTime) * VehicleNeedlesRotationSpeed);
<a name="5989"></a>            <span class="source_type"><a href="../engine/texrotator.html" class="source">TexRotator</a></span>(VehicleRPMNeedlesTextures[<span class="source_type">i</span>]).<span class="source_type">Rotation</span>.Yaw = VehicleLastRPMRotation;
<a name="5990"></a>
<a name="5991"></a>            <span class="source_comment">// Save last updated time
</span><a name="5992"></a>            VehicleNeedlesLastRenderTime = <span class="source_type">Level</span>.TimeSeconds;
<a name="5993"></a>
<a name="5994"></a>            <span class="source_comment">// Update textures for needles
</span><a name="5995"></a>            VehicleSpeedIndicator.WidgetTexture = VehicleSpeedNeedlesTextures[<span class="source_type">i</span>];
<a name="5996"></a>            VehicleRPMIndicator.WidgetTexture = VehicleRPMNeedlesTextures[<span class="source_type">i</span>];
<a name="5997"></a>
<a name="5998"></a>            <span class="source_comment">// Draw needles
</span><a name="5999"></a>            DrawSpriteWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleSpeedIndicator, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, true, XL, <span class="source_type">YL</span>, false, true);
<a name="6000"></a>            DrawSpriteWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleRPMIndicator, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, true, XL, <span class="source_type">YL</span>, false, true);
<a name="6001"></a>
<a name="6002"></a>            <span class="source_comment">// Check if we should draw throttle
</span><a name="6003"></a>            if (<span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(<span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>) != none
<a name="6004"></a>                && ( (<span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(<span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>).bInterpolatedTankThrottle && threadCraft != none) ||
<a name="6005"></a>                     (<span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(<span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>).bInterpolatedVehicleThrottle && threadCraft == none) ))
<a name="6006"></a>            {
<a name="6007"></a>                <span class="source_comment">// Draw throttle background
</span><a name="6008"></a>                DrawSpriteWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleThrottleIndicatorBackground, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, true, XL, <span class="source_type">YL</span>, false, true);
<a name="6009"></a>
<a name="6010"></a>                <span class="source_comment">// Save YL for use later
</span><a name="6011"></a>                Y_one = <span class="source_type">YL</span>;
<a name="6012"></a>
<a name="6013"></a>                <span class="source_comment">// Check which throttle variable we should use
</span><a name="6014"></a>                if (PlayerOwner != <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>)
<a name="6015"></a>                {
<a name="6016"></a>                    <span class="source_comment">// Is spectator
</span><a name="6017"></a>                    if (wheeled_vehicle.ThrottleRep &lt;= <span class="source_int">100</span>)
<a name="6018"></a>                        <span class="source_type">f</span> = (wheeled_vehicle.ThrottleRep * -<span class="source_int">1.0</span>) / <span class="source_int">100.0</span>;
<a name="6019"></a>                    else
<a name="6020"></a>                        <span class="source_type">f</span> = <span class="source_type">float</span>(wheeled_vehicle.ThrottleRep - <span class="source_int">101</span>) / <span class="source_int">100.0</span>;
<a name="6021"></a>                }
<a name="6022"></a>                else
<a name="6023"></a>                    <span class="source_type">f</span> = wheeled_vehicle.Throttle;
<a name="6024"></a>
<a name="6025"></a>                <span class="source_comment">// Figure which part to draw (top or bottom) depending if throttle is positive or negative,
</span><a name="6026"></a>                <span class="source_comment">// updated the scale value and draw the widget
</span><a name="6027"></a>                if (<span class="source_type">f</span> ~= <span class="source_int">0</span>)
<a name="6028"></a>                {
<a name="6029"></a>                }
<a name="6030"></a>                else if (<span class="source_type">f</span> &gt; <span class="source_int">0</span>)
<a name="6031"></a>                {
<a name="6032"></a>                    VehicleThrottleIndicatorTop.<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span> = VehicleThrottleTopZeroPosition
<a name="6033"></a>                        + <span class="source_type">f</span> * (VehicleThrottleTopMaxPosition - VehicleThrottleTopZeroPosition);
<a name="6034"></a>                    DrawSpriteWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleThrottleIndicatorTop, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, true, XL, <span class="source_type">YL</span>, false, true);
<a name="6035"></a>                }
<a name="6036"></a>                else
<a name="6037"></a>                {
<a name="6038"></a>                    VehicleThrottleIndicatorBottom.<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span> = VehicleThrottleBottomZeroPosition
<a name="6039"></a>                        - <span class="source_type">f</span> * (VehicleThrottleBottomMaxPosition - VehicleThrottleBottomZeroPosition);
<a name="6040"></a>                    DrawSpriteWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleThrottleIndicatorBottom, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, true, XL, <span class="source_type">YL</span>, false, true);
<a name="6041"></a>                }
<a name="6042"></a>
<a name="6043"></a>                <span class="source_comment">// Draw throttle foreground
</span><a name="6044"></a>                DrawSpriteWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleThrottleIndicatorForeground, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, true, XL, <span class="source_type">YL</span>, false, true);
<a name="6045"></a>
<a name="6046"></a>                <span class="source_comment">// Draw the lever thingy
</span><a name="6047"></a>                if (<span class="source_type">f</span> ~= <span class="source_int">0</span>)
<a name="6048"></a>                {
<a name="6049"></a>                    VehicleThrottleIndicatorLever.OffsetY =
<a name="6050"></a>                        default.VehicleThrottleIndicatorLever.OffsetY -
<a name="6051"></a>                        Y_one * VehicleThrottleTopZeroPosition;
<a name="6052"></a>                }
<a name="6053"></a>                else if (<span class="source_type">f</span> &gt; <span class="source_int">0</span>)
<a name="6054"></a>                {
<a name="6055"></a>                    VehicleThrottleIndicatorLever.OffsetY =
<a name="6056"></a>                        default.VehicleThrottleIndicatorLever.OffsetY -
<a name="6057"></a>                        Y_one * VehicleThrottleIndicatorTop.<span class="source_type"><a href="../core/object.html#Scale" class="source">scale</a></span>;
<a name="6058"></a>                }
<a name="6059"></a>                else
<a name="6060"></a>                {
<a name="6061"></a>                    VehicleThrottleIndicatorLever.OffsetY =
<a name="6062"></a>                        default.VehicleThrottleIndicatorLever.OffsetY -
<a name="6063"></a>                        Y_one * (<span class="source_int">1</span> - VehicleThrottleIndicatorBottom.<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>);
<a name="6064"></a>                }
<a name="6065"></a>                DrawSpriteWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleThrottleIndicatorLever, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, true, XL, <span class="source_type">YL</span>, true, true);
<a name="6066"></a>
<a name="6067"></a>                <span class="source_comment">// Shift passengers list farther to the right
</span><a name="6068"></a>                VehicleOccupantsText.PosX = VehicleGaugesOccupantsTextOffset;
<a name="6069"></a>            }
<a name="6070"></a>            else
<a name="6071"></a>            {
<a name="6072"></a>                <span class="source_comment">// Shift passengers list farther to the right
</span><a name="6073"></a>                VehicleOccupantsText.PosX = VehicleGaugesNoThrottleOccupantsTextOffset;
<a name="6074"></a>            }
<a name="6075"></a>
<a name="6076"></a>            <span class="source_comment">// hax to get proper x offset on non-4:3 screens
</span><a name="6077"></a>            VehicleOccupantsText.PosX *= <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ClipY / <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ClipX * <span class="source_int">4</span> / <span class="source_int">3</span>;
<a name="6078"></a>        }
<a name="6079"></a>    }
<a name="6080"></a>
<a name="6081"></a>    <span class="source_comment">// Draw occupant dots
</span><a name="6082"></a>    for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.VehicleHudOccupantsX.Length; <span class="source_type">i</span>++)
<a name="6083"></a>    {
<a name="6084"></a>        if (<span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.VehicleHudOccupantsX[<span class="source_type">i</span>] ~= <span class="source_int">0</span>)
<a name="6085"></a>            continue;
<a name="6086"></a>
<a name="6087"></a>        if (<span class="source_type">i</span> == <span class="source_int">0</span>)
<a name="6088"></a>        {
<a name="6089"></a>            <span class="source_comment">// Draw driver
</span><a name="6090"></a>            if (passenger == none) <span class="source_comment">// we're the driver
</span><a name="6091"></a>                VehicleOccupants.Tints[TeamIndex] = VehiclePositionIsPlayerColor;
<a name="6092"></a>            else if (<span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.Driver != none)
<a name="6093"></a>                VehicleOccupants.Tints[TeamIndex] = VehiclePositionIsOccupiedColor;
<a name="6094"></a>            else
<a name="6095"></a>                VehicleOccupants.Tints[TeamIndex] = VehiclePositionIsVacantColor;
<a name="6096"></a>
<a name="6097"></a>            VehicleOccupants.PosX = <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.VehicleHudOccupantsX[<span class="source_int">0</span>];
<a name="6098"></a>            VehicleOccupants.PosY = <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.VehicleHudOccupantsY[<span class="source_int">0</span>];
<a name="6099"></a>            DrawSpriteWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleOccupants, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, true);
<a name="6100"></a>        }
<a name="6101"></a>        else
<a name="6102"></a>        {
<a name="6103"></a>            if (<span class="source_type">i</span> - <span class="source_int">1</span> &gt;= <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.WeaponPawns.Length)
<a name="6104"></a>            {
<a name="6105"></a>                warn(<span class="source_string">"VehicleHudOccupantsX["</span> $ <span class="source_type">i</span> $ <span class="source_string">"] causes out-of-bounds access in vehicle.WeaponPawns[] (lenght is "</span> $ <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.WeaponPawns.Length $ <span class="source_string">")"</span>);
<a name="6106"></a>                continue;
<a name="6107"></a>            }
<a name="6108"></a>            else if (<span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.WeaponPawns[<span class="source_type">i</span>-<span class="source_int">1</span>] == passenger && passenger != none)
<a name="6109"></a>                VehicleOccupants.Tints[TeamIndex] = VehiclePositionIsPlayerColor;
<a name="6110"></a>            else if (<span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.WeaponPawns[<span class="source_type">i</span>-<span class="source_int">1</span>].<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != none)
<a name="6111"></a>            {
<a name="6112"></a>                if (passenger != none &&
<a name="6113"></a>                    passenger.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != none &&
<a name="6114"></a>                    <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.WeaponPawns[<span class="source_type">i</span>-<span class="source_int">1</span>].<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> == passenger.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>)
<a name="6115"></a>                {
<a name="6116"></a>                    VehicleOccupants.Tints[TeamIndex] = VehiclePositionIsPlayerColor;
<a name="6117"></a>                }
<a name="6118"></a>                else
<a name="6119"></a>                    VehicleOccupants.Tints[TeamIndex] = VehiclePositionIsOccupiedColor;
<a name="6120"></a>            }
<a name="6121"></a>            else
<a name="6122"></a>                VehicleOccupants.Tints[TeamIndex] = VehiclePositionIsVacantColor;
<a name="6123"></a>
<a name="6124"></a>            <span class="source_comment">// Check to make sure replicated array index doesn'T cause out of bounds access
</span><a name="6125"></a>            current = <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.WeaponPawns[<span class="source_type">i</span>-<span class="source_int">1</span>].PositionInArray;
<a name="6126"></a>            if (current &gt;= <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.VehicleHudOccupantsX.Length - <span class="source_int">1</span> ||
<a name="6127"></a>                current &lt; <span class="source_int">0</span>)
<a name="6128"></a>            {
<a name="6129"></a>                warn(<span class="source_string">"vehicle.WeaponPawns["</span> $ (<span class="source_type">i</span>-<span class="source_int">1</span>) $ <span class="source_string">"].PositionInArray "</span>$current$<span class="source_string">" causes out-of-bounds access in vehicle.VehicleHudOccupantsX[] (lenght is "</span> $ <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.VehicleHudOccupantsX.Length $ <span class="source_string">")"</span>);
<a name="6130"></a>            }
<a name="6131"></a>            else
<a name="6132"></a>            {
<a name="6133"></a>                VehicleOccupants.PosX = <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.VehicleHudOccupantsX[current + <span class="source_int">1</span>];
<a name="6134"></a>                VehicleOccupants.PosY = <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.VehicleHudOccupantsY[current + <span class="source_int">1</span>];
<a name="6135"></a>                DrawSpriteWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleOccupants, <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>, true);
<a name="6136"></a>            }
<a name="6137"></a>        }
<a name="6138"></a>    }
<a name="6139"></a>
<a name="6140"></a>
<a name="6141"></a>    <span class="source_comment">//////////////////////////////////////
</span><a name="6142"></a>    <span class="source_comment">// Draw passenger names
</span><a name="6143"></a>    <span class="source_comment">//////////////////////////////////////
</span><a name="6144"></a>
<a name="6145"></a>    <span class="source_comment">// Get self's PRI
</span><a name="6146"></a>    if (passenger != none)
<a name="6147"></a>        PRI = passenger.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>;
<a name="6148"></a>    else
<a name="6149"></a>        PRI = <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>;
<a name="6150"></a>
<a name="6151"></a>    <span class="source_comment">// Clear lines array
</span><a name="6152"></a>    lines.length = <span class="source_int">0</span>;
<a name="6153"></a>
<a name="6154"></a>    <span class="source_comment">// Shift text up some more if we're the driver and we're displaying capture bar
</span><a name="6155"></a>    if (bDrawingCaptureBar && <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> == PRI)
<a name="6156"></a>       modifiedVehicleOccupantsTextYOffset -= <span class="source_int">0.12</span> * <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SizeY * myScale;
<a name="6157"></a>
<a name="6158"></a>    <span class="source_comment">// Driver's name
</span><a name="6159"></a>    if (<span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != none)
<a name="6160"></a>        if (<span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != PRI) <span class="source_comment">// don't draw our own name!
</span><a name="6161"></a>            lines[lines.length] = <span class="source_type">class</span><span class="source_name">'ROVehicleWeaponPawn'</span>.default.DriverHudName $ <span class="source_string">": "</span> $
<a name="6162"></a>                <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerName</span>;
<a name="6163"></a>
<a name="6164"></a>    <span class="source_comment">// Passengers' names
</span><a name="6165"></a>    for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; <span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.WeaponPawns.Length; <span class="source_type">i</span>++)
<a name="6166"></a>    {
<a name="6167"></a>        wpawn = <span class="source_type"><a href="../roengine/rovehicleweaponpawn.html" class="source">ROVehicleWeaponPawn</a></span>(<span class="source_type"><a href="../engine/vehicle.html" class="source">vehicle</a></span>.WeaponPawns[<span class="source_type">i</span>]);
<a name="6168"></a>        if (wpawn != none && wpawn.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != none)
<a name="6169"></a>            if (wpawn.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != PRI) <span class="source_comment">// don't draw our own name!
</span><a name="6170"></a>                lines[lines.length] = wpawn.HudName $ <span class="source_string">": "</span> $
<a name="6171"></a>                    wpawn.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerName</span>;
<a name="6172"></a>    }
<a name="6173"></a>
<a name="6174"></a>    <span class="source_comment">// Draw the lines
</span><a name="6175"></a>    if (lines.Length &gt; <span class="source_int">0</span>)
<a name="6176"></a>    {
<a name="6177"></a>        VehicleOccupantsText.OffsetY = default.VehicleOccupantsText.OffsetY * myScale;
<a name="6178"></a>        VehicleOccupantsText.OffsetY += modifiedVehicleOccupantsTextYOffset;
<a name="6179"></a>        <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.<span class="source_type">Font</span> = GetSmallMenuFont(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="6180"></a>
<a name="6181"></a>        for (<span class="source_type">i</span> = lines.Length - <span class="source_int">1</span>; <span class="source_type">i</span> &gt;= <span class="source_int">0</span> ; <span class="source_type">i</span>--)
<a name="6182"></a>        {
<a name="6183"></a>            VehicleOccupantsText.<span class="source_type">text</span> = lines[<span class="source_type">i</span>];
<a name="6184"></a>            DrawTextWidgetClipped(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, VehicleOccupantsText, coords2, XL, <span class="source_type">YL</span>, Y_one);
<a name="6185"></a>            VehicleOccupantsText.OffsetY -= <span class="source_type">YL</span>;
<a name="6186"></a>        }
<a name="6187"></a>    }
<a name="6188"></a>
<a name="6189"></a>}
<a name="6190"></a>
<a name="6191"></a><span class="source_comment">// test0r!
</span><a name="6192"></a><span class="source_comment">/*exec function testHint(string text)
<a name="6193"></a>{
<a name="6194"></a>	ShowHint("My Test Title", text);
<a name="6195"></a>}
<a name="6196"></a>exec function testHint2()
<a name="6197"></a>{
<a name="6198"></a>	ShowHint("Welcome", "Welcome to Red Orchestra!||These hint messages will show up periodically in the game to help you survive. They can be disabled from the HUD tab in the configuration menu. (You can open that menu by hitting %SHOWMENU%)");
<a name="6199"></a>}
<a name="6200"></a>exec function testHint3()
<a name="6201"></a>{
<a name="6202"></a>	ShowHint("Leaning", "Press %LeanRight% or %LeanLeft% to lean around corners.||Leaning lets you peak around corners without showing as large a target as you would by simply walking around that corner.");
<a name="6203"></a>}
<a name="6204"></a>exec function testHint4()
<a name="6205"></a>{
<a name="6206"></a>	ShowHint("Weak Points", "Every tank has its weak points. Try targetting the driver's window or the turret/body seam.");
<a name="6207"></a>}*/</span>
<a name="6208"></a>
<a name="6209"></a>simulated function FadeToBlack(<span class="source_type">float</span> fadeTime, optional <span class="source_type">bool</span> bInvertFadeDirection)
<a name="6210"></a>{
<a name="6211"></a>	FadeToBlackTime = fadeTime;
<a name="6212"></a>	FadeToBlackStartTime = <span class="source_type">Level</span>.TimeSeconds;
<a name="6213"></a>	bFadeToBlackInvert = bInvertFadeDirection;
<a name="6214"></a>	bFadeToBlack = true;
<a name="6215"></a>}
<a name="6216"></a>
<a name="6217"></a>simulated function DrawFadeToBlack(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>)
<a name="6218"></a>{
<a name="6219"></a>	local <span class="source_type">float</span> alpha;
<a name="6220"></a>
<a name="6221"></a>	if (FadeToBlackTime ~= <span class="source_int">0</span>)
<a name="6222"></a>		alpha = <span class="source_int">0.0</span>;
<a name="6223"></a>	else
<a name="6224"></a>		alpha = (FadeToBlackTime - <span class="source_type">Level</span>.TimeSeconds + FadeToBlackStartTime) / FadeToBlackTime;
<a name="6225"></a>
<a name="6226"></a>	if (alpha &lt;= <span class="source_int">0</span>)
<a name="6227"></a>		alpha = <span class="source_int">0.0</span>;
<a name="6228"></a>	else if (alpha &gt; <span class="source_int">1</span>)
<a name="6229"></a>		alpha = <span class="source_int">1.0</span>;
<a name="6230"></a>
<a name="6231"></a>	if (!bFadeToBlackInvert)
<a name="6232"></a>		alpha = <span class="source_int">1.0</span> - alpha;
<a name="6233"></a>
<a name="6234"></a>	if (alpha ~= <span class="source_int">0</span>)
<a name="6235"></a>	{
<a name="6236"></a>		bFadeToBlack = false;
<a name="6237"></a>		return;
<a name="6238"></a>	}
<a name="6239"></a>
<a name="6240"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">0</span>, <span class="source_int">0</span>);
<a name="6241"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.Style = <span class="source_type"><a href="../engine/actor.html#ERenderStyle" class="source">ERenderStyle</a></span>.STY_Alpha;
<a name="6242"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawColor = BlackColor;
<a name="6243"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawColor.<span class="source_type">A</span> = alpha * <span class="source_int">255</span>;
<a name="6244"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawTile(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'Engine.WhiteTexture'</span>, <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ClipX, <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.ClipY, <span class="source_int">0</span>, <span class="source_int">0</span>, <span class="source_int">4</span>, <span class="source_int">4</span>);
<a name="6245"></a>}
<a name="6246"></a>
<a name="6247"></a><span class="source_comment">/*
<a name="6248"></a>exec function testFade1()
<a name="6249"></a>{
<a name="6250"></a>	FadeToBlack(4.0);
<a name="6251"></a>}
<a name="6252"></a>
<a name="6253"></a>exec function testFade2()
<a name="6254"></a>{
<a name="6255"></a>	FadeToBlack(4.0, true);
<a name="6256"></a>}
<a name="6257"></a>
<a name="6258"></a>exec function testFade3()
<a name="6259"></a>{
<a name="6260"></a>	FadeToBlack(0, true);
<a name="6261"></a>}*/</span>
<a name="6262"></a>
<a name="6263"></a>simulated function DrawLCDPlayerStatus(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>, <span class="source_type"><a href="../xinterface/guicontroller.html" class="source">GUIController</a></span> GC)
<a name="6264"></a>{
<a name="6265"></a>	local <span class="source_type">int</span> row,<span class="source_type">x</span>,xl,<span class="source_type">yl</span>;
<a name="6266"></a>	local <span class="source_type">int</span> <span class="source_type">Amount</span>;
<a name="6267"></a>	local <span class="source_type">string</span> WName;
<a name="6268"></a>	local <span class="source_type"><a href="../engine/weapon.html" class="source">weapon</a></span> w;
<a name="6269"></a>	local <span class="source_type">string</span> <span class="source_type">s</span>;
<a name="6270"></a>	local <span class="source_type">int</span> PawnHealth, Enginehealth;
<a name="6271"></a>	local <span class="source_type"><a href="../roengine/ropawn.html" class="source">ROPawn</a></span> ROP;
<a name="6272"></a>	local <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span> GRI;
<a name="6273"></a>	local <span class="source_type">float</span> RoundTime, RespawnTime;
<a name="6274"></a>	local <span class="source_type"><a href="../roengine/rovehicle.html" class="source">ROVehicle</a></span> ROV;
<a name="6275"></a>	local <span class="source_type"><a href="../roengine/rovehicleweaponpawn.html" class="source">ROVehicleWeaponPawn</a></span> ROVWP;
<a name="6276"></a>
<a name="6277"></a>	GC.LCDCls();
<a name="6278"></a>
<a name="6279"></a>	if( PawnOwner == none )
<a name="6280"></a>	{
<a name="6281"></a>		GRI = <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span>(PlayerOwner.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>);
<a name="6282"></a>
<a name="6283"></a>		if (GRI != None)
<a name="6284"></a>		{
<a name="6285"></a>			if(PlayerOwner.IsInState(<span class="source_name">'Dead'</span>) || PlayerOwner.IsInState(<span class="source_name">'DeadSpectating'</span>) )
<a name="6286"></a>			{
<a name="6287"></a>				GC.LCDDrawText(<span class="source_string">"Dead"</span>,<span class="source_int">0</span>,<span class="source_int">10</span>*row, GC.LCDMedFont);
<a name="6288"></a>			}
<a name="6289"></a>			else
<a name="6290"></a>			{
<a name="6291"></a>				GC.LCDDrawText(<span class="source_string">"Waiting To Spawn"</span>,<span class="source_int">0</span>,<span class="source_int">10</span>*row, GC.LCDMedFont);
<a name="6292"></a>			}
<a name="6293"></a>			row++;
<a name="6294"></a>
<a name="6295"></a>            GC.LCDDrawTile(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'engine.WhiteSquareTexture'</span>,<span class="source_int">0</span>,<span class="source_int">16</span>*row,<span class="source_int">160</span>,<span class="source_int">1</span>,<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_int">1</span>,<span class="source_int">1</span>);
<a name="6296"></a>
<a name="6297"></a>			<span class="source_comment">// Update round timer
</span><a name="6298"></a>			if (!GRI.bMatchHasBegun)
<a name="6299"></a>				RoundTime = GRI.RoundStartTime + GRI.PreStartTime - GRI.ElapsedTime;
<a name="6300"></a>			else
<a name="6301"></a>				RoundTime = GRI.RoundStartTime + GRI.RoundDuration - GRI.ElapsedTime;
<a name="6302"></a>
<a name="6303"></a>			<span class="source_type">S</span> = default.TimeRemainingText $ GetTimeString(RoundTime);
<a name="6304"></a>			GC.LCDDrawText(<span class="source_type">s</span>,<span class="source_int">0</span>,<span class="source_int">20</span>*row, GC.LCDTinyFont);
<a name="6305"></a>			row++;
<a name="6306"></a>
<a name="6307"></a>			if (GRI.bMatchHasBegun && <span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(PlayerOwner) != None && <span class="source_type"><a href="../roengine/roplayer.html" class="source">ROPlayer</a></span>(PlayerOwner).CanRestartPlayer()
<a name="6308"></a>				&& PlayerOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span> != none && GRI.bReinforcementsComing[PlayerOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.TeamIndex] == <span class="source_int">1</span>)
<a name="6309"></a>			{
<a name="6310"></a>				RespawnTime = GRI.LastReinforcementTime[PlayerOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.TeamIndex] + GRI.ReinforcementInterval[PlayerOwner.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.TeamIndex] - GRI.ElapsedTime;
<a name="6311"></a>				<span class="source_type">S</span> = default.ReinforcementText $ GetTimeString(RespawnTime);
<a name="6312"></a>
<a name="6313"></a>				GC.LCDDrawText(<span class="source_type">s</span>,<span class="source_int">0</span>,<span class="source_int">15</span>*row, GC.LCDTinyFont);
<a name="6314"></a>				row++;
<a name="6315"></a>			}
<a name="6316"></a>		}
<a name="6317"></a>	}
<a name="6318"></a>	else
<a name="6319"></a>	{
<a name="6320"></a>    	ROP = <span class="source_type"><a href="../roengine/ropawn.html" class="source">ROPawn</a></span>(PawnOwner);
<a name="6321"></a>    	ROV = <span class="source_type"><a href="../roengine/rovehicle.html" class="source">ROVehicle</a></span>(PawnOwner);
<a name="6322"></a>    	ROVWP = <span class="source_type"><a href="../roengine/rovehicleweaponpawn.html" class="source">ROVehicleWeaponPawn</a></span>(PawnOwner);
<a name="6323"></a>
<a name="6324"></a>		w = PawnOwner.<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span>;
<a name="6325"></a>		if (W!=none)
<a name="6326"></a>		{
<a name="6327"></a>			<span class="source_type">Amount</span> = w.GetHudAmmoCount();
<a name="6328"></a>			WName = w.ItemName;
<a name="6329"></a>		}
<a name="6330"></a>
<a name="6331"></a>		<span class="source_comment">// Draw health info
</span><a name="6332"></a>		if( ROP != none )
<a name="6333"></a>		{
<a name="6334"></a>			PawnHealth = <span class="source_type">int</span>((<span class="source_type">float</span>(PawnOwner.Health)/<span class="source_type">float</span>(PawnOwner.Default.Health))*<span class="source_int">100</span>);
<a name="6335"></a>
<a name="6336"></a>			if( PawnHealth == <span class="source_int">100</span> )
<a name="6337"></a>			{
<a name="6338"></a>			 	<span class="source_type">s</span> = <span class="source_string">"No Injuries"</span>;
<a name="6339"></a>			}
<a name="6340"></a>			else if( PawnHealth &lt; <span class="source_int">25</span> )
<a name="6341"></a>			{
<a name="6342"></a>				<span class="source_type">s</span> = <span class="source_string">"Near Death"</span>;
<a name="6343"></a>			}
<a name="6344"></a>			else if( PawnHealth &lt; <span class="source_int">50</span> )
<a name="6345"></a>			{
<a name="6346"></a>				<span class="source_type">s</span> = <span class="source_string">"Seriously Injured"</span>;
<a name="6347"></a>			}
<a name="6348"></a>			else if( PawnHealth &lt; <span class="source_int">100</span> )
<a name="6349"></a>			{
<a name="6350"></a>				<span class="source_type">s</span> = <span class="source_string">"Injured"</span>;
<a name="6351"></a>			}
<a name="6352"></a>
<a name="6353"></a>			GC.LCDDrawText(<span class="source_string">"Health: "</span>$<span class="source_type">s</span>,<span class="source_int">0</span>,<span class="source_int">10</span>*row, GC.LCDTinyFont);
<a name="6354"></a>			row++;
<a name="6355"></a>		}
<a name="6356"></a>		else if ( <span class="source_type"><a href="../engine/vehicle.html" class="source">Vehicle</a></span>(PawnOwner) != none )
<a name="6357"></a>		{
<a name="6358"></a>			if( ROVWP != none )
<a name="6359"></a>			{
<a name="6360"></a>				PawnHealth = <span class="source_type">int</span>((<span class="source_type">float</span>(ROVWP.VehicleBase.Health)/<span class="source_type">float</span>(ROVWP.VehicleBase.Default.Health))*<span class="source_int">100</span>);
<a name="6361"></a>				Enginehealth = <span class="source_type">int</span>((<span class="source_type">float</span>(ROVWP.VehicleBase.EngineHealth)/<span class="source_type">float</span>(ROVWP.VehicleBase.Default.EngineHealth))*<span class="source_int">100</span>);
<a name="6362"></a>			}
<a name="6363"></a>			else
<a name="6364"></a>			{
<a name="6365"></a>				PawnHealth = <span class="source_type">int</span>((<span class="source_type">float</span>(PawnOwner.Health)/<span class="source_type">float</span>(PawnOwner.Default.Health))*<span class="source_int">100</span>);
<a name="6366"></a>				Enginehealth = <span class="source_type">int</span>((<span class="source_type">float</span>(<span class="source_type"><a href="../roengine/rovehicle.html" class="source">ROVehicle</a></span>(PawnOwner).EngineHealth)/<span class="source_type">float</span>(<span class="source_type"><a href="../roengine/rovehicle.html" class="source">ROVehicle</a></span>(PawnOwner).Default.EngineHealth))*<span class="source_int">100</span>);
<a name="6367"></a>			}
<a name="6368"></a>
<a name="6369"></a>			if( PawnHealth == <span class="source_int">100</span> )
<a name="6370"></a>			{
<a name="6371"></a>			 	<span class="source_type">s</span> = <span class="source_string">"No Damage"</span>;
<a name="6372"></a>			}
<a name="6373"></a>			else if( PawnHealth &lt; <span class="source_int">25</span> )
<a name="6374"></a>			{
<a name="6375"></a>				<span class="source_type">s</span> = <span class="source_string">"Failure Imminent"</span>;
<a name="6376"></a>			}
<a name="6377"></a>			else if( PawnHealth &lt; <span class="source_int">50</span> )
<a name="6378"></a>			{
<a name="6379"></a>				<span class="source_type">s</span> = <span class="source_string">"Heavy Damage"</span>;
<a name="6380"></a>			}
<a name="6381"></a>			else if( PawnHealth &lt; <span class="source_int">100</span> )
<a name="6382"></a>			{
<a name="6383"></a>				<span class="source_type">s</span> = <span class="source_string">"Damaged"</span>;
<a name="6384"></a>			}
<a name="6385"></a>
<a name="6386"></a>			GC.LCDDrawText(<span class="source_string">"Vehicle: "</span>$<span class="source_type">s</span>,<span class="source_int">0</span>,<span class="source_int">10</span>*row, GC.LCDTinyFont);
<a name="6387"></a>			row++;
<a name="6388"></a>
<a name="6389"></a>			if( Enginehealth == <span class="source_int">100</span> )
<a name="6390"></a>			{
<a name="6391"></a>			 	<span class="source_type">s</span> = <span class="source_string">"No Damage"</span>;
<a name="6392"></a>			}
<a name="6393"></a>			else if( Enginehealth &lt; <span class="source_int">25</span> )
<a name="6394"></a>			{
<a name="6395"></a>				<span class="source_type">s</span> = <span class="source_string">"Failure Imminent"</span>;
<a name="6396"></a>			}
<a name="6397"></a>			else if( Enginehealth &lt; <span class="source_int">50</span> )
<a name="6398"></a>			{
<a name="6399"></a>				<span class="source_type">s</span> = <span class="source_string">"Heavy Damage"</span>;
<a name="6400"></a>			}
<a name="6401"></a>			else if( Enginehealth &lt; <span class="source_int">100</span> )
<a name="6402"></a>			{
<a name="6403"></a>				<span class="source_type">s</span> = <span class="source_string">"Damaged"</span>;
<a name="6404"></a>			}
<a name="6405"></a>
<a name="6406"></a>			GC.LCDDrawText(<span class="source_string">"Engine : "</span>$<span class="source_type">s</span>,<span class="source_int">0</span>,<span class="source_int">10</span>*row, GC.LCDTinyFont);
<a name="6407"></a>			row++;
<a name="6408"></a>
<a name="6409"></a>			if( ROVWP != none )
<a name="6410"></a>			{
<a name="6411"></a>				if( ROVWP.Gun.ProjectileClass != none )
<a name="6412"></a>				{
<a name="6413"></a>					if( <span class="source_type"><a href="../roengine/rotankcannon.html" class="source">ROTankCannon</a></span>(ROVWP.Gun) != none)
<a name="6414"></a>					{
<a name="6415"></a>						GC.LCDDrawText(<span class="source_string">"Primary Ammo Count : "</span>$ROVWP.Gun.PrimaryAmmoCount(),<span class="source_int">0</span>,<span class="source_int">10</span>*row, GC.LCDTinyFont);
<a name="6416"></a>					}
<a name="6417"></a>					else
<a name="6418"></a>					{
<a name="6419"></a>						GC.LCDDrawText(<span class="source_string">"Primary Ammo Count : "</span>$<span class="source_type"><a href="../roengine/rovehicleweapon.html" class="source">ROVehicleWeapon</a></span>(ROVWP.Gun).getNumMags(),<span class="source_int">0</span>,<span class="source_int">10</span>*row, GC.LCDTinyFont);
<a name="6420"></a>					}
<a name="6421"></a>					row++;
<a name="6422"></a>				}
<a name="6423"></a>				if( ROVWP.Gun.AltFireProjectileClass != none )
<a name="6424"></a>				{
<a name="6425"></a>					GC.LCDDrawText(<span class="source_string">"Secondary Ammo Count : "</span>$<span class="source_type"><a href="../roengine/rovehicleweapon.html" class="source">ROVehicleWeapon</a></span>(ROVWP.Gun).getNumMags(),<span class="source_int">0</span>,<span class="source_int">10</span>*row, GC.LCDTinyFont);
<a name="6426"></a>					row++;
<a name="6427"></a>				}
<a name="6428"></a>			}
<a name="6429"></a>		}
<a name="6430"></a>
<a name="6431"></a>    	if(ROP != none)
<a name="6432"></a>    	{
<a name="6433"></a>			<span class="source_comment">// Stamina
</span><a name="6434"></a>			GC.LCDDrawText(<span class="source_string">"Stamina: "</span>,<span class="source_type">X</span>,<span class="source_int">10</span>*row, GC.LCDTinyFont);
<a name="6435"></a>			<span class="source_type">s</span> = <span class="source_type">int</span>((ROP.Stamina/ROP.Default.Stamina)*<span class="source_int">100</span>)@<span class="source_string">"%"</span>;
<a name="6436"></a>			GC.LCDStrLen(<span class="source_type">s</span>,GC.LCDTinyFont,xl,<span class="source_type">yl</span>);
<a name="6437"></a>			GC.LCDDrawText(<span class="source_type">s</span>,<span class="source_int">100</span>-<span class="source_int">5</span>-xl,<span class="source_int">10</span>*row,GC.LCDTinyFont);
<a name="6438"></a>			row++;
<a name="6439"></a>
<a name="6440"></a>	    	<span class="source_comment">// Weapon info
</span><a name="6441"></a>			if(W != none)
<a name="6442"></a>	    	{
<a name="6443"></a>				if(WName != <span class="source_string">""</span>)
<a name="6444"></a>				{
<a name="6445"></a>					GC.LCDDrawText(WName,<span class="source_int">0</span>,<span class="source_int">10</span>*row, GC.LCDTinyFont);
<a name="6446"></a>					row++;
<a name="6447"></a>
<a name="6448"></a>					if(!w.IsA(<span class="source_name">'BinocularsItem'</span>))
<a name="6449"></a>					{
<a name="6450"></a>						if( w.IsA(<span class="source_name">'MG42Weapon'</span> ) )
<a name="6451"></a>						{
<a name="6452"></a>						  	<span class="source_type">s</span> = <span class="source_string">"MG Belts: "</span>@<span class="source_type">Amount</span>;
<a name="6453"></a>						}
<a name="6454"></a>						else if( w.IsA(<span class="source_name">'MG34Weapon'</span> ) )
<a name="6455"></a>						{
<a name="6456"></a>						 	<span class="source_type">s</span> = <span class="source_string">"MG Drums: "</span>@<span class="source_type">Amount</span>;
<a name="6457"></a>						}
<a name="6458"></a>						else
<a name="6459"></a>						{
<a name="6460"></a>							<span class="source_type">s</span> = w.FireModeClass[<span class="source_int">0</span>].default.AmmoClass.default.ItemName$<span class="source_string">": "</span>@<span class="source_type">Amount</span>;
<a name="6461"></a>						}
<a name="6462"></a>						GC.LCDDrawText(<span class="source_type">s</span>,<span class="source_int">0</span>,<span class="source_int">10</span>*row,GC.LCDTinyFont);
<a name="6463"></a>						row++;
<a name="6464"></a>					}
<a name="6465"></a>				}
<a name="6466"></a>			}
<a name="6467"></a>    	}
<a name="6468"></a>	}
<a name="6469"></a>
<a name="6470"></a>	GC.LCDRepaint();
<a name="6471"></a>}
<a name="6472"></a>
<a name="6473"></a><span class="source_comment">// Draw objective information on the G15 LCD
</span><a name="6474"></a>simulated function DrawLCDObjectives(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type">C</span>, <span class="source_type"><a href="../xinterface/guicontroller.html" class="source">GUIController</a></span> GC)
<a name="6475"></a>{
<a name="6476"></a>	local <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span> GRI;
<a name="6477"></a>	local <span class="source_type">int</span> <span class="source_type">i</span>, objCount, row;
<a name="6478"></a>	local <span class="source_type">string</span> <span class="source_type">s</span>;
<a name="6479"></a>	local <span class="source_type">bool</span> bHasSecondaryObjectives;
<a name="6480"></a>
<a name="6481"></a>	GRI = <span class="source_type"><a href="../roengine/rogamereplicationinfo.html" class="source">ROGameReplicationInfo</a></span>(PlayerOwner.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>);
<a name="6482"></a>
<a name="6483"></a>	<span class="source_comment">// Draw objective texts
</span><a name="6484"></a>	objCount = <span class="source_int">1</span>;
<a name="6485"></a>
<a name="6486"></a>    GC.LCDCls();
<a name="6487"></a>
<a name="6488"></a>	<span class="source_comment">// See if there are any secondary objectives
</span><a name="6489"></a>	for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(GRI.Objectives); <span class="source_type">i</span>++)
<a name="6490"></a>	{
<a name="6491"></a>		if (GRI.Objectives[<span class="source_type">i</span>] == none || !GRI.Objectives[<span class="source_type">i</span>].bActive )
<a name="6492"></a>			continue;
<a name="6493"></a>
<a name="6494"></a>		if( !GRI.Objectives[<span class="source_type">i</span>].bRequired )
<a name="6495"></a>		{
<a name="6496"></a>			bHasSecondaryObjectives=true;
<a name="6497"></a>			break;
<a name="6498"></a>		}
<a name="6499"></a>	}
<a name="6500"></a>
<a name="6501"></a>	if( LCDPage == <span class="source_int">0</span> || !bHasSecondaryObjectives )
<a name="6502"></a>	{
<a name="6503"></a>	    GC.LCDDrawText(MapRequiredObjectivesTitle.<span class="source_type">text</span>$<span class="source_string">" Status:"</span>,<span class="source_int">0</span>,<span class="source_int">0</span>, GC.LCDTinyFont);
<a name="6504"></a>	    row++;
<a name="6505"></a>
<a name="6506"></a>		for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(GRI.Objectives); <span class="source_type">i</span>++)
<a name="6507"></a>		{
<a name="6508"></a>			if (GRI.Objectives[<span class="source_type">i</span>] == none || !GRI.Objectives[<span class="source_type">i</span>].bActive || !GRI.Objectives[<span class="source_type">i</span>].bRequired)
<a name="6509"></a>				continue;
<a name="6510"></a>
<a name="6511"></a>	        if (GRI.Objectives[<span class="source_type">i</span>].ObjState == OBJ_Allies)
<a name="6512"></a>	        {
<a name="6513"></a>		        if (GRI.Objectives[<span class="source_type">i</span>].CompressedCapProgress != <span class="source_int">0</span> && GRI.Objectives[<span class="source_type">i</span>].CurrentCapTeam != NEUTRAL_TEAM_INDEX)
<a name="6514"></a>				{
<a name="6515"></a>					<span class="source_type">s</span> = objCount $ <span class="source_string">"."</span> $ <span class="source_string">"Allies"</span>$<span class="source_string">"-"</span> $ <span class="source_string">"Under Attack"</span> ;
<a name="6516"></a>				}
<a name="6517"></a>				else
<a name="6518"></a>				{
<a name="6519"></a>					<span class="source_type">s</span> = objCount $ <span class="source_string">"."</span> $ <span class="source_string">"Allies"</span>$<span class="source_string">"-"</span> $ <span class="source_string">"Captured"</span> ;
<a name="6520"></a>				}
<a name="6521"></a>	        }
<a name="6522"></a>	        else if (GRI.Objectives[<span class="source_type">i</span>].ObjState == OBJ_Axis)
<a name="6523"></a>	        {
<a name="6524"></a>	        	if (GRI.Objectives[<span class="source_type">i</span>].CompressedCapProgress != <span class="source_int">0</span> && GRI.Objectives[<span class="source_type">i</span>].CurrentCapTeam != NEUTRAL_TEAM_INDEX)
<a name="6525"></a>				{
<a name="6526"></a>					<span class="source_type">s</span> = objCount $ <span class="source_string">"."</span> $ <span class="source_string">"Axis"</span>$<span class="source_string">"-"</span> $ <span class="source_string">"Under Attack"</span> ;
<a name="6527"></a>				}
<a name="6528"></a>				else
<a name="6529"></a>				{
<a name="6530"></a>					<span class="source_type">s</span> = objCount $ <span class="source_string">"."</span> $ <span class="source_string">"Axis"</span>$<span class="source_string">"-"</span> $ <span class="source_string">"Captured"</span> ;
<a name="6531"></a>				}
<a name="6532"></a>	        }
<a name="6533"></a>	        else
<a name="6534"></a>	        {
<a name="6535"></a>				if (GRI.Objectives[<span class="source_type">i</span>].CompressedCapProgress != <span class="source_int">0</span> )
<a name="6536"></a>				{
<a name="6537"></a>					if(GRI.Objectives[<span class="source_type">i</span>].CurrentCapTeam != NEUTRAL_TEAM_INDEX)
<a name="6538"></a>					{
<a name="6539"></a>			        	if (GRI.Objectives[<span class="source_type">i</span>].CurrentCapTeam == ALLIES_TEAM_INDEX)
<a name="6540"></a>							<span class="source_type">s</span> = objCount $ <span class="source_string">"."</span> $ <span class="source_string">"Neutral"</span>$<span class="source_string">"-"</span> $ <span class="source_string">"Allies Attacking"</span>;
<a name="6541"></a>						else
<a name="6542"></a>							<span class="source_type">s</span> = objCount $ <span class="source_string">"."</span> $ <span class="source_string">"Neutral"</span>$<span class="source_string">"-"</span> $ <span class="source_string">"Axis Attacking"</span>;
<a name="6543"></a>					}
<a name="6544"></a>					else
<a name="6545"></a>					{
<a name="6546"></a>						<span class="source_type">s</span> = objCount $ <span class="source_string">"."</span> $ <span class="source_string">"Neutral"</span>$<span class="source_string">"-"</span> $ <span class="source_string">"Under Attack"</span>;
<a name="6547"></a>					}
<a name="6548"></a>				}
<a name="6549"></a>				else
<a name="6550"></a>				{
<a name="6551"></a>					<span class="source_type">s</span> = objCount $ <span class="source_string">"."</span> $ <span class="source_string">"Neutral"</span>;
<a name="6552"></a>				}
<a name="6553"></a>	        }
<a name="6554"></a>
<a name="6555"></a>	        GC.LCDDrawText(<span class="source_type">s</span>,<span class="source_int">0</span>,<span class="source_int">8</span>*row + <span class="source_int">2</span>, GC.LCDTinyFont);
<a name="6556"></a>
<a name="6557"></a>	        row++;
<a name="6558"></a>			objCount++;
<a name="6559"></a>		}
<a name="6560"></a>	}
<a name="6561"></a>	if( LCDPage == <span class="source_int">1</span> && bHasSecondaryObjectives )
<a name="6562"></a>	{
<a name="6563"></a>	    GC.LCDDrawText(MapSecondaryObjectivesTitle.<span class="source_type">text</span>$<span class="source_string">" Status:"</span>,<span class="source_int">0</span>,<span class="source_int">0</span>, GC.LCDTinyFont);
<a name="6564"></a>	    row++;
<a name="6565"></a>
<a name="6566"></a>		for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ArrayCount(GRI.Objectives); <span class="source_type">i</span>++)
<a name="6567"></a>		{
<a name="6568"></a>			if (GRI.Objectives[<span class="source_type">i</span>] == none || !GRI.Objectives[<span class="source_type">i</span>].bActive || GRI.Objectives[<span class="source_type">i</span>].bRequired)
<a name="6569"></a>				continue;
<a name="6570"></a>
<a name="6571"></a>	        if (GRI.Objectives[<span class="source_type">i</span>].ObjState == OBJ_Allies)
<a name="6572"></a>	        {
<a name="6573"></a>		        if (GRI.Objectives[<span class="source_type">i</span>].CompressedCapProgress != <span class="source_int">0</span> && GRI.Objectives[<span class="source_type">i</span>].CurrentCapTeam != NEUTRAL_TEAM_INDEX)
<a name="6574"></a>				{
<a name="6575"></a>					<span class="source_type">s</span> = objCount $ <span class="source_string">"."</span> $ <span class="source_string">"Allies"</span>$<span class="source_string">"-"</span> $ <span class="source_string">"Under Attack"</span> ;
<a name="6576"></a>				}
<a name="6577"></a>				else
<a name="6578"></a>				{
<a name="6579"></a>					<span class="source_type">s</span> = objCount $ <span class="source_string">"."</span> $ <span class="source_string">"Allies"</span>$<span class="source_string">"-"</span> $ <span class="source_string">"Captured"</span> ;
<a name="6580"></a>				}
<a name="6581"></a>	        }
<a name="6582"></a>	        else if (GRI.Objectives[<span class="source_type">i</span>].ObjState == OBJ_Axis)
<a name="6583"></a>	        {
<a name="6584"></a>	        	if (GRI.Objectives[<span class="source_type">i</span>].CompressedCapProgress != <span class="source_int">0</span> && GRI.Objectives[<span class="source_type">i</span>].CurrentCapTeam != NEUTRAL_TEAM_INDEX)
<a name="6585"></a>				{
<a name="6586"></a>					<span class="source_type">s</span> = objCount $ <span class="source_string">"."</span> $ <span class="source_string">"Axis"</span>$<span class="source_string">"-"</span> $ <span class="source_string">"Under Attack"</span> ;
<a name="6587"></a>				}
<a name="6588"></a>				else
<a name="6589"></a>				{
<a name="6590"></a>					<span class="source_type">s</span> = objCount $ <span class="source_string">"."</span> $ <span class="source_string">"Axis"</span>$<span class="source_string">"-"</span> $ <span class="source_string">"Captured"</span> ;
<a name="6591"></a>				}
<a name="6592"></a>	        }
<a name="6593"></a>	        else
<a name="6594"></a>	        {
<a name="6595"></a>				if (GRI.Objectives[<span class="source_type">i</span>].CompressedCapProgress != <span class="source_int">0</span> )
<a name="6596"></a>				{
<a name="6597"></a>					if(GRI.Objectives[<span class="source_type">i</span>].CurrentCapTeam != NEUTRAL_TEAM_INDEX)
<a name="6598"></a>					{
<a name="6599"></a>			        	if (GRI.Objectives[<span class="source_type">i</span>].CurrentCapTeam == ALLIES_TEAM_INDEX)
<a name="6600"></a>							<span class="source_type">s</span> = objCount $ <span class="source_string">"."</span> $ <span class="source_string">"Neutral"</span>$<span class="source_string">"-"</span> $ <span class="source_string">"Allies Attacking"</span>;
<a name="6601"></a>						else
<a name="6602"></a>							<span class="source_type">s</span> = objCount $ <span class="source_string">"."</span> $ <span class="source_string">"Neutral"</span>$<span class="source_string">"-"</span> $ <span class="source_string">"Axis Attacking"</span>;
<a name="6603"></a>					}
<a name="6604"></a>					else
<a name="6605"></a>					{
<a name="6606"></a>						<span class="source_type">s</span> = objCount $ <span class="source_string">"."</span> $ <span class="source_string">"Neutral"</span>$<span class="source_string">"-"</span> $ <span class="source_string">"Under Attack"</span>;
<a name="6607"></a>					}
<a name="6608"></a>				}
<a name="6609"></a>				else
<a name="6610"></a>				{
<a name="6611"></a>					<span class="source_type">s</span> = objCount $ <span class="source_string">"."</span> $ <span class="source_string">"Neutral"</span>;
<a name="6612"></a>				}
<a name="6613"></a>	        }
<a name="6614"></a>
<a name="6615"></a>	        GC.LCDDrawText(<span class="source_type">s</span>,<span class="source_int">0</span>,<span class="source_int">8</span>*row, GC.LCDTinyFont);
<a name="6616"></a>
<a name="6617"></a>	        row++;
<a name="6618"></a>			objCount++;
<a name="6619"></a>		}
<a name="6620"></a>	}
<a name="6621"></a>
<a name="6622"></a>	GC.LCDRepaint();
<a name="6623"></a>}
<a name="6624"></a>
<a name="6625"></a>simulated function <span class="source_type">string</span> GetScoreTitle()
<a name="6626"></a>{
<a name="6627"></a>	return <span class="source_string">"Points"</span>;
<a name="6628"></a>}
<a name="6629"></a>
<a name="6630"></a><span class="source_comment">//=============================================================================
</span><a name="6631"></a><span class="source_comment">// defaultproperties
</span><a name="6632"></a><span class="source_comment">//=============================================================================
</span><a name="6633"></a>
<a name="6634"></a>defaultproperties
<a name="6635"></a>{
<a name="6636"></a>     bShowCompass=True
<a name="6637"></a>     bShowMapUpdatedText=True
<a name="6638"></a>     ReinforcementText=<span class="source_string">"Reinforcements: "</span>
<a name="6639"></a>     TimeRemainingText=<span class="source_string">"Time Remaining: "</span>
<a name="6640"></a>     IPText=<span class="source_string">"IP: "</span>
<a name="6641"></a>     TimeText=<span class="source_string">"Time: "</span>
<a name="6642"></a>     ViewingText=<span class="source_string">"Viewing: "</span>
<a name="6643"></a>     NoReinforcementsText=<span class="source_string">"No reinforcements available"</span>
<a name="6644"></a>     TeamMessagePrefix=<span class="source_string">"*PLATOON* "</span>
<a name="6645"></a>     ObjectivesText=<span class="source_string">"OBJECTIVES"</span>
<a name="6646"></a>     PlayersNeededText=<span class="source_string">"Need: "</span>
<a name="6647"></a>     SpectateInstructionText1=<span class="source_string">"Press Fire to switch Viewpoint/Players"</span>
<a name="6648"></a>     SpectateInstructionText2=<span class="source_string">"Press Alt-Fire to switch Spectating Modes"</span>
<a name="6649"></a>     SpectateInstructionText3=<span class="source_string">"Press Ironsights to toggle First/Third Person View"</span>
<a name="6650"></a>     SpectateInstructionText4=<span class="source_string">"Press Jump to return to viewing yourself"</span>
<a name="6651"></a>     NeedAmmoText=<span class="source_string">"Needs ammo"</span>
<a name="6652"></a>     CanResupplyText=<span class="source_string">"Press %THROWMGAMMO% to resupply"</span>
<a name="6653"></a>     OpenMapText=<span class="source_string">"%SHOWOBJECTIVES% to open"</span>
<a name="6654"></a>     SituationMapInstructionsText=<span class="source_string">"Press %SHOWOBJECTIVES% to Close/Open Situation Map"</span>
<a name="6655"></a>     SpacingText=<span class="source_string">"            "</span>
<a name="6656"></a>     MapCoordTextX(<span class="source_int">0</span>)=<span class="source_string">"1"</span>
<a name="6657"></a>     MapCoordTextX(<span class="source_int">1</span>)=<span class="source_string">"2"</span>
<a name="6658"></a>     MapCoordTextX(<span class="source_int">2</span>)=<span class="source_string">"3"</span>
<a name="6659"></a>     MapCoordTextX(<span class="source_int">3</span>)=<span class="source_string">"4"</span>
<a name="6660"></a>     MapCoordTextX(<span class="source_int">4</span>)=<span class="source_string">"5"</span>
<a name="6661"></a>     MapCoordTextX(<span class="source_int">5</span>)=<span class="source_string">"6"</span>
<a name="6662"></a>     MapCoordTextX(<span class="source_int">6</span>)=<span class="source_string">"7"</span>
<a name="6663"></a>     MapCoordTextX(<span class="source_int">7</span>)=<span class="source_string">"8"</span>
<a name="6664"></a>     MapCoordTextX(<span class="source_int">8</span>)=<span class="source_string">"9"</span>
<a name="6665"></a>     MapCoordTextY(<span class="source_int">0</span>)=<span class="source_string">"A"</span>
<a name="6666"></a>     MapCoordTextY(<span class="source_int">1</span>)=<span class="source_string">"B"</span>
<a name="6667"></a>     MapCoordTextY(<span class="source_int">2</span>)=<span class="source_string">"C"</span>
<a name="6668"></a>     MapCoordTextY(<span class="source_int">3</span>)=<span class="source_string">"D"</span>
<a name="6669"></a>     MapCoordTextY(<span class="source_int">4</span>)=<span class="source_string">"E"</span>
<a name="6670"></a>     MapCoordTextY(<span class="source_int">5</span>)=<span class="source_string">"F"</span>
<a name="6671"></a>     MapCoordTextY(<span class="source_int">6</span>)=<span class="source_string">"G"</span>
<a name="6672"></a>     MapCoordTextY(<span class="source_int">7</span>)=<span class="source_string">"H"</span>
<a name="6673"></a>     MapCoordTextY(<span class="source_int">8</span>)=<span class="source_string">"I"</span>
<a name="6674"></a>     LegendAxisObjectiveText=<span class="source_string">"Axis-controlled obj."</span>
<a name="6675"></a>     LegendAlliesObjectiveText=<span class="source_string">"Allies-controlled obj."</span>
<a name="6676"></a>     LegendNeutralObjectiveText=<span class="source_string">"Neutral objective"</span>
<a name="6677"></a>     LegendArtilleryRadioText=<span class="source_string">"Artillery radio"</span>
<a name="6678"></a>     LegendResupplyAreaText=<span class="source_string">"Resupply area"</span>
<a name="6679"></a>     LegendRallyPointText=<span class="source_string">"Rally point"</span>
<a name="6680"></a>     LegendSavedArtilleryText=<span class="source_string">"Saved artillery coords."</span>
<a name="6681"></a>     LegendOrderTargetText=<span class="source_string">"Ordered target obj."</span>
<a name="6682"></a>     LegendArtyStrikeText=<span class="source_string">"Artillery strike"</span>
<a name="6683"></a>     LegendHelpRequestText=<span class="source_string">"Help requested at obj."</span>
<a name="6684"></a>     LegendDestroyableItemText=<span class="source_string">"Destroyable target"</span>
<a name="6685"></a>     LegendDestroyedItemText=<span class="source_string">"Destroyed target"</span>
<a name="6686"></a>     LegendMGResupplyText=<span class="source_string">"MG requesting resupply"</span>
<a name="6687"></a>     LegendVehResupplyAreaText=<span class="source_string">"Vehicle resupply area"</span>
<a name="6688"></a>     LegendATGunText=<span class="source_string">"Anti Tank Gun"</span>
<a name="6689"></a>     SmallFontArrayNames(<span class="source_int">0</span>)=<span class="source_string">"ROFontsTwo.ROArial24DS"</span>
<a name="6690"></a>     SmallFontArrayNames(<span class="source_int">1</span>)=<span class="source_string">"ROFontsTwo.ROArial24DS"</span>
<a name="6691"></a>     SmallFontArrayNames(<span class="source_int">2</span>)=<span class="source_string">"ROFontsTwo.ROArial22DS"</span>
<a name="6692"></a>     SmallFontArrayNames(<span class="source_int">3</span>)=<span class="source_string">"ROFontsTwo.ROArial22DS"</span>
<a name="6693"></a>     SmallFontArrayNames(<span class="source_int">4</span>)=<span class="source_string">"ROFontsTwo.ROArial18DS"</span>
<a name="6694"></a>     SmallFontArrayNames(<span class="source_int">5</span>)=<span class="source_string">"ROFontsTwo.ROArial14DS"</span>
<a name="6695"></a>     SmallFontArrayNames(<span class="source_int">6</span>)=<span class="source_string">"ROFontsTwo.ROArial12DS"</span>
<a name="6696"></a>     SmallFontArrayNames(<span class="source_int">7</span>)=<span class="source_string">"ROFontsTwo.ROArial9DS"</span>
<a name="6697"></a>     SmallFontArrayNames(<span class="source_int">8</span>)=<span class="source_string">"ROFontsTwo.ROArial7DS"</span>
<a name="6698"></a>     MenuFontArrayNames(<span class="source_int">0</span>)=<span class="source_string">"ROFonts.ROBtsrmVr18"</span>
<a name="6699"></a>     MenuFontArrayNames(<span class="source_int">1</span>)=<span class="source_string">"ROFonts.ROBtsrmVr14"</span>
<a name="6700"></a>     MenuFontArrayNames(<span class="source_int">2</span>)=<span class="source_string">"ROFonts.ROBtsrmVr12"</span>
<a name="6701"></a>     MenuFontArrayNames(<span class="source_int">3</span>)=<span class="source_string">"ROFonts.ROBtsrmVr9"</span>
<a name="6702"></a>     MenuFontArrayNames(<span class="source_int">4</span>)=<span class="source_string">"ROFonts.ROBtsrmVr7"</span>
<a name="6703"></a>     CriticalMsgFontArrayNames(<span class="source_int">0</span>)=<span class="source_string">"ROFonts.ROArial28"</span>
<a name="6704"></a>     CriticalMsgFontArrayNames(<span class="source_int">1</span>)=<span class="source_string">"ROFonts.ROArial26"</span>
<a name="6705"></a>     CriticalMsgFontArrayNames(<span class="source_int">2</span>)=<span class="source_string">"ROFonts.ROArial24"</span>
<a name="6706"></a>     CriticalMsgFontArrayNames(<span class="source_int">3</span>)=<span class="source_string">"ROFonts.ROArial22"</span>
<a name="6707"></a>     CriticalMsgFontArrayNames(<span class="source_int">4</span>)=<span class="source_string">"ROFonts.ROArial18"</span>
<a name="6708"></a>     CriticalMsgFontArrayNames(<span class="source_int">5</span>)=<span class="source_string">"ROFonts.ROArial16"</span>
<a name="6709"></a>     CriticalMsgFontArrayNames(<span class="source_int">6</span>)=<span class="source_string">"ROFonts.ROArial14"</span>
<a name="6710"></a>     CriticalMsgFontArrayNames(<span class="source_int">7</span>)=<span class="source_string">"ROFonts.ROArial12"</span>
<a name="6711"></a>     CriticalMsgFontArrayNames(<span class="source_int">8</span>)=<span class="source_string">"ROFonts.ROArial9"</span>
<a name="6712"></a>     SideColors(<span class="source_int">0</span>)=(<span class="source_type">B</span>=<span class="source_int">128</span>,G=<span class="source_int">128</span>,<span class="source_type">R</span>=<span class="source_int">64</span>,<span class="source_type">A</span>=<span class="source_int">255</span>)
<a name="6713"></a>     SideColors(<span class="source_int">1</span>)=(<span class="source_type">B</span>=<span class="source_int">64</span>,G=<span class="source_int">64</span>,<span class="source_type">R</span>=<span class="source_int">192</span>,<span class="source_type">A</span>=<span class="source_int">255</span>)
<a name="6714"></a>     Digits=(DigitTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.numbers'</span>,TextureCoords[<span class="source_int">0</span>]=(X1=<span class="source_int">15</span>,X2=<span class="source_int">47</span>,Y2=<span class="source_int">63</span>),TextureCoords[<span class="source_int">1</span>]=(X1=<span class="source_int">79</span>,X2=<span class="source_int">111</span>,Y2=<span class="source_int">63</span>),TextureCoords[<span class="source_int">2</span>]=(X1=<span class="source_int">143</span>,X2=<span class="source_int">175</span>,Y2=<span class="source_int">63</span>),TextureCoords[<span class="source_int">3</span>]=(X1=<span class="source_int">207</span>,X2=<span class="source_int">239</span>,Y2=<span class="source_int">63</span>),TextureCoords[<span class="source_int">4</span>]=(X1=<span class="source_int">15</span>,Y1=<span class="source_int">64</span>,X2=<span class="source_int">47</span>,Y2=<span class="source_int">127</span>),TextureCoords[<span class="source_int">5</span>]=(X1=<span class="source_int">79</span>,Y1=<span class="source_int">64</span>,X2=<span class="source_int">111</span>,Y2=<span class="source_int">127</span>),TextureCoords[<span class="source_int">6</span>]=(X1=<span class="source_int">143</span>,Y1=<span class="source_int">64</span>,X2=<span class="source_int">175</span>,Y2=<span class="source_int">127</span>),TextureCoords[<span class="source_int">7</span>]=(X1=<span class="source_int">207</span>,Y1=<span class="source_int">64</span>,X2=<span class="source_int">239</span>,Y2=<span class="source_int">127</span>),TextureCoords[<span class="source_int">8</span>]=(X1=<span class="source_int">15</span>,Y1=<span class="source_int">128</span>,X2=<span class="source_int">47</span>,Y2=<span class="source_int">191</span>),TextureCoords[<span class="source_int">9</span>]=(X1=<span class="source_int">79</span>,Y1=<span class="source_int">128</span>,X2=<span class="source_int">111</span>,Y2=<span class="source_int">191</span>),TextureCoords[<span class="source_int">10</span>]=(X1=<span class="source_int">143</span>,Y1=<span class="source_int">128</span>,X2=<span class="source_int">175</span>,Y2=<span class="source_int">191</span>))
<a name="6715"></a>     HealthFigure=(RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">127</span>,Y2=<span class="source_int">255</span>),TextureScale=<span class="source_int">0.300000</span>,DrawPivot=DP_LowerLeft,PosY=<span class="source_int">1.000000</span>,OffsetX=<span class="source_int">8</span>,OffsetY=-<span class="source_int">8</span>,ScaleMode=SM_Up,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6716"></a>     HealthFigureBackground=(RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">127</span>,Y2=<span class="source_int">255</span>),TextureScale=<span class="source_int">0.300000</span>,DrawPivot=DP_LowerLeft,PosY=<span class="source_int">1.000000</span>,OffsetX=<span class="source_int">8</span>,OffsetY=-<span class="source_int">8</span>,ScaleMode=SM_Up,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6717"></a>     HealthFigureStamina=(RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">127</span>,Y2=<span class="source_int">255</span>),TextureScale=<span class="source_int">0.300000</span>,DrawPivot=DP_LowerLeft,PosY=<span class="source_int">1.000000</span>,OffsetX=<span class="source_int">8</span>,OffsetY=-<span class="source_int">8</span>,ScaleMode=SM_Up,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6718"></a>     StanceIcon=(RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">127</span>,Y2=<span class="source_int">127</span>),TextureScale=<span class="source_int">0.250000</span>,DrawPivot=DP_LowerLeft,PosY=<span class="source_int">1.000000</span>,OffsetX=<span class="source_int">155</span>,OffsetY=-<span class="source_int">15</span>,ScaleMode=SM_Right,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6719"></a>     AmmoCount=(RenderStyle=STY_Alpha,MinDigitCount=<span class="source_int">1</span>,TextureScale=<span class="source_int">0.250000</span>,DrawPivot=DP_LowerLeft,PosY=<span class="source_int">1.000000</span>,OffsetX=<span class="source_int">440</span>,OffsetY=-<span class="source_int">55</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6720"></a>     AmmoIcon=(RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">127</span>,Y2=<span class="source_int">127</span>),TextureScale=<span class="source_int">0.300000</span>,DrawPivot=DP_LowerLeft,PosY=<span class="source_int">1.000000</span>,OffsetX=<span class="source_int">240</span>,OffsetY=-<span class="source_int">7</span>,ScaleMode=SM_Right,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6721"></a>     AutoFireIcon=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt2_tex.HUD.firemode_auto'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">127</span>,Y2=<span class="source_int">31</span>),TextureScale=<span class="source_int">0.300000</span>,DrawPivot=DP_LowerLeft,PosY=<span class="source_int">1.000000</span>,OffsetX=<span class="source_int">275</span>,OffsetY=-<span class="source_int">140</span>,ScaleMode=SM_Right,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6722"></a>     SemiFireIcon=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt2_tex.HUD.firemode_semi'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">127</span>,Y2=<span class="source_int">31</span>),TextureScale=<span class="source_int">0.300000</span>,DrawPivot=DP_LowerLeft,PosY=<span class="source_int">1.000000</span>,OffsetX=<span class="source_int">275</span>,OffsetY=-<span class="source_int">140</span>,ScaleMode=SM_Right,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6723"></a>     MGDeployIcon=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.MGDeploy'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">63</span>,Y2=<span class="source_int">63</span>),TextureScale=<span class="source_int">0.450000</span>,DrawPivot=DP_LowerRight,PosX=<span class="source_int">1.000000</span>,PosY=<span class="source_int">1.000000</span>,OffsetX=-<span class="source_int">8</span>,OffsetY=-<span class="source_int">144</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6724"></a>     ResupplyZoneNormalPlayerIcon=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_Icons'</span>,RenderStyle=STY_Alpha,TextureCoords=(X1=<span class="source_int">192</span>,Y1=<span class="source_int">192</span>,X2=<span class="source_int">255</span>,Y2=<span class="source_int">255</span>),TextureScale=<span class="source_int">0.450000</span>,DrawPivot=DP_LowerRight,PosX=<span class="source_int">1.000000</span>,PosY=<span class="source_int">1.000000</span>,OffsetX=-<span class="source_int">8</span>,OffsetY=-<span class="source_int">200</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">128</span>,G=<span class="source_int">128</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">128</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">128</span>,G=<span class="source_int">128</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">128</span>))
<a name="6725"></a>     ResupplyZoneNormalVehicleIcon=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_Icons'</span>,RenderStyle=STY_Alpha,TextureCoords=(X1=<span class="source_int">128</span>,Y1=<span class="source_int">64</span>,X2=<span class="source_int">191</span>,Y2=<span class="source_int">127</span>),TextureScale=<span class="source_int">0.450000</span>,DrawPivot=DP_LowerRight,PosX=<span class="source_int">1.000000</span>,PosY=<span class="source_int">1.000000</span>,OffsetX=-<span class="source_int">8</span>,OffsetY=-<span class="source_int">144</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">128</span>,G=<span class="source_int">128</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">128</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">128</span>,G=<span class="source_int">128</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">128</span>))
<a name="6726"></a>     ResupplyZoneResupplyingPlayerIcon=(WidgetTexture=<span class="source_type"><a href="../engine/finalblend.html" class="source">FinalBlend</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_icons_fast_flash'</span>,RenderStyle=STY_Alpha,TextureCoords=(X1=<span class="source_int">192</span>,Y1=<span class="source_int">192</span>,X2=<span class="source_int">255</span>,Y2=<span class="source_int">255</span>),TextureScale=<span class="source_int">0.450000</span>,DrawPivot=DP_LowerRight,PosX=<span class="source_int">1.000000</span>,PosY=<span class="source_int">1.000000</span>,OffsetX=-<span class="source_int">8</span>,OffsetY=-<span class="source_int">200</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6727"></a>     ResupplyZoneResupplyingVehicleIcon=(WidgetTexture=<span class="source_type"><a href="../engine/finalblend.html" class="source">FinalBlend</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_icons_fast_flash'</span>,RenderStyle=STY_Alpha,TextureCoords=(X1=<span class="source_int">128</span>,Y1=<span class="source_int">64</span>,X2=<span class="source_int">191</span>,Y2=<span class="source_int">127</span>),TextureScale=<span class="source_int">0.450000</span>,DrawPivot=DP_LowerRight,PosX=<span class="source_int">1.000000</span>,PosY=<span class="source_int">1.000000</span>,OffsetX=-<span class="source_int">8</span>,OffsetY=-<span class="source_int">144</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6728"></a>     WeaponCanRestIcon=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.MGDeploy'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">63</span>,Y2=<span class="source_int">63</span>),TextureScale=<span class="source_int">0.450000</span>,DrawPivot=DP_LowerRight,PosX=<span class="source_int">1.000000</span>,PosY=<span class="source_int">1.000000</span>,OffsetX=-<span class="source_int">8</span>,OffsetY=-<span class="source_int">144</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">100</span>,G=<span class="source_int">100</span>,<span class="source_type">R</span>=<span class="source_int">100</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">100</span>,G=<span class="source_int">100</span>,<span class="source_type">R</span>=<span class="source_int">100</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6729"></a>     WeaponRestingIcon=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.MGDeploy'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">63</span>,Y2=<span class="source_int">63</span>),TextureScale=<span class="source_int">0.450000</span>,DrawPivot=DP_LowerRight,PosX=<span class="source_int">1.000000</span>,PosY=<span class="source_int">1.000000</span>,OffsetX=-<span class="source_int">8</span>,OffsetY=-<span class="source_int">144</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6730"></a>     CompassBase=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.Compass2_main'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">255</span>,Y2=<span class="source_int">255</span>),TextureScale=<span class="source_int">0.150000</span>,DrawPivot=DP_LowerRight,PosX=<span class="source_int">1.000000</span>,PosY=<span class="source_int">1.000000</span>,OffsetX=-<span class="source_int">3</span>,OffsetY=<span class="source_int">3</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6731"></a>     CompassNeedle=(WidgetTexture=<span class="source_type"><a href="../engine/texrotator.html" class="source">TexRotator</a></span><span class="source_name">'InterfaceArt_tex.HUD.TexRotator0'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">255</span>,Y2=<span class="source_int">255</span>),TextureScale=<span class="source_int">0.155000</span>,DrawPivot=DP_MiddleMiddle,PosX=<span class="source_int">1.000000</span>,PosY=<span class="source_int">1.000000</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6732"></a>     CompassIcons=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_Icons'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">31</span>,Y2=<span class="source_int">31</span>),TextureScale=<span class="source_int">0.030000</span>,DrawPivot=DP_MiddleMiddle,PosX=<span class="source_int">1.000000</span>,PosY=<span class="source_int">1.000000</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6733"></a>     WeaponReloadingColor=(<span class="source_type">B</span>=<span class="source_int">128</span>,G=<span class="source_int">128</span>,<span class="source_type">R</span>=<span class="source_int">128</span>,<span class="source_type">A</span>=<span class="source_int">128</span>)
<a name="6734"></a>     NationHealthFigures(<span class="source_int">0</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.ger_player'</span>
<a name="6735"></a>     NationHealthFigures(<span class="source_int">1</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.rus_player'</span>
<a name="6736"></a>     NationHealthFiguresBackground(<span class="source_int">0</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.ger_player_background'</span>
<a name="6737"></a>     NationHealthFiguresBackground(<span class="source_int">1</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.rus_player_background'</span>
<a name="6738"></a>     NationHealthFiguresStamina(<span class="source_int">0</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.ger_player_Stamina'</span>
<a name="6739"></a>     NationHealthFiguresStamina(<span class="source_int">1</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.rus_player_Stamina'</span>
<a name="6740"></a>     NationHealthFiguresStaminaCritical(<span class="source_int">0</span>)=<span class="source_type"><a href="../engine/finalblend.html" class="source">FinalBlend</a></span><span class="source_name">'InterfaceArt_tex.HUD.ger_player_Stamina_critical'</span>
<a name="6741"></a>     NationHealthFiguresStaminaCritical(<span class="source_int">1</span>)=<span class="source_type"><a href="../engine/finalblend.html" class="source">FinalBlend</a></span><span class="source_name">'InterfaceArt_tex.HUD.rus_player_Stamina_critical'</span>
<a name="6742"></a>     StanceStanding=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.stance_stand'</span>
<a name="6743"></a>     StanceCrouch=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.stance_crouch'</span>
<a name="6744"></a>     StanceProne=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.stance_prone'</span>
<a name="6745"></a>     PlayerArrowTexture=<span class="source_type"><a href="../engine/finalblend.html" class="source">FinalBlend</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.arrowhead_final'</span>
<a name="6746"></a>     ObituaryLifeSpan=<span class="source_int">8.000000</span>
<a name="6747"></a>     FadeTime=-<span class="source_int">1.000000</span>
<a name="6748"></a>     WhiteFlashTime=<span class="source_int">0.500000</span>
<a name="6749"></a>     MapUpdatedIcon=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.situation_map_icon'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">64</span>,Y2=<span class="source_int">64</span>),TextureScale=<span class="source_int">0.050000</span>,DrawPivot=DP_LowerMiddle,PosX=<span class="source_int">0.850000</span>,PosY=<span class="source_int">1.000000</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6750"></a>     MapUpdatedText=(RenderStyle=STY_Alpha,DrawPivot=DP_LowerMiddle,PosX=<span class="source_int">0.850000</span>,PosY=<span class="source_int">1.000000</span>,WrapHeight=<span class="source_int">1.000000</span>,OffsetY=-<span class="source_int">80</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6751"></a>     MapIconsFlash=<span class="source_type"><a href="../engine/finalblend.html" class="source">FinalBlend</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_Icons_flashing'</span>
<a name="6752"></a>     MapIconsFastFlash=<span class="source_type"><a href="../engine/finalblend.html" class="source">FinalBlend</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_icons_fast_flash'</span>
<a name="6753"></a>     MapIconsAltFlash=<span class="source_type"><a href="../engine/finalblend.html" class="source">FinalBlend</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_icons_alt_flashing'</span>
<a name="6754"></a>     MapIconsAltFastFlash=<span class="source_type"><a href="../engine/finalblend.html" class="source">FinalBlend</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_icons_alt_fast_flash'</span>
<a name="6755"></a>     MaxMapUpdatedIconDisplayTime=<span class="source_int">8.000000</span>
<a name="6756"></a>     AnimateMapCurrentPosition=<span class="source_int">1.000000</span>
<a name="6757"></a>     AnimateMapSpeed=<span class="source_int">0.300000</span>
<a name="6758"></a>     MapBackground=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_background'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">1023</span>,Y2=<span class="source_int">1023</span>),TextureScale=<span class="source_int">1.000000</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">128</span>,G=<span class="source_int">128</span>,<span class="source_type">R</span>=<span class="source_int">128</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">128</span>,G=<span class="source_int">128</span>,<span class="source_type">R</span>=<span class="source_int">128</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6759"></a>     MapLegendImageCoords=(<span class="source_type">X</span>=<span class="source_int">0.040000</span>,<span class="source_type">Y</span>=<span class="source_int">0.070000</span>,XL=<span class="source_int">0.555000</span>,<span class="source_type">YL</span>=<span class="source_int">0.705000</span>)
<a name="6760"></a>     MapLevelImage=(RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">511</span>,Y2=<span class="source_int">511</span>),TextureScale=<span class="source_int">1.000000</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6761"></a>     MapTexts=(RenderStyle=STY_Alpha,DrawPivot=DP_UpperMiddle,bDrawShadow=True,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6762"></a>     MapPlayerIcon=(WidgetTexture=<span class="source_type"><a href="../engine/finalblend.html" class="source">FinalBlend</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.arrowhead_final'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">63</span>,Y2=<span class="source_int">63</span>),TextureScale=<span class="source_int">0.050000</span>,DrawPivot=DP_MiddleMiddle,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6763"></a>     MapCoordTextXWidget=(RenderStyle=STY_Alpha,DrawPivot=DP_MiddleLeft,PosY=-<span class="source_int">0.022000</span>,WrapWidth=<span class="source_int">0.100000</span>,WrapHeight=<span class="source_int">1.000000</span>,bDrawShadow=True,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">128</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">128</span>))
<a name="6764"></a>     MapCoordTextYWidget=(RenderStyle=STY_Alpha,DrawPivot=DP_MiddleLeft,PosX=-<span class="source_int">0.035000</span>,WrapWidth=<span class="source_int">0.100000</span>,WrapHeight=<span class="source_int">1.000000</span>,bDrawShadow=True,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">128</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">128</span>))
<a name="6765"></a>     MapIconTeam(<span class="source_int">0</span>)=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_Icons'</span>,RenderStyle=STY_Alpha,TextureCoords=(X1=<span class="source_int">192</span>,X2=<span class="source_int">255</span>,Y2=<span class="source_int">63</span>),TextureScale=<span class="source_int">0.050000</span>,DrawPivot=DP_MiddleMiddle,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6766"></a>     MapIconTeam(<span class="source_int">1</span>)=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_Icons'</span>,RenderStyle=STY_Alpha,TextureCoords=(X1=<span class="source_int">128</span>,X2=<span class="source_int">191</span>,Y2=<span class="source_int">63</span>),TextureScale=<span class="source_int">0.050000</span>,DrawPivot=DP_MiddleMiddle,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6767"></a>     MapIconDispute(<span class="source_int">0</span>)=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_Icons'</span>,RenderStyle=STY_Alpha,TextureCoords=(X1=<span class="source_int">128</span>,Y1=<span class="source_int">192</span>,X2=<span class="source_int">191</span>,Y2=<span class="source_int">255</span>),TextureScale=<span class="source_int">0.050000</span>,DrawPivot=DP_MiddleMiddle,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6768"></a>     MapIconDispute(<span class="source_int">1</span>)=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_Icons'</span>,RenderStyle=STY_Alpha,TextureCoords=(Y1=<span class="source_int">192</span>,X2=<span class="source_int">63</span>,Y2=<span class="source_int">255</span>),TextureScale=<span class="source_int">0.050000</span>,DrawPivot=DP_MiddleMiddle,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6769"></a>     MapIconNeutral=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_Icons'</span>,RenderStyle=STY_Alpha,TextureCoords=(X1=<span class="source_int">64</span>,X2=<span class="source_int">127</span>,Y2=<span class="source_int">63</span>),TextureScale=<span class="source_int">0.050000</span>,DrawPivot=DP_MiddleMiddle,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6770"></a>     MapIconRadio=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_Icons'</span>,RenderStyle=STY_Alpha,TextureCoords=(X1=<span class="source_int">64</span>,Y1=<span class="source_int">192</span>,X2=<span class="source_int">127</span>,Y2=<span class="source_int">255</span>),TextureScale=<span class="source_int">0.050000</span>,DrawPivot=DP_MiddleMiddle,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6771"></a>     MapIconRally(<span class="source_int">0</span>)=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_Icons'</span>,RenderStyle=STY_Alpha,TextureCoords=(X1=<span class="source_int">64</span>,Y1=<span class="source_int">128</span>,X2=<span class="source_int">127</span>,Y2=<span class="source_int">191</span>),TextureScale=<span class="source_int">0.050000</span>,DrawPivot=DP_MiddleMiddle,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6772"></a>     MapIconRally(<span class="source_int">1</span>)=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_Icons'</span>,RenderStyle=STY_Alpha,TextureCoords=(Y1=<span class="source_int">128</span>,X2=<span class="source_int">63</span>,Y2=<span class="source_int">191</span>),TextureScale=<span class="source_int">0.050000</span>,DrawPivot=DP_MiddleMiddle,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6773"></a>     MapIconResupply=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_Icons'</span>,RenderStyle=STY_Alpha,TextureCoords=(X1=<span class="source_int">192</span>,Y1=<span class="source_int">192</span>,X2=<span class="source_int">255</span>,Y2=<span class="source_int">255</span>),TextureScale=<span class="source_int">0.050000</span>,DrawPivot=DP_MiddleMiddle,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6774"></a>     MapIconVehicleResupply=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_Icons'</span>,RenderStyle=STY_Alpha,TextureCoords=(X1=<span class="source_int">128</span>,Y1=<span class="source_int">64</span>,X2=<span class="source_int">191</span>,Y2=<span class="source_int">127</span>),TextureScale=<span class="source_int">0.050000</span>,DrawPivot=DP_MiddleMiddle,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6775"></a>     MapIconHelpRequest=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_Icons'</span>,RenderStyle=STY_Alpha,TextureCoords=(X1=<span class="source_int">192</span>,Y1=<span class="source_int">64</span>,X2=<span class="source_int">255</span>,Y2=<span class="source_int">127</span>),TextureScale=<span class="source_int">0.050000</span>,DrawPivot=DP_MiddleMiddle,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6776"></a>     MapIconMGResupplyRequest(<span class="source_int">0</span>)=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_Icons'</span>,RenderStyle=STY_Alpha,TextureCoords=(X1=<span class="source_int">192</span>,Y1=<span class="source_int">128</span>,X2=<span class="source_int">255</span>,Y2=<span class="source_int">191</span>),TextureScale=<span class="source_int">0.050000</span>,DrawPivot=DP_MiddleMiddle,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6777"></a>     MapIconMGResupplyRequest(<span class="source_int">1</span>)=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_Icons'</span>,RenderStyle=STY_Alpha,TextureCoords=(X1=<span class="source_int">128</span>,Y1=<span class="source_int">128</span>,X2=<span class="source_int">191</span>,Y2=<span class="source_int">191</span>),TextureScale=<span class="source_int">0.050000</span>,DrawPivot=DP_MiddleMiddle,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6778"></a>     MapIconAttackDefendRequest=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_Icons'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">63</span>,Y2=<span class="source_int">63</span>),TextureScale=<span class="source_int">0.050000</span>,DrawPivot=DP_MiddleMiddle,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6779"></a>     MapIconArtyStrike=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_Icons'</span>,RenderStyle=STY_Alpha,TextureCoords=(Y1=<span class="source_int">64</span>,X2=<span class="source_int">63</span>,Y2=<span class="source_int">127</span>),TextureScale=<span class="source_int">0.050000</span>,DrawPivot=DP_MiddleMiddle,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6780"></a>     MapIconDestroyableItem=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_Icons'</span>,RenderStyle=STY_Alpha,TextureCoords=(X1=<span class="source_int">64</span>,Y1=<span class="source_int">64</span>,X2=<span class="source_int">127</span>,Y2=<span class="source_int">127</span>),TextureScale=<span class="source_int">0.050000</span>,DrawPivot=DP_MiddleMiddle,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6781"></a>     MapIconDestroyedItem=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.OverheadMap.overheadmap_Icons'</span>,RenderStyle=STY_Alpha,TextureCoords=(X1=<span class="source_int">64</span>,Y1=<span class="source_int">64</span>,X2=<span class="source_int">127</span>,Y2=<span class="source_int">127</span>),TextureScale=<span class="source_int">0.050000</span>,DrawPivot=DP_MiddleMiddle,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">128</span>,G=<span class="source_int">128</span>,<span class="source_type">R</span>=<span class="source_int">128</span>,<span class="source_type">A</span>=<span class="source_int">128</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">128</span>,G=<span class="source_int">128</span>,<span class="source_type">R</span>=<span class="source_int">128</span>,<span class="source_type">A</span>=<span class="source_int">128</span>))
<a name="6782"></a>     MapIconATGun=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt2_tex.overheadmaps.overheadmap_IconsB'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">63</span>,Y2=<span class="source_int">63</span>),TextureScale=<span class="source_int">0.050000</span>,DrawPivot=DP_MiddleMiddle,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6783"></a>     MapTimerTitle=(<span class="source_type">Text</span>=<span class="source_string">"Time Remaining"</span>,RenderStyle=STY_Alpha,DrawPivot=DP_MiddleMiddle,PosX=<span class="source_int">0.810000</span>,PosY=<span class="source_int">0.055000</span>,WrapHeight=<span class="source_int">1.000000</span>,bDrawShadow=True,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>))
<a name="6784"></a>     MapTimerTexts(<span class="source_int">0</span>)=(RenderStyle=STY_Alpha,DrawPivot=DP_MiddleMiddle,PosX=<span class="source_int">0.748000</span>,PosY=<span class="source_int">0.115000</span>,WrapHeight=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>))
<a name="6785"></a>     MapTimerTexts(<span class="source_int">1</span>)=(RenderStyle=STY_Alpha,DrawPivot=DP_MiddleMiddle,PosX=<span class="source_int">0.785000</span>,PosY=<span class="source_int">0.115000</span>,WrapHeight=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>))
<a name="6786"></a>     MapTimerTexts(<span class="source_int">2</span>)=(RenderStyle=STY_Alpha,DrawPivot=DP_MiddleMiddle,PosX=<span class="source_int">0.832000</span>,PosY=<span class="source_int">0.115000</span>,WrapHeight=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>))
<a name="6787"></a>     MapTimerTexts(<span class="source_int">3</span>)=(RenderStyle=STY_Alpha,DrawPivot=DP_MiddleMiddle,PosX=<span class="source_int">0.870000</span>,PosY=<span class="source_int">0.115000</span>,WrapHeight=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>))
<a name="6788"></a>     MapLegendCoords=(<span class="source_type">X</span>=<span class="source_int">0.015000</span>,<span class="source_type">Y</span>=<span class="source_int">0.850000</span>,XL=<span class="source_int">0.970000</span>,<span class="source_type">YL</span>=<span class="source_int">0.110000</span>)
<a name="6789"></a>     MapLegend=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'Engine.WhiteSquareTexture'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">63</span>,Y2=<span class="source_int">63</span>),TextureScale=<span class="source_int">1.000000</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">64</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">64</span>))
<a name="6790"></a>     MapLegendIcons=(RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">31</span>,Y2=<span class="source_int">31</span>),TextureScale=<span class="source_int">0.300000</span>,DrawPivot=DP_MiddleLeft,PosX=<span class="source_int">0.050000</span>,PosY=<span class="source_int">0.100000</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6791"></a>     MapLegendTitle=(<span class="source_type">Text</span>=<span class="source_string">"Legend"</span>,RenderStyle=STY_Alpha,DrawPivot=DP_MiddleLeft,PosX=<span class="source_int">0.007000</span>,PosY=<span class="source_int">0.150000</span>,WrapWidth=<span class="source_int">0.900000</span>,WrapHeight=<span class="source_int">0.100000</span>,bDrawShadow=True,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>))
<a name="6792"></a>     MapLegendTexts=(RenderStyle=STY_Alpha,DrawPivot=DP_MiddleLeft,PosX=<span class="source_int">0.150000</span>,PosY=<span class="source_int">0.100000</span>,WrapWidth=<span class="source_int">0.800000</span>,WrapHeight=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>))
<a name="6793"></a>     MapObjectivesCoords=(<span class="source_type">X</span>=<span class="source_int">0.640000</span>,<span class="source_type">Y</span>=<span class="source_int">0.165000</span>,XL=<span class="source_int">0.345000</span>,<span class="source_type">YL</span>=<span class="source_int">0.640000</span>)
<a name="6794"></a>     MapObjectivesTitle=(<span class="source_type">Text</span>=<span class="source_string">"Objectives"</span>,RenderStyle=STY_Alpha,DrawPivot=DP_MiddleLeft,PosX=<span class="source_int">0.025000</span>,PosY=<span class="source_int">0.026000</span>,WrapWidth=<span class="source_int">0.500000</span>,WrapHeight=<span class="source_int">0.100000</span>,bDrawShadow=True,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>))
<a name="6795"></a>     MapRequiredObjectivesTitle=(<span class="source_type">Text</span>=<span class="source_string">"Required Objectives"</span>,RenderStyle=STY_Alpha,DrawPivot=DP_MiddleLeft,PosX=<span class="source_int">0.025000</span>,PosY=<span class="source_int">0.026000</span>,WrapWidth=<span class="source_int">0.500000</span>,WrapHeight=<span class="source_int">0.100000</span>,bDrawShadow=True,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>))
<a name="6796"></a>     MapSecondaryObjectivesTitle=(<span class="source_type">Text</span>=<span class="source_string">"Secondary Objectives"</span>,RenderStyle=STY_Alpha,PosX=<span class="source_int">0.025000</span>,PosY=<span class="source_int">0.026000</span>,WrapWidth=<span class="source_int">0.900000</span>,WrapHeight=<span class="source_int">1.000000</span>,bDrawShadow=True,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>))
<a name="6797"></a>     MapObjectivesTexts=(RenderStyle=STY_Alpha,PosX=<span class="source_int">0.050000</span>,PosY=<span class="source_int">0.100000</span>,WrapWidth=<span class="source_int">0.900000</span>,WrapHeight=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>))
<a name="6798"></a>     PortraitIcon=(RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">63</span>,Y2=<span class="source_int">63</span>),TextureScale=<span class="source_int">0.060000</span>,DrawPivot=DP_MiddleLeft,PosY=<span class="source_int">0.500000</span>,OffsetX=<span class="source_int">80</span>,ScaleMode=SM_Right,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6799"></a>     PortraitText(<span class="source_int">0</span>)=(RenderStyle=STY_Alpha,DrawPivot=DP_LowerLeft,PosY=<span class="source_int">0.500000</span>,OffsetX=<span class="source_int">8</span>,bDrawShadow=True,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6800"></a>     PortraitText(<span class="source_int">1</span>)=(RenderStyle=STY_Alpha,PosY=<span class="source_int">0.500000</span>,OffsetX=<span class="source_int">8</span>,bDrawShadow=True,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6801"></a>     NeedleRotator=<span class="source_type"><a href="../engine/texrotator.html" class="source">TexRotator</a></span><span class="source_name">'InterfaceArt_tex.HUD.Needle_rot'</span>
<a name="6802"></a>     VoiceMeterBackground=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.VUMeter'</span>
<a name="6803"></a>     VoiceMeterX=<span class="source_int">0.725000</span>
<a name="6804"></a>     VoiceMeterY=<span class="source_int">1.000000</span>
<a name="6805"></a>     VoiceMeterSize=<span class="source_int">100.000000</span>
<a name="6806"></a>     compassStabilizationConstant=<span class="source_int">2.000000</span>
<a name="6807"></a>     compassIconsFadeSpeed=<span class="source_int">0.150000</span>
<a name="6808"></a>     compassIconsRefreshSpeed=<span class="source_int">0.700000</span>
<a name="6809"></a>     compassIconsPositionRadius=<span class="source_int">0.800000</span>
<a name="6810"></a>     locationHitAxisImages(<span class="source_int">0</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.ger_hit_head'</span>
<a name="6811"></a>     locationHitAxisImages(<span class="source_int">1</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.ger_hit_torso'</span>
<a name="6812"></a>     locationHitAxisImages(<span class="source_int">2</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.ger_hit_Pelvis'</span>
<a name="6813"></a>     locationHitAxisImages(<span class="source_int">3</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.ger_hit_Lupperleg'</span>
<a name="6814"></a>     locationHitAxisImages(<span class="source_int">4</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.ger_hit_Rupperleg'</span>
<a name="6815"></a>     locationHitAxisImages(<span class="source_int">5</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.ger_hit_Lupperarm'</span>
<a name="6816"></a>     locationHitAxisImages(<span class="source_int">6</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.ger_hit_Rupperarm'</span>
<a name="6817"></a>     locationHitAxisImages(<span class="source_int">7</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.ger_hit_Llowerleg'</span>
<a name="6818"></a>     locationHitAxisImages(<span class="source_int">8</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.ger_hit_Rlowerleg'</span>
<a name="6819"></a>     locationHitAxisImages(<span class="source_int">9</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.ger_hit_Llowerarm'</span>
<a name="6820"></a>     locationHitAxisImages(<span class="source_int">10</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.ger_hit_Rlowerarm'</span>
<a name="6821"></a>     locationHitAxisImages(<span class="source_int">11</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.ger_hit_Lhand'</span>
<a name="6822"></a>     locationHitAxisImages(<span class="source_int">12</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.ger_hit_Rhand'</span>
<a name="6823"></a>     locationHitAxisImages(<span class="source_int">13</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.ger_hit_Lfoot'</span>
<a name="6824"></a>     locationHitAxisImages(<span class="source_int">14</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.ger_hit_Rfoot'</span>
<a name="6825"></a>     locationHitAlliesImages(<span class="source_int">0</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.rus_hit_head'</span>
<a name="6826"></a>     locationHitAlliesImages(<span class="source_int">1</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.rus_hit_torso'</span>
<a name="6827"></a>     locationHitAlliesImages(<span class="source_int">2</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.rus_hit_pelvis'</span>
<a name="6828"></a>     locationHitAlliesImages(<span class="source_int">3</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.rus_hit_Lupperleg'</span>
<a name="6829"></a>     locationHitAlliesImages(<span class="source_int">4</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.rus_hit_Rupperleg'</span>
<a name="6830"></a>     locationHitAlliesImages(<span class="source_int">5</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.rus_hit_Lupperarm'</span>
<a name="6831"></a>     locationHitAlliesImages(<span class="source_int">6</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.rus_hit_Rupperarm'</span>
<a name="6832"></a>     locationHitAlliesImages(<span class="source_int">7</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.rus_hit_Llowerleg'</span>
<a name="6833"></a>     locationHitAlliesImages(<span class="source_int">8</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.rus_hit_Rlowerleg'</span>
<a name="6834"></a>     locationHitAlliesImages(<span class="source_int">9</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.rus_hit_Llowerarm'</span>
<a name="6835"></a>     locationHitAlliesImages(<span class="source_int">10</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.rus_hit_Rlowerarm'</span>
<a name="6836"></a>     locationHitAlliesImages(<span class="source_int">11</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.rus_hit_Lhand'</span>
<a name="6837"></a>     locationHitAlliesImages(<span class="source_int">12</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.rus_hit_Rhand'</span>
<a name="6838"></a>     locationHitAlliesImages(<span class="source_int">13</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.rus_hit_LFoot'</span>
<a name="6839"></a>     locationHitAlliesImages(<span class="source_int">14</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Player_hits.rus_hit_RFoot'</span>
<a name="6840"></a>     MouseInterfaceIcon=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Cursors.Pointer'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">31</span>,Y2=<span class="source_int">31</span>),TextureScale=<span class="source_int">1.000000</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6841"></a>     VehicleIconCoords=(<span class="source_type">Y</span>=<span class="source_int">1.000000</span>,<span class="source_type">YL</span>=<span class="source_int">0.200000</span>)
<a name="6842"></a>     VehicleIcon=(RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">255</span>,Y2=<span class="source_int">255</span>),TextureScale=<span class="source_int">1.000000</span>,DrawPivot=DP_MiddleMiddle,PosX=<span class="source_int">0.500000</span>,PosY=<span class="source_int">0.500000</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6843"></a>     VehicleIconAlt=(RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">511</span>,Y2=<span class="source_int">511</span>),TextureScale=<span class="source_int">2.000000</span>,DrawPivot=DP_MiddleMiddle,PosX=<span class="source_int">0.500000</span>,PosY=<span class="source_int">0.500000</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6844"></a>     VehicleThreads(<span class="source_int">0</span>)=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Tank_Hud.tread_left'</span>,RenderStyle=STY_Alpha,TextureCoords=(X1=<span class="source_int">23</span>,Y1=<span class="source_int">2</span>,X2=<span class="source_int">37</span>,Y2=<span class="source_int">125</span>),TextureScale=<span class="source_int">1.000000</span>,DrawPivot=DP_MiddleMiddle,PosX=<span class="source_int">0.500000</span>,PosY=<span class="source_int">0.500000</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">128</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">128</span>))
<a name="6845"></a>     VehicleThreads(<span class="source_int">1</span>)=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Tank_Hud.tread_left'</span>,RenderStyle=STY_Alpha,TextureCoords=(X1=<span class="source_int">25</span>,Y1=<span class="source_int">2</span>,X2=<span class="source_int">40</span>,Y2=<span class="source_int">125</span>),TextureScale=<span class="source_int">1.000000</span>,DrawPivot=DP_MiddleMiddle,PosX=<span class="source_int">0.500000</span>,PosY=<span class="source_int">0.500000</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">128</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">128</span>))
<a name="6846"></a>     VehicleEngine=(RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">63</span>,Y2=<span class="source_int">63</span>),TextureScale=<span class="source_int">0.220000</span>,DrawPivot=DP_MiddleMiddle,PosX=<span class="source_int">0.500000</span>,PosY=<span class="source_int">0.500000</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6847"></a>     vehicleOccupants=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Tank_Hud.RedDot'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">31</span>,Y2=<span class="source_int">31</span>),TextureScale=<span class="source_int">0.120000</span>,DrawPivot=DP_MiddleMiddle,PosX=<span class="source_int">0.500000</span>,PosY=<span class="source_int">0.500000</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6848"></a>     VehicleOccupantsText=(RenderStyle=STY_Alpha,DrawPivot=DP_LowerLeft,PosX=<span class="source_int">0.150000</span>,PosY=<span class="source_int">1.000000</span>,WrapHeight=<span class="source_int">1.000000</span>,OffsetX=<span class="source_int">8</span>,OffsetY=-<span class="source_int">4</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6849"></a>     VehicleNormalColor=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>)
<a name="6850"></a>     VehicleDamagedColor=(G=<span class="source_int">222</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>)
<a name="6851"></a>     VehicleCriticalColor=(<span class="source_type">R</span>=<span class="source_int">154</span>,<span class="source_type">A</span>=<span class="source_int">255</span>)
<a name="6852"></a>     VehiclePositionIsPlayerColor=(<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>)
<a name="6853"></a>     VehiclePositionIsOccupiedColor=(<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">128</span>)
<a name="6854"></a>     VehiclePositionIsVacantColor=(<span class="source_type">A</span>=<span class="source_int">128</span>)
<a name="6855"></a>     VehicleEngineDamagedTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Tank_Hud.engine_hud'</span>
<a name="6856"></a>     VehicleEngineCriticalTexture=<span class="source_type"><a href="../engine/finalblend.html" class="source">FinalBlend</a></span><span class="source_name">'InterfaceArt_tex.Tank_Hud.engine_hud_final'</span>
<a name="6857"></a>     VehicleAmmoIcon=(RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">127</span>,Y2=<span class="source_int">255</span>),TextureScale=<span class="source_int">0.300000</span>,DrawPivot=DP_LowerLeft,PosX=<span class="source_int">0.150000</span>,PosY=<span class="source_int">1.000000</span>,OffsetY=-<span class="source_int">8</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6858"></a>     VehicleAmmoReloadIcon=(RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">127</span>,Y2=<span class="source_int">255</span>),TextureScale=<span class="source_int">0.300000</span>,DrawPivot=DP_LowerLeft,PosX=<span class="source_int">0.150000</span>,PosY=<span class="source_int">1.000000</span>,OffsetY=-<span class="source_int">8</span>,ScaleMode=SM_Up,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">0.750000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">128</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">128</span>))
<a name="6859"></a>     VehicleAmmoAmount=(RenderStyle=STY_Alpha,MinDigitCount=<span class="source_int">1</span>,TextureScale=<span class="source_int">0.250000</span>,DrawPivot=DP_LowerLeft,PosX=<span class="source_int">0.150000</span>,PosY=<span class="source_int">1.000000</span>,OffsetX=<span class="source_int">135</span>,OffsetY=-<span class="source_int">130</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6860"></a>     VehicleAmmoTypeText=(RenderStyle=STY_Alpha,DrawPivot=DP_LowerLeft,PosX=<span class="source_int">0.190000</span>,PosY=<span class="source_int">1.000000</span>,WrapHeight=<span class="source_int">1.000000</span>,OffsetX=<span class="source_int">8</span>,OffsetY=-<span class="source_int">4</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6861"></a>     VehicleOccupantsTextOffset=<span class="source_int">0.242000</span>
<a name="6862"></a>     VehicleAltAmmoIcon=(RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">127</span>,Y2=<span class="source_int">127</span>),TextureScale=<span class="source_int">0.200000</span>,DrawPivot=DP_LowerLeft,PosX=<span class="source_int">0.250000</span>,PosY=<span class="source_int">1.000000</span>,OffsetY=-<span class="source_int">8</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6863"></a>     VehicleAltAmmoAmount=(RenderStyle=STY_Alpha,MinDigitCount=<span class="source_int">1</span>,TextureScale=<span class="source_int">0.200000</span>,DrawPivot=DP_LowerLeft,PosX=<span class="source_int">0.250000</span>,PosY=<span class="source_int">1.000000</span>,OffsetX=<span class="source_int">135</span>,OffsetY=-<span class="source_int">40</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6864"></a>     VehicleAltAmmoOccupantsTextOffset=-<span class="source_int">35.000000</span>
<a name="6865"></a>     VehicleMGAmmoIcon=(RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">127</span>,Y2=<span class="source_int">127</span>),TextureScale=<span class="source_int">0.300000</span>,DrawPivot=DP_LowerLeft,PosX=<span class="source_int">0.150000</span>,PosY=<span class="source_int">1.000000</span>,OffsetY=-<span class="source_int">8</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6866"></a>     VehicleMGAmmoAmount=(RenderStyle=STY_Alpha,MinDigitCount=<span class="source_int">1</span>,TextureScale=<span class="source_int">0.250000</span>,DrawPivot=DP_LowerLeft,PosX=<span class="source_int">0.150000</span>,PosY=<span class="source_int">1.000000</span>,OffsetX=<span class="source_int">145</span>,OffsetY=-<span class="source_int">60</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6867"></a>     VehicleRPMTextures(<span class="source_int">0</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Tank_Hud.Ger_RPM'</span>
<a name="6868"></a>     VehicleRPMTextures(<span class="source_int">1</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Tank_Hud.Rus_RPM'</span>
<a name="6869"></a>     VehicleRPMNeedlesTextures(<span class="source_int">0</span>)=<span class="source_type"><a href="../engine/texrotator.html" class="source">TexRotator</a></span><span class="source_name">'InterfaceArt_tex.Tank_Hud.Ger_needle_rpm_rot'</span>
<a name="6870"></a>     VehicleRPMNeedlesTextures(<span class="source_int">1</span>)=<span class="source_type"><a href="../engine/texrotator.html" class="source">TexRotator</a></span><span class="source_name">'InterfaceArt_tex.Tank_Hud.Rus_needle_rpm_rot'</span>
<a name="6871"></a>     VehicleSpeedTextures(<span class="source_int">0</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Tank_Hud.Ger_Speedometer'</span>
<a name="6872"></a>     VehicleSpeedTextures(<span class="source_int">1</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Tank_Hud.Rus_Speedometer'</span>
<a name="6873"></a>     VehicleSpeedNeedlesTextures(<span class="source_int">0</span>)=<span class="source_type"><a href="../engine/texrotator.html" class="source">TexRotator</a></span><span class="source_name">'InterfaceArt_tex.Tank_Hud.Ger_needle_rot'</span>
<a name="6874"></a>     VehicleSpeedNeedlesTextures(<span class="source_int">1</span>)=<span class="source_type"><a href="../engine/texrotator.html" class="source">TexRotator</a></span><span class="source_name">'InterfaceArt_tex.Tank_Hud.Rus_needle_rot'</span>
<a name="6875"></a>     VehicleSpeedIndicator=(RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">255</span>,Y2=<span class="source_int">255</span>),TextureScale=<span class="source_int">0.800000</span>,DrawPivot=DP_LowerLeft,PosX=<span class="source_int">1.000000</span>,PosY=<span class="source_int">1.000000</span>,OffsetY=-<span class="source_int">4</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6876"></a>     VehicleRPMIndicator=(RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">255</span>,Y2=<span class="source_int">255</span>),TextureScale=<span class="source_int">0.600000</span>,DrawPivot=DP_LowerLeft,PosX=<span class="source_int">1.810000</span>,PosY=<span class="source_int">1.000000</span>,OffsetY=-<span class="source_int">7</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6877"></a>     VehicleThrottleIndicatorTop=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Tank_Hud.throttle_background2'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">63</span>,Y2=<span class="source_int">255</span>),TextureScale=<span class="source_int">0.600000</span>,DrawPivot=DP_LowerMiddle,PosX=<span class="source_int">2.570000</span>,PosY=<span class="source_int">1.000000</span>,OffsetY=-<span class="source_int">7</span>,ScaleMode=SM_Up,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6878"></a>     VehicleThrottleIndicatorBottom=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Tank_Hud.throttle_background2_bottom'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">63</span>,Y2=<span class="source_int">255</span>),TextureScale=<span class="source_int">0.600000</span>,DrawPivot=DP_LowerMiddle,PosX=<span class="source_int">2.570000</span>,PosY=<span class="source_int">1.000000</span>,OffsetY=-<span class="source_int">7</span>,ScaleMode=SM_Down,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6879"></a>     VehicleThrottleIndicatorBackground=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Tank_Hud.throttle_background'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">63</span>,Y2=<span class="source_int">255</span>),TextureScale=<span class="source_int">0.600000</span>,DrawPivot=DP_LowerMiddle,PosX=<span class="source_int">2.570000</span>,PosY=<span class="source_int">1.000000</span>,OffsetY=-<span class="source_int">7</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>))
<a name="6880"></a>     VehicleThrottleIndicatorForeground=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Tank_Hud.throttle_main'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">127</span>,Y2=<span class="source_int">255</span>),TextureScale=<span class="source_int">0.600000</span>,DrawPivot=DP_LowerMiddle,PosX=<span class="source_int">2.570000</span>,PosY=<span class="source_int">1.000000</span>,OffsetY=-<span class="source_int">7</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6881"></a>     VehicleThrottleIndicatorLever=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Tank_Hud.throttle_lever'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">63</span>,Y2=<span class="source_int">63</span>),TextureScale=<span class="source_int">0.200000</span>,DrawPivot=DP_MiddleRight,PosX=<span class="source_int">2.720000</span>,PosY=<span class="source_int">1.000000</span>,OffsetY=-<span class="source_int">7</span>,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6882"></a>     VehicleRPMZeroPosition(<span class="source_int">0</span>)=<span class="source_int">26000.000000</span>
<a name="6883"></a>     VehicleRPMZeroPosition(<span class="source_int">1</span>)=<span class="source_int">26000.000000</span>
<a name="6884"></a>     VehicleRPMScale(<span class="source_int">0</span>)=-<span class="source_int">1300.000000</span>
<a name="6885"></a>     VehicleRPMScale(<span class="source_int">1</span>)=-<span class="source_int">1300.000000</span>
<a name="6886"></a>     VehicleSpeedZeroPosition(<span class="source_int">0</span>)=-<span class="source_int">5500.000000</span>
<a name="6887"></a>     VehicleSpeedZeroPosition(<span class="source_int">1</span>)=<span class="source_int">26000.000000</span>
<a name="6888"></a>     VehicleSpeedScale(<span class="source_int">0</span>)=-<span class="source_int">545.000000</span>
<a name="6889"></a>     VehicleSpeedScale(<span class="source_int">1</span>)=-<span class="source_int">430.000000</span>
<a name="6890"></a>     VehicleThrottleTopZeroPosition=<span class="source_int">0.310000</span>
<a name="6891"></a>     VehicleThrottleTopMaxPosition=<span class="source_int">0.890000</span>
<a name="6892"></a>     VehicleThrottleBottomZeroPosition=<span class="source_int">0.700000</span>
<a name="6893"></a>     VehicleThrottleBottomMaxPosition=<span class="source_int">0.880000</span>
<a name="6894"></a>     VehicleGaugesOccupantsTextOffset=<span class="source_int">0.400000</span>
<a name="6895"></a>     VehicleGaugesNoThrottleOccupantsTextOffset=<span class="source_int">0.360000</span>
<a name="6896"></a>     VehicleNeedlesRotationSpeed=<span class="source_int">30000.000000</span>
<a name="6897"></a>     CaptureBarBackground=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.capbar_filled'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">255</span>,Y2=<span class="source_int">63</span>),TextureScale=<span class="source_int">0.500000</span>,DrawPivot=DP_LowerMiddle,PosX=<span class="source_int">0.500000</span>,PosY=<span class="source_int">0.980000</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6898"></a>     CaptureBarOutline=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.capbar_outline'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">255</span>,Y2=<span class="source_int">63</span>),TextureScale=<span class="source_int">0.500000</span>,DrawPivot=DP_LowerMiddle,PosX=<span class="source_int">0.500000</span>,PosY=<span class="source_int">0.980000</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6899"></a>     CaptureBarAttacker=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.capbar_bar'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">255</span>,Y2=<span class="source_int">63</span>),TextureScale=<span class="source_int">0.500000</span>,DrawPivot=DP_LowerMiddle,PosX=<span class="source_int">0.500000</span>,PosY=<span class="source_int">0.980000</span>,ScaleMode=SM_Right,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">0.450000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6900"></a>     CaptureBarDefender=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.capbar_bar'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">255</span>,Y2=<span class="source_int">63</span>),TextureScale=<span class="source_int">0.500000</span>,DrawPivot=DP_LowerMiddle,PosX=<span class="source_int">0.500000</span>,PosY=<span class="source_int">0.980000</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">0.550000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6901"></a>     CaptureBarAttackerRatio=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.capbar_bar2'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">255</span>,Y2=<span class="source_int">63</span>),TextureScale=<span class="source_int">0.500000</span>,DrawPivot=DP_LowerMiddle,PosX=<span class="source_int">0.500000</span>,PosY=<span class="source_int">0.980000</span>,ScaleMode=SM_Right,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">0.450000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6902"></a>     CaptureBarDefenderRatio=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.capbar_bar2'</span>,RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">255</span>,Y2=<span class="source_int">63</span>),TextureScale=<span class="source_int">0.500000</span>,DrawPivot=DP_LowerMiddle,PosX=<span class="source_int">0.500000</span>,PosY=<span class="source_int">0.980000</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">0.550000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6903"></a>     CaptureBarIcons(<span class="source_int">0</span>)=(RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">63</span>,Y2=<span class="source_int">63</span>),TextureScale=<span class="source_int">0.230000</span>,DrawPivot=DP_LowerMiddle,PosX=<span class="source_int">0.500000</span>,PosY=<span class="source_int">0.980000</span>,OffsetX=-<span class="source_int">216</span>,OffsetY=-<span class="source_int">38</span>,ScaleMode=SM_Right,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6904"></a>     CaptureBarIcons(<span class="source_int">1</span>)=(RenderStyle=STY_Alpha,TextureCoords=(X2=<span class="source_int">63</span>,Y2=<span class="source_int">63</span>),TextureScale=<span class="source_int">0.230000</span>,DrawPivot=DP_LowerMiddle,PosX=<span class="source_int">0.500000</span>,PosY=<span class="source_int">0.980000</span>,OffsetX=<span class="source_int">216</span>,OffsetY=-<span class="source_int">38</span>,ScaleMode=SM_Right,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6905"></a>     CaptureBarTeamIcons(<span class="source_int">0</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.ironcross'</span>
<a name="6906"></a>     CaptureBarTeamIcons(<span class="source_int">1</span>)=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.HUD.russtar'</span>
<a name="6907"></a>     CaptureBarTeamColors(<span class="source_int">0</span>)=(<span class="source_type">A</span>=<span class="source_int">255</span>)
<a name="6908"></a>     CaptureBarTeamColors(<span class="source_int">1</span>)=(<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>)
<a name="6909"></a>     HintFadeTime=<span class="source_int">0.500000</span>
<a name="6910"></a>     HintLifetime=<span class="source_int">12.000000</span>
<a name="6911"></a>     HintDesiredAspectRatio=<span class="source_int">10.000000</span>
<a name="6912"></a>     HintBackground=(WidgetTexture=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'InterfaceArt_tex.Menu.SectionHeader_captionbar'</span>,RenderStyle=STY_Alpha,DrawPivot=DP_MiddleMiddle,PosY=<span class="source_int">0.020000</span>,ScaleMode=SM_Left,<span class="source_type"><a href="../core/object.html#Scale" class="source">Scale</a></span>=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">192</span>))
<a name="6913"></a>     HintTitleWidget=(RenderStyle=STY_Alpha,WrapHeight=<span class="source_int">1.000000</span>,bDrawShadow=True,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6914"></a>     HintTextWidget=(RenderStyle=STY_Alpha,WrapHeight=<span class="source_int">1.000000</span>,Tints[<span class="source_int">0</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>),Tints[<span class="source_int">1</span>]=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>,<span class="source_type">A</span>=<span class="source_int">255</span>))
<a name="6915"></a>     HintCoords=(<span class="source_type">X</span>=<span class="source_int">0.980000</span>,<span class="source_type">Y</span>=<span class="source_int">0.030000</span>,XL=-<span class="source_int">1.000000</span>)
<a name="6916"></a>     ConsoleColor=(<span class="source_type">B</span>=<span class="source_int">255</span>,G=<span class="source_int">255</span>,<span class="source_type">R</span>=<span class="source_int">255</span>)
<a name="6917"></a>     ConsoleMessagePosX=<span class="source_int">0.010000</span>
<a name="6918"></a>     ConsoleMessagePosY=<span class="source_int">0.800000</span>
<a name="6919"></a>     FontArrayNames(<span class="source_int">0</span>)=<span class="source_string">"ROFonts.ROBtsrmVr28"</span>
<a name="6920"></a>     FontArrayNames(<span class="source_int">1</span>)=<span class="source_string">"ROFonts.ROBtsrmVr26"</span>
<a name="6921"></a>     FontArrayNames(<span class="source_int">5</span>)=<span class="source_string">"ROFonts.ROBtsrmVr16"</span>
<a name="6922"></a>     FontArrayNames(<span class="source_int">6</span>)=<span class="source_string">"ROFonts.ROBtsrmVr14"</span>
<a name="6923"></a>     FontArrayNames(<span class="source_int">7</span>)=<span class="source_string">"ROFonts.ROBtsrmVr12"</span>
<a name="6924"></a>     FontArrayNames(<span class="source_int">8</span>)=<span class="source_string">"ROFonts.ROBtsrmVr9"</span>
<a name="6925"></a>     bBlockHitPointTraces=False
<a name="6926"></a>}
<a name="6927"></a></pre></td></tr></table></div>
<hr />
<table class="header">
<tr class="header">
	<td class="header"><a href="../overview.html">Overview</a></td>
	<td class="header"><a href="../roengine/roengine-overview.html">Package</a></td>
	<td class="header"><a href="../roengine/rohud.html">Class</a></td>
	<td class="header_hilight">Source</td>
	<td class="header"><a class="header" href="../classtree.html#ROHud">Class tree</a></td>
	<td class="header"><a class="header" href="../glossary_A.html">Glossary</a></td>
	<td class="logo" rowspan="2">UnrealScript<br />Documentation</td>
</tr>
<tr>
	<td class="subheader" colspan="3"><a href="../Source_roengine/rohovertreadcraft.html">previous class</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="../Source_roengine/rolastobjectivemsg.html">next class</a></td>
	<td class="subheader" colspan="2"><a href="../index.html" target="_top">frames</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="" target="_top">no frames</a></td>
</tr>
</table>

<div class="stats">Class file time: Fri 13-10-2023 03:17:28.000 - Creation time: Fri 13-10-2023 03:19:07.092 - Created with <a href="http://wiki.beyondunreal.com/wiki/UnCodeX" target="_blank">UnCodeX</a></div>

</body>
</html>